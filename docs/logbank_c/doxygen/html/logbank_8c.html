<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>logbank_c: logbank/src/logbank.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">logbank_c
   </div>
   <div id="projectbrief">Software logging in C - Documentation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e725f4cf7830025c2724f6f641ba783e.html">logbank</a></li><li class="navelem"><a class="el" href="dir_ef3ba6607462b8d31ddf43e2d618d673.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">logbank.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;stdarg.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;time.h&gt;</code><br />
<code>#include &quot;<a class="el" href="logbank_8h_source.html">logbank/logbank.h</a>&quot;</code><br />
</div>
<p><a href="logbank_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structlog__queue__t.html">log_queue_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">type for circular queue (FIFO) used for retrieval of recent logs  <a href="structlog__queue__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad4ac1dc3e64057a34c39c4b630c653af" id="r_ad4ac1dc3e64057a34c39c4b630c653af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad4ac1dc3e64057a34c39c4b630c653af">LOG_FILE_DIR_PERM</a>&#160;&#160;&#160;(S_IRUSR | S_IWUSR | S_IXUSR | S_IRGRP | S_IWGRP | S_IXGRP | S_IROTH | S_IWOTH | S_IXOTH)</td></tr>
<tr class="memdesc:ad4ac1dc3e64057a34c39c4b630c653af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Directory permission used for creating new directories.  <br /></td></tr>
<tr class="separator:ad4ac1dc3e64057a34c39c4b630c653af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d024e32d04ee39146b0be5c79e61d34" id="r_a3d024e32d04ee39146b0be5c79e61d34"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d024e32d04ee39146b0be5c79e61d34">LOG_MKDIR</a>(dir)&#160;&#160;&#160;mkdir(dir, <a class="el" href="#ad4ac1dc3e64057a34c39c4b630c653af">LOG_FILE_DIR_PERM</a>)</td></tr>
<tr class="memdesc:a3d024e32d04ee39146b0be5c79e61d34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to create directories (posix)  <br /></td></tr>
<tr class="separator:a3d024e32d04ee39146b0be5c79e61d34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6128407d52c14b001567419568dc568" id="r_ae6128407d52c14b001567419568dc568"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6128407d52c14b001567419568dc568">LOG_CHECK_FILEPTR</a>(fptr)&#160;&#160;&#160;(fptr != NULL &amp;&amp; fptr != stdout &amp;&amp; fptr != stderr)</td></tr>
<tr class="memdesc:ae6128407d52c14b001567419568dc568"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to check if fptr corresponds to a stdpath like stderr/stdout.  <br /></td></tr>
<tr class="separator:ae6128407d52c14b001567419568dc568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2b32710be6914b23a9fac797f5abc36" id="r_ad2b32710be6914b23a9fac797f5abc36"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2b32710be6914b23a9fac797f5abc36">LOG_CHECK_PATH</a>(path,  check)&#160;&#160;&#160;(path != NULL &amp;&amp; strstr(path, check) != NULL)</td></tr>
<tr class="memdesc:ad2b32710be6914b23a9fac797f5abc36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to check if path contains check.  <br /></td></tr>
<tr class="separator:ad2b32710be6914b23a9fac797f5abc36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b79f2c3f4fa04670a25fdbb232975d5" id="r_a3b79f2c3f4fa04670a25fdbb232975d5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3b79f2c3f4fa04670a25fdbb232975d5">LOG_CHECK_STDPATH</a>(path)&#160;&#160;&#160;(<a class="el" href="#ad2b32710be6914b23a9fac797f5abc36">LOG_CHECK_PATH</a>(path, &quot;stderr&quot;) || <a class="el" href="#ad2b32710be6914b23a9fac797f5abc36">LOG_CHECK_PATH</a>(path, &quot;stdout&quot;))</td></tr>
<tr class="memdesc:a3b79f2c3f4fa04670a25fdbb232975d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to check if path corresponds to a stdpath.  <br /></td></tr>
<tr class="separator:a3b79f2c3f4fa04670a25fdbb232975d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad153d2cab8cbb360854ff1b4f3c009f5" id="r_ad153d2cab8cbb360854ff1b4f3c009f5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad153d2cab8cbb360854ff1b4f3c009f5">LOG_CHECK_FILEPATH</a>(path)&#160;&#160;&#160;(!<a class="el" href="#a3b79f2c3f4fa04670a25fdbb232975d5">LOG_CHECK_STDPATH</a>(path))</td></tr>
<tr class="memdesc:ad153d2cab8cbb360854ff1b4f3c009f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to check if path corresponds to a filepath.  <br /></td></tr>
<tr class="separator:ad153d2cab8cbb360854ff1b4f3c009f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973d1a977f445cb8c1d0aeb30f0f119d" id="r_a973d1a977f445cb8c1d0aeb30f0f119d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a973d1a977f445cb8c1d0aeb30f0f119d">LOG_TIME_12HR</a>&#160;&#160;&#160;&quot;%I:%M:%S%p&quot;</td></tr>
<tr class="memdesc:a973d1a977f445cb8c1d0aeb30f0f119d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixed specified format for 12 Hour based Time stamps.  <br /></td></tr>
<tr class="separator:a973d1a977f445cb8c1d0aeb30f0f119d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a22f43182bf7e7877154898a11c736" id="r_a49a22f43182bf7e7877154898a11c736"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49a22f43182bf7e7877154898a11c736">LOG_TIME_24HR</a>&#160;&#160;&#160;&quot;%H:%M:%S  &quot;</td></tr>
<tr class="memdesc:a49a22f43182bf7e7877154898a11c736"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixed specified format for 24 Hour based Time stamps.  <br /></td></tr>
<tr class="separator:a49a22f43182bf7e7877154898a11c736"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1273f9f835f4a7ad5304c7e633e20b68" id="r_a1273f9f835f4a7ad5304c7e633e20b68"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1273f9f835f4a7ad5304c7e633e20b68">LOG_TIME_FORMAT</a>&#160;&#160;&#160;<a class="el" href="#a973d1a977f445cb8c1d0aeb30f0f119d">LOG_TIME_12HR</a></td></tr>
<tr class="memdesc:a1273f9f835f4a7ad5304c7e633e20b68"><td class="mdescLeft">&#160;</td><td class="mdescRight">This macro chooses between LOG_TIME_12HR &amp; LOG_TIME_24HR.  <br /></td></tr>
<tr class="separator:a1273f9f835f4a7ad5304c7e633e20b68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af908196e407bb67394664c7b0d5999b8" id="r_af908196e407bb67394664c7b0d5999b8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af908196e407bb67394664c7b0d5999b8">LOG_TIME_LEN</a>&#160;&#160;&#160;(10 + 1)</td></tr>
<tr class="memdesc:af908196e407bb67394664c7b0d5999b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculated length for specified time format + 1 for string termination.  <br /></td></tr>
<tr class="separator:af908196e407bb67394664c7b0d5999b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ea36cc09a0aa530b338c94960baf512" id="r_a1ea36cc09a0aa530b338c94960baf512"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ea36cc09a0aa530b338c94960baf512">LOG_DATE_FORMAT</a>&#160;&#160;&#160;&quot;%d/%m/%Y&quot;</td></tr>
<tr class="memdesc:a1ea36cc09a0aa530b338c94960baf512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fixed specified format for Date stamps.  <br /></td></tr>
<tr class="separator:a1ea36cc09a0aa530b338c94960baf512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3be125d60c2afbb469cfe890546132" id="r_a9c3be125d60c2afbb469cfe890546132"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c3be125d60c2afbb469cfe890546132">LOG_DATE_LEN</a>&#160;&#160;&#160;(10 + 1)</td></tr>
<tr class="memdesc:a9c3be125d60c2afbb469cfe890546132"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculated length for specified time format + 1 for string termination.  <br /></td></tr>
<tr class="separator:a9c3be125d60c2afbb469cfe890546132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454f3ad6bafae1ecc3ff96410f7f1ea3" id="r_a454f3ad6bafae1ecc3ff96410f7f1ea3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a454f3ad6bafae1ecc3ff96410f7f1ea3">LOG_USE_COLOR</a>&#160;&#160;&#160;(<a class="el" href="#a189d4d789654e3342bdde4f60875aa1e">log_color</a> &amp;&amp; !<a class="el" href="#ae6128407d52c14b001567419568dc568">LOG_CHECK_FILEPTR</a>(<a class="el" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a>))</td></tr>
<tr class="memdesc:a454f3ad6bafae1ecc3ff96410f7f1ea3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Controls when to use colors.  <br /></td></tr>
<tr class="separator:a454f3ad6bafae1ecc3ff96410f7f1ea3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a875a1f15b875e248631c03fc1ecaa2bf" id="r_a875a1f15b875e248631c03fc1ecaa2bf"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a875a1f15b875e248631c03fc1ecaa2bf">LOG_ADD_COLOR</a>(buffer,  size,  color_index)&#160;&#160;&#160;    <a class="el" href="#a454f3ad6bafae1ecc3ff96410f7f1ea3">LOG_USE_COLOR</a> ? snprintf(buffer, size, &quot;%s&quot;, <a class="el" href="#a190f05562784d975771cf3c914c5fe45">color_list</a>[color_index]) : 0</td></tr>
<tr class="memdesc:a875a1f15b875e248631c03fc1ecaa2bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a color to buffer.  <br /></td></tr>
<tr class="separator:a875a1f15b875e248631c03fc1ecaa2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a64c85acabf7cb23619533dcb80b17433" id="r_a64c85acabf7cb23619533dcb80b17433"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64c85acabf7cb23619533dcb80b17433">LOG_COLORS</a> { <br />
&#160;&#160;<a class="el" href="#a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4">LOG_COLOR_BRIGHT_CYAN</a> = 0
, <a class="el" href="#a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f">LOG_COLOR_GREEN</a>
, <a class="el" href="#a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f">LOG_COLOR_BRIGHT_YELLOW</a>
, <a class="el" href="#a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905">LOG_COLOR_RED</a>
, <br />
&#160;&#160;<a class="el" href="#a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581">LOG_COLOR_BRIGHT_MAGENTA</a>
, <a class="el" href="#a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c">LOG_COLOR_BLUE</a>
, <a class="el" href="#a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c">LOG_COLOR_GRAY</a>
, <a class="el" href="#a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70">LOG_COLOR_END</a>
<br />
 }</td></tr>
<tr class="memdesc:a64c85acabf7cb23619533dcb80b17433"><td class="mdescLeft">&#160;</td><td class="mdescRight">Names of available ANSI color codes for foregound text.  <a href="#a64c85acabf7cb23619533dcb80b17433">More...</a><br /></td></tr>
<tr class="separator:a64c85acabf7cb23619533dcb80b17433"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a827d7cac130ca62871cce5e71b1cab" id="r_a4a827d7cac130ca62871cce5e71b1cab"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a827d7cac130ca62871cce5e71b1cab">LOG_PARSER_STATES</a> { <br />
&#160;&#160;<a class="el" href="#a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739">LOG_PARSER_INIT</a> = 0
, <a class="el" href="#a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73">LOG_PARSER_LEVEL</a>
, <a class="el" href="#a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc">LOG_PARSER_LOCATION</a>
, <a class="el" href="#a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9">LOG_PARSER_DATA</a>
, <br />
&#160;&#160;<a class="el" href="#a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8">LOG_PARSER_DONE</a>
, <a class="el" href="#a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694">LOG_PARSER_FAILED</a>
<br />
 }</td></tr>
<tr class="memdesc:a4a827d7cac130ca62871cce5e71b1cab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Available states used when parsing log-requests.  <a href="#a4a827d7cac130ca62871cce5e71b1cab">More...</a><br /></td></tr>
<tr class="separator:a4a827d7cac130ca62871cce5e71b1cab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7428ec2d45d3df3bbb27094a8f8d585a" id="r_a7428ec2d45d3df3bbb27094a8f8d585a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7428ec2d45d3df3bbb27094a8f8d585a">log_stamp_collector</a> (char *stamp, const char *format, size_t size)</td></tr>
<tr class="memdesc:a7428ec2d45d3df3bbb27094a8f8d585a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to collect system date/time in requested format.  <br /></td></tr>
<tr class="separator:a7428ec2d45d3df3bbb27094a8f8d585a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61610956cd7b586c8745be62d0b04bb4" id="r_a61610956cd7b586c8745be62d0b04bb4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a61610956cd7b586c8745be62d0b04bb4">update_header</a> (char *header, size_t size, int level, <a class="el" href="structlog__locate__t.html">log_locate_t</a> locate)</td></tr>
<tr class="memdesc:a61610956cd7b586c8745be62d0b04bb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function populate the header i.e., prefix of log-message.  <br /></td></tr>
<tr class="separator:a61610956cd7b586c8745be62d0b04bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce55d5bac5a5aed68db52e12c03f1cf" id="r_a1ce55d5bac5a5aed68db52e12c03f1cf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1ce55d5bac5a5aed68db52e12c03f1cf">log_recursive_mkdir</a> (const char *dir)</td></tr>
<tr class="memdesc:a1ce55d5bac5a5aed68db52e12c03f1cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to recursively create parent directories required by dir.  <br /></td></tr>
<tr class="separator:a1ce55d5bac5a5aed68db52e12c03f1cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e18d059cd1fce51c78634715c40ae4" id="r_aa1e18d059cd1fce51c78634715c40ae4"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1e18d059cd1fce51c78634715c40ae4">log_create_parent_dirs</a> (const char *path)</td></tr>
<tr class="memdesc:aa1e18d059cd1fce51c78634715c40ae4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to create parent directories required for new logging path.  <br /></td></tr>
<tr class="separator:aa1e18d059cd1fce51c78634715c40ae4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f752cf8128317e84b239fbcaaf6378" id="r_a85f752cf8128317e84b239fbcaaf6378"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a85f752cf8128317e84b239fbcaaf6378">log_stream_open</a> (const char *path)</td></tr>
<tr class="memdesc:a85f752cf8128317e84b239fbcaaf6378"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to open a new logging stream.  <br /></td></tr>
<tr class="separator:a85f752cf8128317e84b239fbcaaf6378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a940b19d7c5b87e1e9f5c74376a04831e" id="r_a940b19d7c5b87e1e9f5c74376a04831e"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a940b19d7c5b87e1e9f5c74376a04831e">log_stream_write</a> (const char *message)</td></tr>
<tr class="memdesc:a940b19d7c5b87e1e9f5c74376a04831e"><td class="mdescLeft">&#160;</td><td class="mdescRight">write directly to configured stream  <br /></td></tr>
<tr class="separator:a940b19d7c5b87e1e9f5c74376a04831e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad315a1e2645c212deedef5aa5ccbb472" id="r_ad315a1e2645c212deedef5aa5ccbb472"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad315a1e2645c212deedef5aa5ccbb472">log_en_queue</a> (const char *message)</td></tr>
<tr class="memdesc:ad315a1e2645c212deedef5aa5ccbb472"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to add a new log-message to log_queue.  <br /></td></tr>
<tr class="separator:ad315a1e2645c212deedef5aa5ccbb472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2904c6d8c196655e95f5b0f72f802ca1" id="r_a2904c6d8c196655e95f5b0f72f802ca1"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2904c6d8c196655e95f5b0f72f802ca1">log_de_queue</a> (char *message, size_t size)</td></tr>
<tr class="memdesc:a2904c6d8c196655e95f5b0f72f802ca1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to retrieve oldest available log-message from log_queue.  <br /></td></tr>
<tr class="separator:a2904c6d8c196655e95f5b0f72f802ca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d7ece6c0f2053c37d77e4ebdd4d728" id="r_af0d7ece6c0f2053c37d77e4ebdd4d728"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0d7ece6c0f2053c37d77e4ebdd4d728">log_str_replace</a> (char *source, const char *remove)</td></tr>
<tr class="memdesc:af0d7ece6c0f2053c37d77e4ebdd4d728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to strip away first occurrence of "remove" from "source".  <br /></td></tr>
<tr class="separator:af0d7ece6c0f2053c37d77e4ebdd4d728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fd5f1ba0381c34903f66bc6eff0a61" id="r_a78fd5f1ba0381c34903f66bc6eff0a61"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a> (const char *nptr)</td></tr>
<tr class="memdesc:a78fd5f1ba0381c34903f66bc6eff0a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to convert ASCII to integer.  <br /></td></tr>
<tr class="separator:a78fd5f1ba0381c34903f66bc6eff0a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad078e8b28af95662960b20b873f2c616" id="r_ad078e8b28af95662960b20b873f2c616"><td class="memItemLeft" align="right" valign="top">static char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a> (char *str, const char *delim, char **saveptr)</td></tr>
<tr class="memdesc:ad078e8b28af95662960b20b873f2c616"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used in place of strtok_r.  <br /></td></tr>
<tr class="separator:ad078e8b28af95662960b20b873f2c616"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa15850fe2e5f2dbcad19c95e9a92591c" id="r_aa15850fe2e5f2dbcad19c95e9a92591c"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa15850fe2e5f2dbcad19c95e9a92591c">parse_date</a> (const char *copy, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:aa15850fe2e5f2dbcad19c95e9a92591c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to parse date parameter from copy of log-message.  <br /></td></tr>
<tr class="separator:aa15850fe2e5f2dbcad19c95e9a92591c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6822fbc1932f14536d8492add244655c" id="r_a6822fbc1932f14536d8492add244655c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6822fbc1932f14536d8492add244655c">parse_time</a> (const char *copy, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:a6822fbc1932f14536d8492add244655c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to parse time parameter from copy of log-message.  <br /></td></tr>
<tr class="separator:a6822fbc1932f14536d8492add244655c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71249e077c2ba82ba172b73263a446c9" id="r_a71249e077c2ba82ba172b73263a446c9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a71249e077c2ba82ba172b73263a446c9">parse_datetime</a> (const char *copy, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:a71249e077c2ba82ba172b73263a446c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to parse date &amp; time parameter from copy of log-message.  <br /></td></tr>
<tr class="separator:a71249e077c2ba82ba172b73263a446c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b27f4f9997b08f6b1babdee8406102" id="r_a66b27f4f9997b08f6b1babdee8406102"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a66b27f4f9997b08f6b1babdee8406102">parse_level</a> (const char *copy, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:a66b27f4f9997b08f6b1babdee8406102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to parse level parameter from copy of log-message.  <br /></td></tr>
<tr class="separator:a66b27f4f9997b08f6b1babdee8406102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79a0d62638455a3117532390c888f419" id="r_a79a0d62638455a3117532390c888f419"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79a0d62638455a3117532390c888f419">parse_function</a> (const char *copy, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:a79a0d62638455a3117532390c888f419"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to parse function name from copy of log-message.  <br /></td></tr>
<tr class="separator:a79a0d62638455a3117532390c888f419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88ac1ee07ea17f2847abf5981d388331" id="r_a88ac1ee07ea17f2847abf5981d388331"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a88ac1ee07ea17f2847abf5981d388331">parse_file_and_line</a> (const char *copy, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:a88ac1ee07ea17f2847abf5981d388331"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to parse file name and line number from copy of log-message.  <br /></td></tr>
<tr class="separator:a88ac1ee07ea17f2847abf5981d388331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf13a0db1967c342e204aa844df01fda" id="r_aaf13a0db1967c342e204aa844df01fda"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aaf13a0db1967c342e204aa844df01fda">parse_location</a> (const char *copy, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:aaf13a0db1967c342e204aa844df01fda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to parse function name, file name &amp; line number parameter from copy of log-message.  <br /></td></tr>
<tr class="separator:aaf13a0db1967c342e204aa844df01fda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad93e16f63aa5d848b4ee0eda72f092ac" id="r_ad93e16f63aa5d848b4ee0eda72f092ac"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad93e16f63aa5d848b4ee0eda72f092ac">parse_data_string</a> (char *message, size_t size, const char *copy)</td></tr>
<tr class="memdesc:ad93e16f63aa5d848b4ee0eda72f092ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to separate data string from message.  <br /></td></tr>
<tr class="separator:ad93e16f63aa5d848b4ee0eda72f092ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e49b5594c4aed69441bc2b4b0e8e0e7" id="r_a5e49b5594c4aed69441bc2b4b0e8e0e7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5e49b5594c4aed69441bc2b4b0e8e0e7">log_get_default_level</a> (void)</td></tr>
<tr class="memdesc:a5e49b5594c4aed69441bc2b4b0e8e0e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns default value for log_level See <a class="el" href="logbank__config_8h.html#a0b87e0d3bf5853bcbb0b66a7c48fdc05">LOG_LEVEL</a>.  <br /></td></tr>
<tr class="separator:a5e49b5594c4aed69441bc2b4b0e8e0e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab53553042bb3122475a03674bd689d5a" id="r_ab53553042bb3122475a03674bd689d5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab53553042bb3122475a03674bd689d5a">log_get_level</a> (void)</td></tr>
<tr class="memdesc:ab53553042bb3122475a03674bd689d5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns current value for log_level.  <br /></td></tr>
<tr class="separator:ab53553042bb3122475a03674bd689d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0d39913e824d4d0aef7513b284ea289" id="r_af0d39913e824d4d0aef7513b284ea289"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af0d39913e824d4d0aef7513b284ea289">log_set_level</a> (int level)</td></tr>
<tr class="memdesc:af0d39913e824d4d0aef7513b284ea289"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function configures value for log_level.  <br /></td></tr>
<tr class="separator:af0d39913e824d4d0aef7513b284ea289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f37fc38d4885ae4fd5f499787e5f550" id="r_a2f37fc38d4885ae4fd5f499787e5f550"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f37fc38d4885ae4fd5f499787e5f550">log_get_levelname</a> (int level)</td></tr>
<tr class="memdesc:a2f37fc38d4885ae4fd5f499787e5f550"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to read name of a particular log-level.  <br /></td></tr>
<tr class="separator:a2f37fc38d4885ae4fd5f499787e5f550"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99198e1af155f869f5d31a85706d073c" id="r_a99198e1af155f869f5d31a85706d073c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99198e1af155f869f5d31a85706d073c">log_get_logfile</a> (char *path, size_t size)</td></tr>
<tr class="memdesc:a99198e1af155f869f5d31a85706d073c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to read path of log file currently being used.  <br /></td></tr>
<tr class="separator:a99198e1af155f869f5d31a85706d073c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ec68aebf120e2541716176bf710517" id="r_aa7ec68aebf120e2541716176bf710517"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa7ec68aebf120e2541716176bf710517">log_set_logfile</a> (const char *path)</td></tr>
<tr class="memdesc:aa7ec68aebf120e2541716176bf710517"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to configure path of log file to be used for logging.  <br /></td></tr>
<tr class="separator:aa7ec68aebf120e2541716176bf710517"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22342ac3be9a84c6131f396eab8bd4ba" id="r_a22342ac3be9a84c6131f396eab8bd4ba"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22342ac3be9a84c6131f396eab8bd4ba">log_change_tzone</a> (int gmt)</td></tr>
<tr class="memdesc:a22342ac3be9a84c6131f396eab8bd4ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to switch between gmt time &amp; local time.  <br /></td></tr>
<tr class="separator:a22342ac3be9a84c6131f396eab8bd4ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe2b67a3b61f6ca5ac29458f1a6fa20" id="r_abfe2b67a3b61f6ca5ac29458f1a6fa20"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abfe2b67a3b61f6ca5ac29458f1a6fa20">log_use_datestamp</a> (int enable)</td></tr>
<tr class="memdesc:abfe2b67a3b61f6ca5ac29458f1a6fa20"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to enable date stamps for every log-request at run-time.  <br /></td></tr>
<tr class="separator:abfe2b67a3b61f6ca5ac29458f1a6fa20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c3d0c234139eef0ecdd76c379bd2622" id="r_a1c3d0c234139eef0ecdd76c379bd2622"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c3d0c234139eef0ecdd76c379bd2622">log_use_timestamp</a> (int enable)</td></tr>
<tr class="memdesc:a1c3d0c234139eef0ecdd76c379bd2622"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to enable time stamps for every log-request at run-time.  <br /></td></tr>
<tr class="separator:a1c3d0c234139eef0ecdd76c379bd2622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87097c0104243be5ea4a28ade9abc579" id="r_a87097c0104243be5ea4a28ade9abc579"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a87097c0104243be5ea4a28ade9abc579">log_use_color</a> (int enable)</td></tr>
<tr class="memdesc:a87097c0104243be5ea4a28ade9abc579"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to enable colors for log-requests being logged on stderr.  <br /></td></tr>
<tr class="separator:a87097c0104243be5ea4a28ade9abc579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c62a16c3bbb595d0ada4b00a8b4092" id="r_af4c62a16c3bbb595d0ada4b00a8b4092"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4c62a16c3bbb595d0ada4b00a8b4092">log_this</a> (int level, <a class="el" href="structlog__locate__t.html">log_locate_t</a> locate, const char *fmt,...)</td></tr>
<tr class="memdesc:af4c62a16c3bbb595d0ada4b00a8b4092"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the main logging function of this library.  <br /></td></tr>
<tr class="separator:af4c62a16c3bbb595d0ada4b00a8b4092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0bafbb7eff649930512bdefd411de2" id="r_a1c0bafbb7eff649930512bdefd411de2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1c0bafbb7eff649930512bdefd411de2">log_get_queue_len</a> (void)</td></tr>
<tr class="memdesc:a1c0bafbb7eff649930512bdefd411de2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the value of <a class="el" href="logbank__config_8h.html#a4caacfae62d7eef49d49b5498679f136">LOG_RETRIEVE_QUEUE_LEN</a>.  <br /></td></tr>
<tr class="separator:a1c0bafbb7eff649930512bdefd411de2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb516ab3c896f857b73e25c5dadef73" id="r_a6cb516ab3c896f857b73e25c5dadef73"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6cb516ab3c896f857b73e25c5dadef73">log_retrieve</a> (char *message, size_t size)</td></tr>
<tr class="memdesc:a6cb516ab3c896f857b73e25c5dadef73"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used to retrieve oldest available log-message from log_queue.  <br /></td></tr>
<tr class="separator:a6cb516ab3c896f857b73e25c5dadef73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada483370fa70cd182fa9f81e8d1c8b0c" id="r_ada483370fa70cd182fa9f81e8d1c8b0c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ada483370fa70cd182fa9f81e8d1c8b0c">log_remove_colors</a> (char *message)</td></tr>
<tr class="memdesc:ada483370fa70cd182fa9f81e8d1c8b0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function removes ANSI color codes from message.  <br /></td></tr>
<tr class="separator:ada483370fa70cd182fa9f81e8d1c8b0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23e92ab1af0e88c03f627dac4ea7df48" id="r_a23e92ab1af0e88c03f627dac4ea7df48"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23e92ab1af0e88c03f627dac4ea7df48">log_parser</a> (char *message, size_t size, <a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *info)</td></tr>
<tr class="memdesc:a23e92ab1af0e88c03f627dac4ea7df48"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function parses &amp; separates all the details with in the message.  <br /></td></tr>
<tr class="separator:a23e92ab1af0e88c03f627dac4ea7df48"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a189d4d789654e3342bdde4f60875aa1e" id="r_a189d4d789654e3342bdde4f60875aa1e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a189d4d789654e3342bdde4f60875aa1e">log_color</a> = <a class="el" href="logbank__config_8h.html#a2671a6aa5ca95c2a6c3fd0032e7880d5">LOG_COLOR</a></td></tr>
<tr class="memdesc:a189d4d789654e3342bdde4f60875aa1e"><td class="mdescLeft">&#160;</td><td class="mdescRight">current preference on use of color  <br /></td></tr>
<tr class="separator:a189d4d789654e3342bdde4f60875aa1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190f05562784d975771cf3c914c5fe45" id="r_a190f05562784d975771cf3c914c5fe45"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a190f05562784d975771cf3c914c5fe45">color_list</a> []</td></tr>
<tr class="memdesc:a190f05562784d975771cf3c914c5fe45"><td class="mdescLeft">&#160;</td><td class="mdescRight">list of available ANSI color codes for foreground text  <br /></td></tr>
<tr class="separator:a190f05562784d975771cf3c914c5fe45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6b4fb7774b5bf67f249a6ff0327f0e2" id="r_ae6b4fb7774b5bf67f249a6ff0327f0e2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structlog__queue__t.html">log_queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a></td></tr>
<tr class="memdesc:ae6b4fb7774b5bf67f249a6ff0327f0e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">circular queue (FIFO) used for retrieval of recent logs  <br /></td></tr>
<tr class="separator:ae6b4fb7774b5bf67f249a6ff0327f0e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91d55174d383848b976a34de843748e" id="r_ac91d55174d383848b976a34de843748e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac91d55174d383848b976a34de843748e">log_level</a> = <a class="el" href="logbank__config_8h.html#a0b87e0d3bf5853bcbb0b66a7c48fdc05">LOG_LEVEL</a></td></tr>
<tr class="memdesc:ac91d55174d383848b976a34de843748e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This value acts as a filter to discard lower-priority log-requests.  <br /></td></tr>
<tr class="separator:ac91d55174d383848b976a34de843748e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05d8923dbf1550325f81ba53458f31c8" id="r_a05d8923dbf1550325f81ba53458f31c8"><td class="memItemLeft" align="right" valign="top">static FILE *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a> = NULL</td></tr>
<tr class="memdesc:a05d8923dbf1550325f81ba53458f31c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This variable stores the file pointer being used to write-stream.  <br /></td></tr>
<tr class="separator:a05d8923dbf1550325f81ba53458f31c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e19291b515046d7ab2c178cf3d8dbdc" id="r_a7e19291b515046d7ab2c178cf3d8dbdc"><td class="memItemLeft" align="right" valign="top">static char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a> [<a class="el" href="logbank__config_8h.html#afcc65d4c77be31d33587e653eb142dc3">LOG_MAX_PATH_LEN</a>] = &quot;&lt;not-set&gt;&quot;</td></tr>
<tr class="memdesc:a7e19291b515046d7ab2c178cf3d8dbdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This string is the path to file in use to write-stream.  <br /></td></tr>
<tr class="separator:a7e19291b515046d7ab2c178cf3d8dbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1cbcfba04606a1ea81d837e75cf182" id="r_a6e1cbcfba04606a1ea81d837e75cf182"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6e1cbcfba04606a1ea81d837e75cf182">log_datestamp</a> = <a class="el" href="logbank__config_8h.html#a5f56d981e5b55df4bee5c7a5b6b44007">LOG_DATESTAMP</a></td></tr>
<tr class="memdesc:a6e1cbcfba04606a1ea81d837e75cf182"><td class="mdescLeft">&#160;</td><td class="mdescRight">This value controls the use of date stamps.  <br /></td></tr>
<tr class="separator:a6e1cbcfba04606a1ea81d837e75cf182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f29241d03102718e247b5869f41e58" id="r_a78f29241d03102718e247b5869f41e58"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a78f29241d03102718e247b5869f41e58">log_timestamp</a> = <a class="el" href="logbank__config_8h.html#abc368d21141fd7f00227bbe05c8a476c">LOG_TIMESTAMP</a></td></tr>
<tr class="memdesc:a78f29241d03102718e247b5869f41e58"><td class="mdescLeft">&#160;</td><td class="mdescRight">This value controls the use of time stamps.  <br /></td></tr>
<tr class="separator:a78f29241d03102718e247b5869f41e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd1c33eda8dadb496cecee02527b6a3" id="r_aecd1c33eda8dadb496cecee02527b6a3"><td class="memItemLeft" align="right" valign="top">static struct tm *(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aecd1c33eda8dadb496cecee02527b6a3">log_time_fn</a> )(const time_t *) = NULL</td></tr>
<tr class="memdesc:aecd1c33eda8dadb496cecee02527b6a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function pointer points to a correct time-function based on time-zone.  <br /></td></tr>
<tr class="separator:aecd1c33eda8dadb496cecee02527b6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a875a1f15b875e248631c03fc1ecaa2bf" name="a875a1f15b875e248631c03fc1ecaa2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a875a1f15b875e248631c03fc1ecaa2bf">&#9670;&#160;</a></span>LOG_ADD_COLOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_ADD_COLOR</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">buffer, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">size, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">color_index</span>&#160;)&#160;&#160;&#160;    <a class="el" href="#a454f3ad6bafae1ecc3ff96410f7f1ea3">LOG_USE_COLOR</a> ? snprintf(buffer, size, &quot;%s&quot;, <a class="el" href="#a190f05562784d975771cf3c914c5fe45">color_list</a>[color_index]) : 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add a color to buffer. </p>
<p>This macro is use to add color to a buffer; which has remaining bytes size</p>
<dl class="section note"><dt>Note</dt><dd>This macro assumes buffer and size parameters are passed after necessary calculations. So, it would start writing at index 0 of buffer if size allows it. Check parameters documentation below.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buffer</td><td>buffer pointer (after adding len as index) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>available remaining size (after subtracting len from origional size) </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;0 Color is added </dd>
<dd>
=0 No color is added </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00146">146</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  146</span><span class="preprocessor">#define LOG_ADD_COLOR(buffer, size, color_index)                                                                       \</span></div>
<div class="line"><span class="lineno">  147</span><span class="preprocessor">    LOG_USE_COLOR ? snprintf(buffer, size, &quot;%s&quot;, color_list[color_index]) : 0</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad153d2cab8cbb360854ff1b4f3c009f5" name="ad153d2cab8cbb360854ff1b4f3c009f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad153d2cab8cbb360854ff1b4f3c009f5">&#9670;&#160;</a></span>LOG_CHECK_FILEPATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CHECK_FILEPATH</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">path</span></td><td>)</td>
          <td>&#160;&#160;&#160;(!<a class="el" href="#a3b79f2c3f4fa04670a25fdbb232975d5">LOG_CHECK_STDPATH</a>(path))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to check if path corresponds to a filepath. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>path buffer which should corresponds to a filepath </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE path corresponds to a filepath </dd>
<dd>
FALSE path doesn't corresponds to a filepath </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00072">72</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="ae6128407d52c14b001567419568dc568" name="ae6128407d52c14b001567419568dc568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6128407d52c14b001567419568dc568">&#9670;&#160;</a></span>LOG_CHECK_FILEPTR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CHECK_FILEPTR</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">fptr</span></td><td>)</td>
          <td>&#160;&#160;&#160;(fptr != NULL &amp;&amp; fptr != stdout &amp;&amp; fptr != stderr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to check if fptr corresponds to a stdpath like stderr/stdout. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fptr</td><td>fptr which needs to be checked </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if fptr corresponds to a filepath </dd>
<dd>
FALSE if fptr corresponds to a stdpath </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00041">41</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="ad2b32710be6914b23a9fac797f5abc36" name="ad2b32710be6914b23a9fac797f5abc36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2b32710be6914b23a9fac797f5abc36">&#9670;&#160;</a></span>LOG_CHECK_PATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CHECK_PATH</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">path, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">check</span>&#160;)&#160;&#160;&#160;(path != NULL &amp;&amp; strstr(path, check) != NULL)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to check if path contains check. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>path buffer which should contain check string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">check</td><td>check string which should exist in path buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE path contains check string </dd>
<dd>
FALSE path doesn't contain check string </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00052">52</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a3b79f2c3f4fa04670a25fdbb232975d5" name="a3b79f2c3f4fa04670a25fdbb232975d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b79f2c3f4fa04670a25fdbb232975d5">&#9670;&#160;</a></span>LOG_CHECK_STDPATH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_CHECK_STDPATH</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">path</span></td><td>)</td>
          <td>&#160;&#160;&#160;(<a class="el" href="#ad2b32710be6914b23a9fac797f5abc36">LOG_CHECK_PATH</a>(path, &quot;stderr&quot;) || <a class="el" href="#ad2b32710be6914b23a9fac797f5abc36">LOG_CHECK_PATH</a>(path, &quot;stdout&quot;))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to check if path corresponds to a stdpath. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>path buffer which should corresponds to a stdpath </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE path corresponds to a stdpath </dd>
<dd>
FALSE path doesn't corresponds to a stdpath </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00062">62</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a1ea36cc09a0aa530b338c94960baf512" name="a1ea36cc09a0aa530b338c94960baf512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ea36cc09a0aa530b338c94960baf512">&#9670;&#160;</a></span>LOG_DATE_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_DATE_FORMAT&#160;&#160;&#160;&quot;%d/%m/%Y&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixed specified format for Date stamps. </p>
<p>A fixed format is preferred for easily parsing old logs Choosen Format: 13/05/2024 </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00114">114</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a9c3be125d60c2afbb469cfe890546132" name="a9c3be125d60c2afbb469cfe890546132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3be125d60c2afbb469cfe890546132">&#9670;&#160;</a></span>LOG_DATE_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_DATE_LEN&#160;&#160;&#160;(10 + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculated length for specified time format + 1 for string termination. </p>
<p>13/05/2024 1234567890 = 10 </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00122">122</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="ad4ac1dc3e64057a34c39c4b630c653af" name="ad4ac1dc3e64057a34c39c4b630c653af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ac1dc3e64057a34c39c4b630c653af">&#9670;&#160;</a></span>LOG_FILE_DIR_PERM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_FILE_DIR_PERM&#160;&#160;&#160;(S_IRUSR | S_IWUSR | S_IXUSR | S_IRGRP | S_IWGRP | S_IXGRP | S_IROTH | S_IWOTH | S_IXOTH)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Directory permission used for creating new directories. </p>
<dl class="section note"><dt>Note</dt><dd>Not applicable for windows OS </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00024">24</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a3d024e32d04ee39146b0be5c79e61d34" name="a3d024e32d04ee39146b0be5c79e61d34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d024e32d04ee39146b0be5c79e61d34">&#9670;&#160;</a></span>LOG_MKDIR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_MKDIR</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname">dir</span></td><td>)</td>
          <td>&#160;&#160;&#160;mkdir(dir, <a class="el" href="#ad4ac1dc3e64057a34c39c4b630c653af">LOG_FILE_DIR_PERM</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to create directories (posix) </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00030">30</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a973d1a977f445cb8c1d0aeb30f0f119d" name="a973d1a977f445cb8c1d0aeb30f0f119d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a973d1a977f445cb8c1d0aeb30f0f119d">&#9670;&#160;</a></span>LOG_TIME_12HR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TIME_12HR&#160;&#160;&#160;&quot;%I:%M:%S%p&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixed specified format for 12 Hour based Time stamps. </p>
<p>This format is preferred for easily parsing old logs Choosen Format: 06:30:00PM </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00080">80</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a49a22f43182bf7e7877154898a11c736" name="a49a22f43182bf7e7877154898a11c736"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49a22f43182bf7e7877154898a11c736">&#9670;&#160;</a></span>LOG_TIME_24HR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TIME_24HR&#160;&#160;&#160;&quot;%H:%M:%S  &quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fixed specified format for 24 Hour based Time stamps. </p>
<p>This format is preferred for easily parsing old logs Choosen Format: 18:30:00 <br  />
 </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00088">88</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a1273f9f835f4a7ad5304c7e633e20b68" name="a1273f9f835f4a7ad5304c7e633e20b68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1273f9f835f4a7ad5304c7e633e20b68">&#9670;&#160;</a></span>LOG_TIME_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TIME_FORMAT&#160;&#160;&#160;<a class="el" href="#a973d1a977f445cb8c1d0aeb30f0f119d">LOG_TIME_12HR</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This macro chooses between LOG_TIME_12HR &amp; LOG_TIME_24HR. </p>
<p>Choice of time format is not very flexible. Both options are nearly the same. There length is also forcefully made same (by adding spaces at end) in order to provide better indentation</p>
<dl class="section note"><dt>Note</dt><dd>This macro is recommended to be used for time stamp collection in <a class="el" href="logbank_8h.html#a9618e8e44960252c699aea9fc3fc49bc">log_this()</a> function </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00098">98</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="af908196e407bb67394664c7b0d5999b8" name="af908196e407bb67394664c7b0d5999b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af908196e407bb67394664c7b0d5999b8">&#9670;&#160;</a></span>LOG_TIME_LEN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_TIME_LEN&#160;&#160;&#160;(10 + 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculated length for specified time format + 1 for string termination. </p>
<p>06:30:00PM 1234567890 = 10 </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00106">106</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a454f3ad6bafae1ecc3ff96410f7f1ea3" name="a454f3ad6bafae1ecc3ff96410f7f1ea3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454f3ad6bafae1ecc3ff96410f7f1ea3">&#9670;&#160;</a></span>LOG_USE_COLOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_USE_COLOR&#160;&#160;&#160;(<a class="el" href="#a189d4d789654e3342bdde4f60875aa1e">log_color</a> &amp;&amp; !<a class="el" href="#ae6128407d52c14b001567419568dc568">LOG_CHECK_FILEPTR</a>(<a class="el" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a>))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Controls when to use colors. </p>
<p>This macro is used to control when to use colors for log-requests </p><dl class="section note"><dt>Note</dt><dd>Use this macro to limit the use of color to stderr only (other file streams shouldn't use colors) </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00130">130</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a64c85acabf7cb23619533dcb80b17433" name="a64c85acabf7cb23619533dcb80b17433"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64c85acabf7cb23619533dcb80b17433">&#9670;&#160;</a></span>LOG_COLORS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a64c85acabf7cb23619533dcb80b17433">LOG_COLORS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Names of available ANSI color codes for foregound text. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4" name="a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4"></a>LOG_COLOR_BRIGHT_CYAN&#160;</td><td class="fielddoc"><p>used for LOG_DEBUG </p>
</td></tr>
<tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f" name="a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f"></a>LOG_COLOR_GREEN&#160;</td><td class="fielddoc"><p>used for LOG_INFO </p>
</td></tr>
<tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f" name="a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f"></a>LOG_COLOR_BRIGHT_YELLOW&#160;</td><td class="fielddoc"><p>used for LOG_WARN </p>
</td></tr>
<tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905" name="a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905"></a>LOG_COLOR_RED&#160;</td><td class="fielddoc"><p>used for LOG_ERROR </p>
</td></tr>
<tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581" name="a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581"></a>LOG_COLOR_BRIGHT_MAGENTA&#160;</td><td class="fielddoc"><p>used for LOG_ISSUE </p>
</td></tr>
<tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c" name="a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c"></a>LOG_COLOR_BLUE&#160;</td><td class="fielddoc"><p>used for LOG_FATAL </p>
</td></tr>
<tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c" name="a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c"></a>LOG_COLOR_GRAY&#160;</td><td class="fielddoc"><p>used to dim certain text </p>
</td></tr>
<tr><td class="fieldname"><a id="a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70" name="a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70"></a>LOG_COLOR_END&#160;</td><td class="fielddoc"><p>used to terminate use of current color </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00177">177</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  177</span>                {</div>
<div class="line"><span class="lineno">  178</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4">LOG_COLOR_BRIGHT_CYAN</a> = 0,</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f">LOG_COLOR_GREEN</a>,</div>
<div class="line"><span class="lineno">  180</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f">LOG_COLOR_BRIGHT_YELLOW</a>,</div>
<div class="line"><span class="lineno">  181</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905">LOG_COLOR_RED</a>,</div>
<div class="line"><span class="lineno">  182</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581">LOG_COLOR_BRIGHT_MAGENTA</a>,</div>
<div class="line"><span class="lineno">  183</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c">LOG_COLOR_BLUE</a>,</div>
<div class="line"><span class="lineno">  184</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c">LOG_COLOR_GRAY</a>,</div>
<div class="line"><span class="lineno">  185</span>    <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70">LOG_COLOR_END</a>,</div>
<div class="line"><span class="lineno">  186</span>};</div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905">LOG_COLOR_RED</a></div><div class="ttdeci">@ LOG_COLOR_RED</div><div class="ttdoc">used for LOG_ERROR</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00181">logbank.c:181</a></div></div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4">LOG_COLOR_BRIGHT_CYAN</a></div><div class="ttdeci">@ LOG_COLOR_BRIGHT_CYAN</div><div class="ttdoc">used for LOG_DEBUG</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00178">logbank.c:178</a></div></div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70">LOG_COLOR_END</a></div><div class="ttdeci">@ LOG_COLOR_END</div><div class="ttdoc">used to terminate use of current color</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00185">logbank.c:185</a></div></div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c">LOG_COLOR_BLUE</a></div><div class="ttdeci">@ LOG_COLOR_BLUE</div><div class="ttdoc">used for LOG_FATAL</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00183">logbank.c:183</a></div></div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f">LOG_COLOR_GREEN</a></div><div class="ttdeci">@ LOG_COLOR_GREEN</div><div class="ttdoc">used for LOG_INFO</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00179">logbank.c:179</a></div></div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c">LOG_COLOR_GRAY</a></div><div class="ttdeci">@ LOG_COLOR_GRAY</div><div class="ttdoc">used to dim certain text</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00184">logbank.c:184</a></div></div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f">LOG_COLOR_BRIGHT_YELLOW</a></div><div class="ttdeci">@ LOG_COLOR_BRIGHT_YELLOW</div><div class="ttdoc">used for LOG_WARN</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00180">logbank.c:180</a></div></div>
<div class="ttc" id="alogbank_8c_html_a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581"><div class="ttname"><a href="#a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581">LOG_COLOR_BRIGHT_MAGENTA</a></div><div class="ttdeci">@ LOG_COLOR_BRIGHT_MAGENTA</div><div class="ttdoc">used for LOG_ISSUE</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00182">logbank.c:182</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a827d7cac130ca62871cce5e71b1cab" name="a4a827d7cac130ca62871cce5e71b1cab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a827d7cac130ca62871cce5e71b1cab">&#9670;&#160;</a></span>LOG_PARSER_STATES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a4a827d7cac130ca62871cce5e71b1cab">LOG_PARSER_STATES</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Available states used when parsing log-requests. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739" name="a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739"></a>LOG_PARSER_INIT&#160;</td><td class="fielddoc"><p>Initial parser state for parsing used for parsing stamps. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73" name="a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73"></a>LOG_PARSER_LEVEL&#160;</td><td class="fielddoc"><p>State for parsing level name. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc" name="a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc"></a>LOG_PARSER_LOCATION&#160;</td><td class="fielddoc"><p>State for parsing location parameters. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9" name="a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9"></a>LOG_PARSER_DATA&#160;</td><td class="fielddoc"><p>State for parsing data (i.e., message without header) </p>
</td></tr>
<tr><td class="fieldname"><a id="a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8" name="a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8"></a>LOG_PARSER_DONE&#160;</td><td class="fielddoc"><p>State to signify parsing finished successfully. </p>
</td></tr>
<tr><td class="fieldname"><a id="a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694" name="a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694"></a>LOG_PARSER_FAILED&#160;</td><td class="fielddoc"><p>State to signify parsing failed. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00225">225</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  225</span>                       {</div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739">LOG_PARSER_INIT</a> = 0,</div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73">LOG_PARSER_LEVEL</a>,</div>
<div class="line"><span class="lineno">  228</span>    <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc">LOG_PARSER_LOCATION</a>,</div>
<div class="line"><span class="lineno">  229</span>    <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9">LOG_PARSER_DATA</a>,</div>
<div class="line"><span class="lineno">  230</span>    <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8">LOG_PARSER_DONE</a>,</div>
<div class="line"><span class="lineno">  231</span>    <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694">LOG_PARSER_FAILED</a></div>
<div class="line"><span class="lineno">  232</span>};</div>
<div class="ttc" id="alogbank_8c_html_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694"><div class="ttname"><a href="#a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694">LOG_PARSER_FAILED</a></div><div class="ttdeci">@ LOG_PARSER_FAILED</div><div class="ttdoc">State to signify parsing failed.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00232">logbank.c:231</a></div></div>
<div class="ttc" id="alogbank_8c_html_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9"><div class="ttname"><a href="#a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9">LOG_PARSER_DATA</a></div><div class="ttdeci">@ LOG_PARSER_DATA</div><div class="ttdoc">State for parsing data (i.e., message without header)</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00229">logbank.c:229</a></div></div>
<div class="ttc" id="alogbank_8c_html_a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73"><div class="ttname"><a href="#a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73">LOG_PARSER_LEVEL</a></div><div class="ttdeci">@ LOG_PARSER_LEVEL</div><div class="ttdoc">State for parsing level name.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00227">logbank.c:227</a></div></div>
<div class="ttc" id="alogbank_8c_html_a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc"><div class="ttname"><a href="#a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc">LOG_PARSER_LOCATION</a></div><div class="ttdeci">@ LOG_PARSER_LOCATION</div><div class="ttdoc">State for parsing location parameters.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00228">logbank.c:228</a></div></div>
<div class="ttc" id="alogbank_8c_html_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8"><div class="ttname"><a href="#a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8">LOG_PARSER_DONE</a></div><div class="ttdeci">@ LOG_PARSER_DONE</div><div class="ttdoc">State to signify parsing finished successfully.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00230">logbank.c:230</a></div></div>
<div class="ttc" id="alogbank_8c_html_a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739"><div class="ttname"><a href="#a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739">LOG_PARSER_INIT</a></div><div class="ttdeci">@ LOG_PARSER_INIT</div><div class="ttdoc">Initial parser state for parsing used for parsing stamps.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00226">logbank.c:226</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a78fd5f1ba0381c34903f66bc6eff0a61" name="a78fd5f1ba0381c34903f66bc6eff0a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fd5f1ba0381c34903f66bc6eff0a61">&#9670;&#160;</a></span>log_atoi()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_atoi </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>nptr</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to convert ASCII to integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">nptr</td><td>Pointer to buffer containing ASCII number </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int Required number in decimal </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00661">661</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  661</span>                           {</div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordtype">int</span> num = 0;</div>
<div class="line"><span class="lineno">  663</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> ten_times = 10;</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; nptr[i] != <span class="charliteral">&#39;\0&#39;</span>; ++i) {</div>
<div class="line"><span class="lineno">  666</span>        num = num * ten_times + nptr[i] - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><span class="lineno">  667</span>    }</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <span class="keywordflow">return</span> num;</div>
<div class="line"><span class="lineno">  670</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a22342ac3be9a84c6131f396eab8bd4ba" name="a22342ac3be9a84c6131f396eab8bd4ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22342ac3be9a84c6131f396eab8bd4ba">&#9670;&#160;</a></span>log_change_tzone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_change_tzone </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>gmt</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to switch between gmt time &amp; local time. </p>
<dl class="section note"><dt>Note</dt><dd>For invalid values of gmt argument; local time is used</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">gmt</td><td>set gmt to 1 or 0 in order to use gmt time or local time respectively </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01075">1075</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1075</span>                          {</div>
<div class="line"><span class="lineno"> 1076</span>    <span class="keywordflow">if</span> (gmt == 1) {</div>
<div class="line"><span class="lineno"> 1077</span>        <a class="code hl_variable" href="#aecd1c33eda8dadb496cecee02527b6a3">log_time_fn</a> = gmtime;</div>
<div class="line"><span class="lineno"> 1078</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno"> 1079</span>    }</div>
<div class="line"><span class="lineno"> 1080</span> </div>
<div class="line"><span class="lineno"> 1081</span>    <a class="code hl_variable" href="#aecd1c33eda8dadb496cecee02527b6a3">log_time_fn</a> = localtime;</div>
<div class="line"><span class="lineno"> 1082</span>}</div>
<div class="ttc" id="alogbank_8c_html_aecd1c33eda8dadb496cecee02527b6a3"><div class="ttname"><a href="#aecd1c33eda8dadb496cecee02527b6a3">log_time_fn</a></div><div class="ttdeci">static struct tm *(* log_time_fn)(const time_t *)</div><div class="ttdoc">This function pointer points to a correct time-function based on time-zone.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00294">logbank.c:305</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1e18d059cd1fce51c78634715c40ae4" name="aa1e18d059cd1fce51c78634715c40ae4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e18d059cd1fce51c78634715c40ae4">&#9670;&#160;</a></span>log_create_parent_dirs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_create_parent_dirs </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is used to create parent directories required for new logging path. </p>
<p>This function separates file name from directory and uses <a class="el" href="#a1ce55d5bac5a5aed68db52e12c03f1cf">log_recursive_mkdir()</a> internally to create directories</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>pointer to the path buffer which is to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success; Created required parent directories </dd>
<dd>
-1 Failure; Couldn't create required parent directories </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00473">473</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  473</span>                                         {</div>
<div class="line"><span class="lineno">  474</span>    <span class="comment">/* Copy path in a new dir buffer */</span></div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordtype">char</span> dir[<a class="code hl_define" href="logbank__config_8h.html#afcc65d4c77be31d33587e653eb142dc3">LOG_MAX_PATH_LEN</a>];</div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordtype">size_t</span> size = <span class="keyword">sizeof</span>(dir);</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    strncpy(dir, path, size);</div>
<div class="line"><span class="lineno">  479</span>    dir[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    <span class="comment">/* Check if parent directories are supplied */</span></div>
<div class="line"><span class="lineno">  482</span>    <span class="keywordtype">char</span>* sep = strrchr(dir, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">if</span> (sep == NULL) {</div>
<div class="line"><span class="lineno">  484</span>        <span class="comment">/* No parent directories required */</span></div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  486</span>    }</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>    <span class="comment">/* Remove filename from path and create all parent directories recursively */</span></div>
<div class="line"><span class="lineno">  489</span>    *sep = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  490</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="#a1ce55d5bac5a5aed68db52e12c03f1cf">log_recursive_mkdir</a>(dir) &lt; 0) {</div>
<div class="line"><span class="lineno">  491</span>        <span class="comment">/* Couldn&#39;t create parent directories */</span></div>
<div class="line"><span class="lineno">  492</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  493</span>    }</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    <span class="comment">/* Created parent directories */</span></div>
<div class="line"><span class="lineno">  496</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  497</span>}</div>
<div class="ttc" id="alogbank_8c_html_a1ce55d5bac5a5aed68db52e12c03f1cf"><div class="ttname"><a href="#a1ce55d5bac5a5aed68db52e12c03f1cf">log_recursive_mkdir</a></div><div class="ttdeci">static int log_recursive_mkdir(const char *dir)</div><div class="ttdoc">This function is used to recursively create parent directories required by dir.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00437">logbank.c:437</a></div></div>
<div class="ttc" id="alogbank__config_8h_html_afcc65d4c77be31d33587e653eb142dc3"><div class="ttname"><a href="logbank__config_8h.html#afcc65d4c77be31d33587e653eb142dc3">LOG_MAX_PATH_LEN</a></div><div class="ttdeci">#define LOG_MAX_PATH_LEN</div><div class="ttdoc">Fixed Maximum allowed length for file-paths.</div><div class="ttdef"><b>Definition</b> <a href="logbank__config_8h_source.html#l00160">logbank_config.h:160</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2904c6d8c196655e95f5b0f72f802ca1" name="a2904c6d8c196655e95f5b0f72f802ca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2904c6d8c196655e95f5b0f72f802ca1">&#9670;&#160;</a></span>log_de_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_de_queue </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>message</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is used to retrieve oldest available log-message from log_queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">message</td><td>pointer to buffer which would be updated with oldest message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of message buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Retrieved oldest available message and updated to message buffer </dd>
<dd>
0 Queue is Empty; Retrieval is not possible </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00612">612</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  612</span>                                         {</div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordtype">int</span> read_index = <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a29c813da5ff4239d00b640232d58378c">read_index</a>;</div>
<div class="line"><span class="lineno">  614</span>    <span class="keywordtype">int</span> write_index = <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a464879c4c51845558ffbc1b2bcc9f00c">write_index</a>;</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordtype">int</span> queue_size = <a class="code hl_define" href="logbank__config_8h.html#a4caacfae62d7eef49d49b5498679f136">LOG_RETRIEVE_QUEUE_LEN</a> + 1;</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordflow">if</span> (read_index == write_index) {</div>
<div class="line"><span class="lineno">  618</span>        <span class="comment">/* Queue Empty */</span></div>
<div class="line"><span class="lineno">  619</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  620</span>    }</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* front = <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a6ab2d14d72a422104b98a0d6f0c5047a">data</a>[read_index];</div>
<div class="line"><span class="lineno">  623</span>    <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a29c813da5ff4239d00b640232d58378c">read_index</a> = (read_index + 1) % queue_size;</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>    strncpy(message, front, size);</div>
<div class="line"><span class="lineno">  626</span>    message[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">return</span> 1;</div>
<div class="line"><span class="lineno">  628</span>}</div>
<div class="ttc" id="alogbank_8c_html_ae6b4fb7774b5bf67f249a6ff0327f0e2"><div class="ttname"><a href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a></div><div class="ttdeci">static log_queue_t log_queue</div><div class="ttdoc">circular queue (FIFO) used for retrieval of recent logs</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00259">logbank.c:259</a></div></div>
<div class="ttc" id="alogbank__config_8h_html_a4caacfae62d7eef49d49b5498679f136"><div class="ttname"><a href="logbank__config_8h.html#a4caacfae62d7eef49d49b5498679f136">LOG_RETRIEVE_QUEUE_LEN</a></div><div class="ttdeci">#define LOG_RETRIEVE_QUEUE_LEN</div><div class="ttdoc">Length of internal log_queue which is used to retrieve recent logs.</div><div class="ttdef"><b>Definition</b> <a href="logbank__config_8h_source.html#l00112">logbank_config.h:112</a></div></div>
<div class="ttc" id="astructlog__queue__t_html_a29c813da5ff4239d00b640232d58378c"><div class="ttname"><a href="structlog__queue__t.html#a29c813da5ff4239d00b640232d58378c">log_queue_t::read_index</a></div><div class="ttdeci">int read_index</div><div class="ttdoc">logs are read from read_index of queue</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00252">logbank.c:252</a></div></div>
<div class="ttc" id="astructlog__queue__t_html_a464879c4c51845558ffbc1b2bcc9f00c"><div class="ttname"><a href="structlog__queue__t.html#a464879c4c51845558ffbc1b2bcc9f00c">log_queue_t::write_index</a></div><div class="ttdeci">int write_index</div><div class="ttdoc">logs are written on write_index of queue</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00251">logbank.c:251</a></div></div>
<div class="ttc" id="astructlog__queue__t_html_a6ab2d14d72a422104b98a0d6f0c5047a"><div class="ttname"><a href="structlog__queue__t.html#a6ab2d14d72a422104b98a0d6f0c5047a">log_queue_t::data</a></div><div class="ttdeci">char data[LOG_RETRIEVE_QUEUE_LEN+1][LOG_MAX_DATA_LEN]</div><div class="ttdoc">array of log-messages</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00250">logbank.c:250</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad315a1e2645c212deedef5aa5ccbb472" name="ad315a1e2645c212deedef5aa5ccbb472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad315a1e2645c212deedef5aa5ccbb472">&#9670;&#160;</a></span>log_en_queue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_en_queue </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is used to add a new log-message to log_queue. </p>
<dl class="section note"><dt>Note</dt><dd>Size of message buffer should be less than or equal to LOG_MAX_DATA_LEN</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>pointer to buffer which contains message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00584">584</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  584</span>                                  {</div>
<div class="line"><span class="lineno">  585</span>    <span class="keywordtype">int</span> read_index = <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a29c813da5ff4239d00b640232d58378c">read_index</a>;</div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordtype">int</span> write_index = <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a464879c4c51845558ffbc1b2bcc9f00c">write_index</a>;</div>
<div class="line"><span class="lineno">  587</span>    <span class="keywordtype">int</span> queue_size = <a class="code hl_define" href="logbank__config_8h.html#a4caacfae62d7eef49d49b5498679f136">LOG_RETRIEVE_QUEUE_LEN</a> + 1;</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">if</span> ((write_index + 1) % queue_size == read_index) {</div>
<div class="line"><span class="lineno">  590</span>        <span class="comment">/* Queue Full */</span></div>
<div class="line"><span class="lineno">  591</span>        <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a29c813da5ff4239d00b640232d58378c">read_index</a> = (read_index + 1) % queue_size;</div>
<div class="line"><span class="lineno">  592</span>    }</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    <span class="keywordtype">char</span>* rear = <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a6ab2d14d72a422104b98a0d6f0c5047a">data</a>[write_index];</div>
<div class="line"><span class="lineno">  595</span>    <a class="code hl_variable" href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">log_queue</a>.<a class="code hl_variable" href="structlog__queue__t.html#a464879c4c51845558ffbc1b2bcc9f00c">write_index</a> = (write_index + 1) % queue_size;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    <span class="keywordtype">size_t</span> size = <a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a>;</div>
<div class="line"><span class="lineno">  598</span>    (void)snprintf(rear, size, <span class="stringliteral">&quot;%s&quot;</span>, message);</div>
<div class="line"><span class="lineno">  599</span>    rear[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  600</span>}</div>
<div class="ttc" id="alogbank__config_8h_html_a729d70bad9089a4fa7af7191b278d434"><div class="ttname"><a href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a></div><div class="ttdeci">#define LOG_MAX_DATA_LEN</div><div class="ttdoc">Maximum allowed length for log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank__config_8h_source.html#l00085">logbank_config.h:85</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e49b5594c4aed69441bc2b4b0e8e0e7" name="a5e49b5594c4aed69441bc2b4b0e8e0e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e49b5594c4aed69441bc2b4b0e8e0e7">&#9670;&#160;</a></span>log_get_default_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_get_default_level </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns default value for log_level See <a class="el" href="logbank__config_8h.html#a0b87e0d3bf5853bcbb0b66a7c48fdc05">LOG_LEVEL</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>int Returns default log_level </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01032">1032</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1032</span>                            {</div>
<div class="line"><span class="lineno"> 1033</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="logbank__config_8h.html#a0b87e0d3bf5853bcbb0b66a7c48fdc05">LOG_LEVEL</a>;</div>
<div class="line"><span class="lineno"> 1034</span>}</div>
<div class="ttc" id="alogbank__config_8h_html_a0b87e0d3bf5853bcbb0b66a7c48fdc05"><div class="ttname"><a href="logbank__config_8h.html#a0b87e0d3bf5853bcbb0b66a7c48fdc05">LOG_LEVEL</a></div><div class="ttdeci">#define LOG_LEVEL</div><div class="ttdoc">Default value for log_level.</div><div class="ttdef"><b>Definition</b> <a href="logbank__config_8h_source.html#l00134">logbank_config.h:134</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab53553042bb3122475a03674bd689d5a" name="ab53553042bb3122475a03674bd689d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab53553042bb3122475a03674bd689d5a">&#9670;&#160;</a></span>log_get_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_get_level </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns current value for log_level. </p>
<dl class="section return"><dt>Returns</dt><dd>int Returns log_level </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01037">1037</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1037</span>                    {</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="#ac91d55174d383848b976a34de843748e">log_level</a>;</div>
<div class="line"><span class="lineno"> 1039</span>}</div>
<div class="ttc" id="alogbank_8c_html_ac91d55174d383848b976a34de843748e"><div class="ttname"><a href="#ac91d55174d383848b976a34de843748e">log_level</a></div><div class="ttdeci">static int log_level</div><div class="ttdoc">This value acts as a filter to discard lower-priority log-requests.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00266">logbank.c:266</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f37fc38d4885ae4fd5f499787e5f550" name="a2f37fc38d4885ae4fd5f499787e5f550"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f37fc38d4885ae4fd5f499787e5f550">&#9670;&#160;</a></span>log_get_levelname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char * log_get_levelname </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to read name of a particular log-level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>priority value of level whose name is required </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>const char* on Success =&gt; Returns pointer to pre-configured level-name </dd>
<dd>
NULL on Failure =&gt; invalid level </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01053">1053</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1053</span>                             {</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* level_names[] = {<span class="stringliteral">&quot;DEBUG&quot;</span>, <span class="stringliteral">&quot;INFO&quot;</span>, <span class="stringliteral">&quot;WARN&quot;</span>, <span class="stringliteral">&quot;ERROR&quot;</span>, <span class="stringliteral">&quot;ISSUE&quot;</span>, <span class="stringliteral">&quot;FATAL&quot;</span>};</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>    <span class="keywordflow">if</span> (level &lt; LOG_DEBUG || level &gt; <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc">LOG_FATAL</a>) {</div>
<div class="line"><span class="lineno"> 1057</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno"> 1058</span>    }</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordflow">return</span> level_names[level];</div>
<div class="line"><span class="lineno"> 1061</span>}</div>
<div class="ttc" id="alogbank_8h_html_a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc"><div class="ttname"><a href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc">LOG_FATAL</a></div><div class="ttdeci">@ LOG_FATAL</div><div class="ttdoc">recommended for blockers (system failure: can not continue)</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00035">logbank.h:35</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a99198e1af155f869f5d31a85706d073c" name="a99198e1af155f869f5d31a85706d073c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99198e1af155f869f5d31a85706d073c">&#9670;&#160;</a></span>log_get_logfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_get_logfile </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>path</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to read path of log file currently being used. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">path</td><td>path buffer which would be updated with desired path </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of path buffer </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01064">1064</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1064</span>                                         {</div>
<div class="line"><span class="lineno"> 1065</span>    strncpy(path, <a class="code hl_variable" href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a>, size);</div>
<div class="line"><span class="lineno"> 1066</span>    path[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1067</span>}</div>
<div class="ttc" id="alogbank_8c_html_a7e19291b515046d7ab2c178cf3d8dbdc"><div class="ttname"><a href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a></div><div class="ttdeci">static char log_path[LOG_MAX_PATH_LEN]</div><div class="ttdoc">This string is the path to file in use to write-stream.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00280">logbank.c:280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c0bafbb7eff649930512bdefd411de2" name="a1c0bafbb7eff649930512bdefd411de2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c0bafbb7eff649930512bdefd411de2">&#9670;&#160;</a></span>log_get_queue_len()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_get_queue_len </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the value of <a class="el" href="logbank__config_8h.html#a4caacfae62d7eef49d49b5498679f136">LOG_RETRIEVE_QUEUE_LEN</a>. </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01159">1159</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1159</span>                        {</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keywordflow">return</span> <a class="code hl_define" href="logbank__config_8h.html#a4caacfae62d7eef49d49b5498679f136">LOG_RETRIEVE_QUEUE_LEN</a>;</div>
<div class="line"><span class="lineno"> 1161</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a23e92ab1af0e88c03f627dac4ea7df48" name="a23e92ab1af0e88c03f627dac4ea7df48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23e92ab1af0e88c03f627dac4ea7df48">&#9670;&#160;</a></span>log_parser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_parser </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>message</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function parses &amp; separates all the details with in the message. </p>
<ul>
<li>removes header from message<ul>
<li>populates info from message</li>
</ul>
</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">message</td><td>pointer to buffer which contains message (will be updated to contain no header/colors) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of message buffer </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>pointer to empty info buffer which will be populated with parsed data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success; parsed input message </dd>
<dd>
-1 Failure; couldn't parse input message </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01183">1183</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1183</span>                                                                {</div>
<div class="line"><span class="lineno"> 1184</span>    <span class="keywordflow">if</span> (message == NULL || size &lt; <a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a> || info == NULL) {</div>
<div class="line"><span class="lineno"> 1185</span>        <span class="comment">/* Invalid parameters */</span></div>
<div class="line"><span class="lineno"> 1186</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1187</span>    }</div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>    <span class="comment">/* Create a reference copy */</span></div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keywordtype">char</span> copy[<a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a>];</div>
<div class="line"><span class="lineno"> 1191</span>    strncpy(copy, message, <a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a>);</div>
<div class="line"><span class="lineno"> 1192</span>    copy[<a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1193</span> </div>
<div class="line"><span class="lineno"> 1194</span>    <span class="comment">/* Remove colors */</span></div>
<div class="line"><span class="lineno"> 1195</span>    <a class="code hl_function" href="#ada483370fa70cd182fa9f81e8d1c8b0c">log_remove_colors</a>(copy);</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>    <span class="comment">/* Start Parsing */</span></div>
<div class="line"><span class="lineno"> 1198</span>    <span class="keywordtype">int</span> state = <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739">LOG_PARSER_INIT</a>;</div>
<div class="line"><span class="lineno"> 1199</span>    <span class="keywordflow">while</span> (state &lt; <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8">LOG_PARSER_DONE</a>) {</div>
<div class="line"><span class="lineno"> 1200</span> </div>
<div class="line"><span class="lineno"> 1201</span>        <span class="keywordflow">switch</span> (state) {</div>
<div class="line"><span class="lineno"> 1202</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739">LOG_PARSER_INIT</a>: {</div>
<div class="line"><span class="lineno"> 1203</span>                state = <a class="code hl_function" href="#a71249e077c2ba82ba172b73263a446c9">parse_datetime</a>(copy, info);</div>
<div class="line"><span class="lineno"> 1204</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1205</span>            }</div>
<div class="line"><span class="lineno"> 1206</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73">LOG_PARSER_LEVEL</a>: {</div>
<div class="line"><span class="lineno"> 1207</span>                state = <a class="code hl_function" href="#a66b27f4f9997b08f6b1babdee8406102">parse_level</a>(copy, info);</div>
<div class="line"><span class="lineno"> 1208</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1209</span>            }</div>
<div class="line"><span class="lineno"> 1210</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc">LOG_PARSER_LOCATION</a>: {</div>
<div class="line"><span class="lineno"> 1211</span>                state = <a class="code hl_function" href="#aaf13a0db1967c342e204aa844df01fda">parse_location</a>(copy, info);</div>
<div class="line"><span class="lineno"> 1212</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1213</span>            }</div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9">LOG_PARSER_DATA</a>: {</div>
<div class="line"><span class="lineno"> 1215</span>                state = <a class="code hl_function" href="#ad93e16f63aa5d848b4ee0eda72f092ac">parse_data_string</a>(message, size, copy);</div>
<div class="line"><span class="lineno"> 1216</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1217</span>            }</div>
<div class="line"><span class="lineno"> 1218</span>            <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno"> 1219</span>        }</div>
<div class="line"><span class="lineno"> 1220</span>    }</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span>    <span class="comment">/* Check parsing state */</span></div>
<div class="line"><span class="lineno"> 1223</span>    <span class="keywordflow">return</span> state == <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8">LOG_PARSER_DONE</a> ? 0 : -1;</div>
<div class="line"><span class="lineno"> 1224</span>}</div>
<div class="ttc" id="alogbank_8c_html_a66b27f4f9997b08f6b1babdee8406102"><div class="ttname"><a href="#a66b27f4f9997b08f6b1babdee8406102">parse_level</a></div><div class="ttdeci">static int parse_level(const char *copy, log_parser_info_t *info)</div><div class="ttdoc">Used to parse level parameter from copy of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00824">logbank.c:824</a></div></div>
<div class="ttc" id="alogbank_8c_html_a71249e077c2ba82ba172b73263a446c9"><div class="ttname"><a href="#a71249e077c2ba82ba172b73263a446c9">parse_datetime</a></div><div class="ttdeci">static int parse_datetime(const char *copy, log_parser_info_t *info)</div><div class="ttdoc">Used to parse date &amp; time parameter from copy of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00805">logbank.c:805</a></div></div>
<div class="ttc" id="alogbank_8c_html_aaf13a0db1967c342e204aa844df01fda"><div class="ttname"><a href="#aaf13a0db1967c342e204aa844df01fda">parse_location</a></div><div class="ttdeci">static int parse_location(const char *copy, log_parser_info_t *info)</div><div class="ttdoc">Used to parse function name, file name &amp; line number parameter from copy of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00964">logbank.c:964</a></div></div>
<div class="ttc" id="alogbank_8c_html_ad93e16f63aa5d848b4ee0eda72f092ac"><div class="ttname"><a href="#ad93e16f63aa5d848b4ee0eda72f092ac">parse_data_string</a></div><div class="ttdeci">static int parse_data_string(char *message, size_t size, const char *copy)</div><div class="ttdoc">Used to separate data string from message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l01002">logbank.c:1002</a></div></div>
<div class="ttc" id="alogbank_8c_html_ada483370fa70cd182fa9f81e8d1c8b0c"><div class="ttname"><a href="#ada483370fa70cd182fa9f81e8d1c8b0c">log_remove_colors</a></div><div class="ttdeci">void log_remove_colors(char *message)</div><div class="ttdoc">This function removes ANSI color codes from message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l01169">logbank.c:1169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ce55d5bac5a5aed68db52e12c03f1cf" name="a1ce55d5bac5a5aed68db52e12c03f1cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ce55d5bac5a5aed68db52e12c03f1cf">&#9670;&#160;</a></span>log_recursive_mkdir()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_recursive_mkdir </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>dir</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function is used to recursively create parent directories required by dir. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">dir</td><td>pointer to the path buffer which is to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success; Created required parent directories </dd>
<dd>
-1 Failure; Couldn't create required parent directories </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00437">437</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  437</span>                                     {</div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">if</span> (dir == NULL) {</div>
<div class="line"><span class="lineno">  439</span>        <span class="comment">/* dir not supplied */</span></div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  441</span>    }</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>    <span class="comment">/* separator in path which exist between directories */</span></div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordtype">char</span>* sep = strrchr(dir, <span class="charliteral">&#39;/&#39;</span>);</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="keywordflow">if</span> (sep != NULL) {</div>
<div class="line"><span class="lineno">  447</span>        <span class="comment">/* Calling this function again with only parent-directory */</span></div>
<div class="line"><span class="lineno">  448</span>        *sep = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  449</span>        <a class="code hl_function" href="#a1ce55d5bac5a5aed68db52e12c03f1cf">log_recursive_mkdir</a>(dir);</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>        <span class="comment">/* Revert by joining back the separated sub-directory */</span></div>
<div class="line"><span class="lineno">  452</span>        *sep = <span class="charliteral">&#39;/&#39;</span>;</div>
<div class="line"><span class="lineno">  453</span>    }</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="#a3d024e32d04ee39146b0be5c79e61d34">LOG_MKDIR</a>(dir) &amp;&amp; errno != EEXIST) {</div>
<div class="line"><span class="lineno">  456</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  457</span>    }</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  460</span>}</div>
<div class="ttc" id="alogbank_8c_html_a3d024e32d04ee39146b0be5c79e61d34"><div class="ttname"><a href="#a3d024e32d04ee39146b0be5c79e61d34">LOG_MKDIR</a></div><div class="ttdeci">#define LOG_MKDIR(dir)</div><div class="ttdoc">Used to create directories (posix)</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00030">logbank.c:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ada483370fa70cd182fa9f81e8d1c8b0c" name="ada483370fa70cd182fa9f81e8d1c8b0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada483370fa70cd182fa9f81e8d1c8b0c">&#9670;&#160;</a></span>log_remove_colors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void log_remove_colors </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function removes ANSI color codes from message. </p>
<p>This function checks occurrence of each available color and removes them using <a class="el" href="#af0d7ece6c0f2053c37d77e4ebdd4d728">log_str_replace()</a> For each color this funtion attempts to remove it twice; because, <a class="el" href="#a61610956cd7b586c8745be62d0b04bb4">update_header()</a> adds one particular color a maximum of 2 times</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">message</td><td>pointer to buffer which would be updated with oldest message </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01169">1169</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1169</span>                                 {</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = 0; index &lt;= <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70">LOG_COLOR_END</a>; index++) {</div>
<div class="line"><span class="lineno"> 1172</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* color = <a class="code hl_variable" href="#a190f05562784d975771cf3c914c5fe45">color_list</a>[index];</div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span>        <span class="keywordflow">if</span> (strstr(message, color)) {</div>
<div class="line"><span class="lineno"> 1175</span>            <span class="comment">/* One color is used a maximum of 2 times in update_header() */</span></div>
<div class="line"><span class="lineno"> 1176</span>            <a class="code hl_function" href="#af0d7ece6c0f2053c37d77e4ebdd4d728">log_str_replace</a>(message, color);</div>
<div class="line"><span class="lineno"> 1177</span>            <a class="code hl_function" href="#af0d7ece6c0f2053c37d77e4ebdd4d728">log_str_replace</a>(message, color);</div>
<div class="line"><span class="lineno"> 1178</span>        }</div>
<div class="line"><span class="lineno"> 1179</span>    }</div>
<div class="line"><span class="lineno"> 1180</span>}</div>
<div class="ttc" id="alogbank_8c_html_a190f05562784d975771cf3c914c5fe45"><div class="ttname"><a href="#a190f05562784d975771cf3c914c5fe45">color_list</a></div><div class="ttdeci">static const char * color_list[]</div><div class="ttdoc">list of available ANSI color codes for foreground text</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00200">logbank.c:200</a></div></div>
<div class="ttc" id="alogbank_8c_html_af0d7ece6c0f2053c37d77e4ebdd4d728"><div class="ttname"><a href="#af0d7ece6c0f2053c37d77e4ebdd4d728">log_str_replace</a></div><div class="ttdeci">static char * log_str_replace(char *source, const char *remove)</div><div class="ttdoc">Used to strip away first occurrence of &quot;remove&quot; from &quot;source&quot;.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00641">logbank.c:641</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cb516ab3c896f857b73e25c5dadef73" name="a6cb516ab3c896f857b73e25c5dadef73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb516ab3c896f857b73e25c5dadef73">&#9670;&#160;</a></span>log_retrieve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_retrieve </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>message</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to retrieve oldest available log-message from log_queue. </p>
<p>wrapper around internal function <a class="el" href="#a2904c6d8c196655e95f5b0f72f802ca1">log_de_queue()</a></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">message</td><td>pointer to buffer which would be updated with oldest message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of message buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 Retrieved oldest available message and updated to message buffer </dd>
<dd>
0 Queue is Empty; Retrieval is not possible </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01164">1164</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1164</span>                                         {</div>
<div class="line"><span class="lineno"> 1165</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a2904c6d8c196655e95f5b0f72f802ca1">log_de_queue</a>(message, size);</div>
<div class="line"><span class="lineno"> 1166</span>}</div>
<div class="ttc" id="alogbank_8c_html_a2904c6d8c196655e95f5b0f72f802ca1"><div class="ttname"><a href="#a2904c6d8c196655e95f5b0f72f802ca1">log_de_queue</a></div><div class="ttdeci">static int log_de_queue(char *message, size_t size)</div><div class="ttdoc">This function is used to retrieve oldest available log-message from log_queue.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00612">logbank.c:612</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af0d39913e824d4d0aef7513b284ea289" name="af0d39913e824d4d0aef7513b284ea289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d39913e824d4d0aef7513b284ea289">&#9670;&#160;</a></span>log_set_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_set_level </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function configures value for log_level. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>new value of log level </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;=0 on Success =&gt; Returns previous (last used) value of log_level </dd>
<dd>
-1 on Failure =&gt; Supplied new value can not be configured </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01042">1042</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1042</span>                         {</div>
<div class="line"><span class="lineno"> 1043</span>    <span class="keywordflow">if</span> (level &lt; LOG_DEBUG || level &gt; <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc">LOG_FATAL</a>) {</div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1045</span>    }</div>
<div class="line"><span class="lineno"> 1046</span> </div>
<div class="line"><span class="lineno"> 1047</span>    <span class="keywordtype">int</span> old = <a class="code hl_variable" href="#ac91d55174d383848b976a34de843748e">log_level</a>;</div>
<div class="line"><span class="lineno"> 1048</span>    <a class="code hl_variable" href="#ac91d55174d383848b976a34de843748e">log_level</a> = level;</div>
<div class="line"><span class="lineno"> 1049</span>    <span class="keywordflow">return</span> old;</div>
<div class="line"><span class="lineno"> 1050</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7ec68aebf120e2541716176bf710517" name="aa7ec68aebf120e2541716176bf710517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ec68aebf120e2541716176bf710517">&#9670;&#160;</a></span>log_set_logfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_set_logfile </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Used to configure path of log file to be used for logging. </p>
<ul>
<li>To configure a file path; supply path to a file in path buffer<ul>
<li>To configure stdout; supply "stdout" or "/dev/stdout" to path buffer</li>
<li>To configure stderr; supply "stderr" or "/dev/stderr" to path buffer</li>
</ul>
</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>If this function fails then logging would still continue on previous path</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>path buffer containing path to be used for logging</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success; Started logging on new path </dd>
<dd>
-1 Failure; Couldn't start logging on new path </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01070">1070</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1070</span>                                  {</div>
<div class="line"><span class="lineno"> 1071</span>    <span class="keywordflow">return</span> <a class="code hl_function" href="#a85f752cf8128317e84b239fbcaaf6378">log_stream_open</a>(path);</div>
<div class="line"><span class="lineno"> 1072</span>}</div>
<div class="ttc" id="alogbank_8c_html_a85f752cf8128317e84b239fbcaaf6378"><div class="ttname"><a href="#a85f752cf8128317e84b239fbcaaf6378">log_stream_open</a></div><div class="ttdeci">static int log_stream_open(const char *path)</div><div class="ttdoc">Used to open a new logging stream.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00509">logbank.c:509</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7428ec2d45d3df3bbb27094a8f8d585a" name="a7428ec2d45d3df3bbb27094a8f8d585a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7428ec2d45d3df3bbb27094a8f8d585a">&#9670;&#160;</a></span>log_stamp_collector()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_stamp_collector </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>stamp</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>format</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to collect system date/time in requested format. </p>
<p>Check <a class="el" href="#a1ea36cc09a0aa530b338c94960baf512">LOG_DATE_FORMAT</a>, <a class="el" href="#a1273f9f835f4a7ad5304c7e633e20b68">LOG_TIME_FORMAT</a> for available formats </p><dl class="section note"><dt>Note</dt><dd>This function is not thread-safe</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">stamp</td><td>pointer to assigned memory for stamp buffer used to collect stamp </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format</td><td>Choose between LOG_DATE_FORMAT/LOG_TIME_FORMAT </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>sizeof(stamp); (Currently LOG_DATE_LEN, LOG_TIME_LEN are both 11) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00318">318</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  318</span>                                                                  {</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">if</span> (stamp == NULL) {</div>
<div class="line"><span class="lineno">  320</span>        <span class="comment">/* stamp doesn&#39;t have a designated memory */</span></div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  322</span>    }</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="comment">/* Get raw-time */</span></div>
<div class="line"><span class="lineno">  325</span>    time_t time_raw = time(NULL);</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="comment">/* Receive time from assigned log_time_fn (this ensures correct time-zone) */</span></div>
<div class="line"><span class="lineno">  328</span>    <span class="keyword">const</span> <span class="keyword">struct </span>tm* time_tm = <a class="code hl_variable" href="#aecd1c33eda8dadb496cecee02527b6a3">log_time_fn</a> != NULL ? <a class="code hl_variable" href="#aecd1c33eda8dadb496cecee02527b6a3">log_time_fn</a>(&amp;time_raw) : localtime(&amp;time_raw);</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <span class="comment">/* Reformat time to requested format */</span></div>
<div class="line"><span class="lineno">  331</span>    (void)strftime(stamp, size, format, (<span class="keyword">const</span> <span class="keyword">struct</span> tm*)time_tm);</div>
<div class="line"><span class="lineno">  332</span>    stamp[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  334</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af0d7ece6c0f2053c37d77e4ebdd4d728" name="af0d7ece6c0f2053c37d77e4ebdd4d728"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0d7ece6c0f2053c37d77e4ebdd4d728">&#9670;&#160;</a></span>log_str_replace()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_str_replace </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>source</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>remove</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to strip away first occurrence of "remove" from "source". </p>
<p>First occurrence of "remove" string is replaced by later part of the "source" string "source" string is returned as is if it doesn't contain "remove" string</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">source</td><td>Pointer to buffer containing source string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">remove</td><td>Pointer to string which is to be removed </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* Pointer to updated source string </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00641">641</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  641</span>                                                  {</div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordtype">char</span>* ptr = strstr(source, remove);</div>
<div class="line"><span class="lineno">  643</span>    <span class="keywordflow">if</span> (ptr != NULL) {</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordtype">size_t</span> len1 = strlen(remove);</div>
<div class="line"><span class="lineno">  645</span>        <span class="keywordflow">if</span> (len1 != 0) {</div>
<div class="line"><span class="lineno">  646</span>            memmove(ptr, ptr + len1, strlen(ptr + len1) + 1);</div>
<div class="line"><span class="lineno">  647</span>        }</div>
<div class="line"><span class="lineno">  648</span>    }</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    <span class="keywordflow">return</span> source;</div>
<div class="line"><span class="lineno">  651</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85f752cf8128317e84b239fbcaaf6378" name="a85f752cf8128317e84b239fbcaaf6378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85f752cf8128317e84b239fbcaaf6378">&#9670;&#160;</a></span>log_stream_open()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_stream_open </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>path</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to open a new logging stream. </p>
<p>This function automatically checks if a new file or directory is to be created</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">path</td><td>pointer to the path buffer which is to be used for logging </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 Success; Started logging on new supplied path </dd>
<dd>
-1 Failure; Couldn't starting logging on new supplied path </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00509">509</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  509</span>                                  {</div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordflow">if</span> (path == NULL || <span class="keyword">sizeof</span>(path) &gt; <a class="code hl_define" href="logbank__config_8h.html#afcc65d4c77be31d33587e653eb142dc3">LOG_MAX_PATH_LEN</a>) {</div>
<div class="line"><span class="lineno">  511</span>        <span class="comment">/* Invalid path */</span></div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  513</span>    }</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="comment">/* Check if new path is same as log_path currently in use */</span></div>
<div class="line"><span class="lineno">  516</span>    <span class="keywordflow">if</span> (strcmp(path, <a class="code hl_variable" href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a>) == 0) {</div>
<div class="line"><span class="lineno">  517</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  518</span>    }</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    FILE* fptr = NULL;</div>
<div class="line"><span class="lineno">  521</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="#ad153d2cab8cbb360854ff1b4f3c009f5">LOG_CHECK_FILEPATH</a>(path)) {</div>
<div class="line"><span class="lineno">  522</span>        <span class="comment">/* Create parent directories */</span></div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">if</span> (<a class="code hl_function" href="#aa1e18d059cd1fce51c78634715c40ae4">log_create_parent_dirs</a>(path) &lt; 0) {</div>
<div class="line"><span class="lineno">  524</span>            <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  525</span>        }</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>        <span class="comment">/* Open new stream in append mode */</span></div>
<div class="line"><span class="lineno">  528</span>        fptr = fopen(path, <span class="stringliteral">&quot;a&quot;</span>);</div>
<div class="line"><span class="lineno">  529</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  530</span>        <span class="comment">/* Assign stdout or stderr */</span></div>
<div class="line"><span class="lineno">  531</span>        fptr = <a class="code hl_define" href="#ad2b32710be6914b23a9fac797f5abc36">LOG_CHECK_PATH</a>(path, <span class="stringliteral">&quot;stdout&quot;</span>) ? stdout : stderr;</div>
<div class="line"><span class="lineno">  532</span>    }</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">if</span> (fptr == NULL) {</div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno">  536</span>    }</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>    <span class="comment">/* Close old fp */</span></div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">if</span> (<a class="code hl_define" href="#ae6128407d52c14b001567419568dc568">LOG_CHECK_FILEPTR</a>(<a class="code hl_variable" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a>)) {</div>
<div class="line"><span class="lineno">  540</span>        (void)fclose(<a class="code hl_variable" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a>);</div>
<div class="line"><span class="lineno">  541</span>    }</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>    <span class="comment">/* Assign new values to log_fptr and log_path */</span></div>
<div class="line"><span class="lineno">  544</span>    <a class="code hl_variable" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a> = fptr;</div>
<div class="line"><span class="lineno">  545</span>    strncpy(<a class="code hl_variable" href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a>, path, <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a>) - 1);</div>
<div class="line"><span class="lineno">  546</span>    <a class="code hl_variable" href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a>[<span class="keyword">sizeof</span>(<a class="code hl_variable" href="#a7e19291b515046d7ab2c178cf3d8dbdc">log_path</a>) - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  548</span>}</div>
<div class="ttc" id="alogbank_8c_html_a05d8923dbf1550325f81ba53458f31c8"><div class="ttname"><a href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a></div><div class="ttdeci">static FILE * log_fptr</div><div class="ttdoc">This variable stores the file pointer being used to write-stream.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00273">logbank.c:273</a></div></div>
<div class="ttc" id="alogbank_8c_html_aa1e18d059cd1fce51c78634715c40ae4"><div class="ttname"><a href="#aa1e18d059cd1fce51c78634715c40ae4">log_create_parent_dirs</a></div><div class="ttdeci">static int log_create_parent_dirs(const char *path)</div><div class="ttdoc">This function is used to create parent directories required for new logging path.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00473">logbank.c:473</a></div></div>
<div class="ttc" id="alogbank_8c_html_ad153d2cab8cbb360854ff1b4f3c009f5"><div class="ttname"><a href="#ad153d2cab8cbb360854ff1b4f3c009f5">LOG_CHECK_FILEPATH</a></div><div class="ttdeci">#define LOG_CHECK_FILEPATH(path)</div><div class="ttdoc">Used to check if path corresponds to a filepath.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00072">logbank.c:72</a></div></div>
<div class="ttc" id="alogbank_8c_html_ad2b32710be6914b23a9fac797f5abc36"><div class="ttname"><a href="#ad2b32710be6914b23a9fac797f5abc36">LOG_CHECK_PATH</a></div><div class="ttdeci">#define LOG_CHECK_PATH(path, check)</div><div class="ttdoc">Used to check if path contains check.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00052">logbank.c:52</a></div></div>
<div class="ttc" id="alogbank_8c_html_ae6128407d52c14b001567419568dc568"><div class="ttname"><a href="#ae6128407d52c14b001567419568dc568">LOG_CHECK_FILEPTR</a></div><div class="ttdeci">#define LOG_CHECK_FILEPTR(fptr)</div><div class="ttdoc">Used to check if fptr corresponds to a stdpath like stderr/stdout.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00041">logbank.c:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a940b19d7c5b87e1e9f5c74376a04831e" name="a940b19d7c5b87e1e9f5c74376a04831e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a940b19d7c5b87e1e9f5c74376a04831e">&#9670;&#160;</a></span>log_stream_write()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_stream_write </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>message</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>write directly to configured stream </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">message</td><td>pointer to log-message buffer to write </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00557">557</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  557</span>                                      {</div>
<div class="line"><span class="lineno">  558</span>    FILE* fptr = <a class="code hl_variable" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a> == NULL ? stderr : <a class="code hl_variable" href="#a05d8923dbf1550325f81ba53458f31c8">log_fptr</a>;</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <span class="comment">/* flush and lock action */</span></div>
<div class="line"><span class="lineno">  561</span>    (void)fflush(fptr);</div>
<div class="line"><span class="lineno">  562</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno">  563</span>    flockfile(fptr);</div>
<div class="line"><span class="lineno">  564</span><span class="preprocessor">#endif </span><span class="comment">/* !_WIN32 */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="comment">/* write action */</span></div>
<div class="line"><span class="lineno">  567</span>    (void)fprintf(fptr, <span class="stringliteral">&quot;%s&quot;</span>, message);</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>    <span class="comment">/* flush and unlock action */</span></div>
<div class="line"><span class="lineno">  570</span>    (void)fflush(fptr);</div>
<div class="line"><span class="lineno">  571</span><span class="preprocessor">#ifndef _WIN32</span></div>
<div class="line"><span class="lineno">  572</span>    funlockfile(fptr);</div>
<div class="line"><span class="lineno">  573</span><span class="preprocessor">#endif </span><span class="comment">/* !_WIN32 */</span><span class="preprocessor"></span></div>
<div class="line"><span class="lineno">  574</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad078e8b28af95662960b20b873f2c616" name="ad078e8b28af95662960b20b873f2c616"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad078e8b28af95662960b20b873f2c616">&#9670;&#160;</a></span>log_strtok_r()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_strtok_r </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>str</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>delim</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **</td>          <td class="paramname"><span class="paramname"><em>saveptr</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used in place of strtok_r. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">str</td><td>pointer to input string </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">delim</td><td>pointer to delimiter </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">saveptr</td><td>pointer to saveptr required to pass next item when str is NULL</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>char* Success: pointer to modified input string </dd>
<dd>
NULL Failure: str and *saveptr are both NULL or str doesn't contain delim </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00684">684</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  684</span>                                                           {</div>
<div class="line"><span class="lineno">  685</span>    <span class="keywordflow">if</span> (!str &amp;&amp; !(str = *saveptr)) {</div>
<div class="line"><span class="lineno">  686</span>        <span class="keywordflow">return</span> NULL;</div>
<div class="line"><span class="lineno">  687</span>    }</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    str += strspn(str, delim);</div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">if</span> (!*str) {</div>
<div class="line"><span class="lineno">  691</span>        <span class="keywordflow">return</span> *saveptr = 0;</div>
<div class="line"><span class="lineno">  692</span>    }</div>
<div class="line"><span class="lineno">  693</span>    *saveptr = str + strcspn(str, delim);</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">if</span> (**saveptr) {</div>
<div class="line"><span class="lineno">  696</span>        *(*saveptr)++ = 0;</div>
<div class="line"><span class="lineno">  697</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  698</span>        *saveptr = 0;</div>
<div class="line"><span class="lineno">  699</span>    }</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">return</span> str;</div>
<div class="line"><span class="lineno">  702</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af4c62a16c3bbb595d0ada4b00a8b4092" name="af4c62a16c3bbb595d0ada4b00a8b4092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4c62a16c3bbb595d0ada4b00a8b4092">&#9670;&#160;</a></span>log_this()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_this </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__locate__t.html">log_locate_t</a></td>          <td class="paramname"><span class="paramname"><em>locate</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>fmt</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>...</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is the main logging function of this library. </p>
<p>This function parses arguments similar to that of printf So, format argument of this function can be replaced by only argument used for log-message</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>priority of this log-request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">locate</td><td>location parameters for this log-request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fmt</td><td>format for arguments for log-message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>optional arguments for log-message</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>&gt;0 Success: Message logged and Positive returned value is the length of logged message </dd>
<dd>
=0 Failure: Message ignored because of lower-priority </dd>
<dd>
&lt;0 Failure: Overflow occurred. </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01118">1118</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1118</span>                                                               {</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="keywordtype">int</span> len = 0;</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>    <span class="comment">/* Filtering logic for lower priority log-requests and invalid priority requests */</span></div>
<div class="line"><span class="lineno"> 1122</span>    <span class="keywordflow">if</span> (level &lt; log_level || level &gt; <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc">LOG_FATAL</a>) {</div>
<div class="line"><span class="lineno"> 1123</span>        <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno"> 1124</span>    }</div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span>    <span class="comment">/* prepare log-message */</span></div>
<div class="line"><span class="lineno"> 1127</span>    <span class="keywordtype">char</span> message[<a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a>];</div>
<div class="line"><span class="lineno"> 1128</span>    <span class="keywordtype">size_t</span> size = <span class="keyword">sizeof</span>(message);</div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>    <span class="comment">/* Add header to log-message */</span></div>
<div class="line"><span class="lineno"> 1131</span>    len += <a class="code hl_function" href="#a61610956cd7b586c8745be62d0b04bb4">update_header</a>(message, size - len, level, locate);</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>    <span class="comment">/* Add optional arguments to log-message */</span></div>
<div class="line"><span class="lineno"> 1134</span>    va_list args;</div>
<div class="line"><span class="lineno"> 1135</span>    va_start(args, fmt);</div>
<div class="line"><span class="lineno"> 1136</span>    <span class="keywordflow">if</span> (len &lt; <a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a>) {</div>
<div class="line"><span class="lineno"> 1137</span>        len += vsnprintf(message + len, size - len, fmt, args);</div>
<div class="line"><span class="lineno"> 1138</span>    }</div>
<div class="line"><span class="lineno"> 1139</span>    va_end(args);</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    <span class="comment">/* Handle string termination properly */</span></div>
<div class="line"><span class="lineno"> 1142</span>    <span class="keywordflow">if</span> (len &lt; <a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a>) {</div>
<div class="line"><span class="lineno"> 1143</span>        len += snprintf(message + len, size - len, <span class="stringliteral">&quot;\n&quot;</span>);</div>
<div class="line"><span class="lineno"> 1144</span>    }</div>
<div class="line"><span class="lineno"> 1145</span>    message[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keywordflow">if</span> (len &gt; <a class="code hl_define" href="logbank__config_8h.html#a729d70bad9089a4fa7af7191b278d434">LOG_MAX_DATA_LEN</a>) {</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="comment">/* Data Overflow */</span></div>
<div class="line"><span class="lineno"> 1149</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1150</span>    }</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span>    <span class="comment">/* write operation */</span></div>
<div class="line"><span class="lineno"> 1153</span>    <a class="code hl_function" href="#a940b19d7c5b87e1e9f5c74376a04831e">log_stream_write</a>(message);</div>
<div class="line"><span class="lineno"> 1154</span>    <a class="code hl_function" href="#ad315a1e2645c212deedef5aa5ccbb472">log_en_queue</a>(message);</div>
<div class="line"><span class="lineno"> 1155</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno"> 1156</span>}</div>
<div class="ttc" id="alogbank_8c_html_a61610956cd7b586c8745be62d0b04bb4"><div class="ttname"><a href="#a61610956cd7b586c8745be62d0b04bb4">update_header</a></div><div class="ttdeci">static int update_header(char *header, size_t size, int level, log_locate_t locate)</div><div class="ttdoc">This function populate the header i.e., prefix of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00355">logbank.c:355</a></div></div>
<div class="ttc" id="alogbank_8c_html_a940b19d7c5b87e1e9f5c74376a04831e"><div class="ttname"><a href="#a940b19d7c5b87e1e9f5c74376a04831e">log_stream_write</a></div><div class="ttdeci">static void log_stream_write(const char *message)</div><div class="ttdoc">write directly to configured stream</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00557">logbank.c:557</a></div></div>
<div class="ttc" id="alogbank_8c_html_ad315a1e2645c212deedef5aa5ccbb472"><div class="ttname"><a href="#ad315a1e2645c212deedef5aa5ccbb472">log_en_queue</a></div><div class="ttdeci">static void log_en_queue(const char *message)</div><div class="ttdoc">This function is used to add a new log-message to log_queue.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00584">logbank.c:584</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a87097c0104243be5ea4a28ade9abc579" name="a87097c0104243be5ea4a28ade9abc579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87097c0104243be5ea4a28ade9abc579">&#9670;&#160;</a></span>log_use_color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_use_color </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to enable colors for log-requests being logged on stderr. </p>
<dl class="section note"><dt>Note</dt><dd>Other log-requests (say, logs which are being stored in a file) are not logged with colors Use of colors is further controlled by <a class="el" href="#a454f3ad6bafae1ecc3ff96410f7f1ea3">LOG_USE_COLOR</a> macro</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>set enable to 1 or 0 in order to enable or disable colors respectively </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 colors were previously enabled </dd>
<dd>
0 colors were previously disabled </dd>
<dd>
-1 invalid value received for enable parameter </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01107">1107</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1107</span>                          {</div>
<div class="line"><span class="lineno"> 1108</span>    <span class="keywordflow">if</span> (enable &lt; 0 || enable &gt; 1) {</div>
<div class="line"><span class="lineno"> 1109</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1110</span>    }</div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span>    <span class="keywordtype">int</span> old = <a class="code hl_variable" href="#a189d4d789654e3342bdde4f60875aa1e">log_color</a>;</div>
<div class="line"><span class="lineno"> 1113</span>    <a class="code hl_variable" href="#a189d4d789654e3342bdde4f60875aa1e">log_color</a> = enable;</div>
<div class="line"><span class="lineno"> 1114</span>    <span class="keywordflow">return</span> old;</div>
<div class="line"><span class="lineno"> 1115</span>}</div>
<div class="ttc" id="alogbank_8c_html_a189d4d789654e3342bdde4f60875aa1e"><div class="ttname"><a href="#a189d4d789654e3342bdde4f60875aa1e">log_color</a></div><div class="ttdeci">static int log_color</div><div class="ttdoc">current preference on use of color</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00194">logbank.c:194</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abfe2b67a3b61f6ca5ac29458f1a6fa20" name="abfe2b67a3b61f6ca5ac29458f1a6fa20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfe2b67a3b61f6ca5ac29458f1a6fa20">&#9670;&#160;</a></span>log_use_datestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_use_datestamp </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to enable date stamps for every log-request at run-time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>set enable to 1 or 0 in order to enable or disable date stamps respectively </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 date stamps were previously enabled </dd>
<dd>
0 date stamps were previously disabled </dd>
<dd>
-1 invalid value received for enable parameter </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01085">1085</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1085</span>                              {</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">if</span> (enable &lt; 0 || enable &gt; 1) {</div>
<div class="line"><span class="lineno"> 1087</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1088</span>    }</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>    <span class="keywordtype">int</span> old = <a class="code hl_variable" href="#a6e1cbcfba04606a1ea81d837e75cf182">log_datestamp</a>;</div>
<div class="line"><span class="lineno"> 1091</span>    <a class="code hl_variable" href="#a6e1cbcfba04606a1ea81d837e75cf182">log_datestamp</a> = enable;</div>
<div class="line"><span class="lineno"> 1092</span>    <span class="keywordflow">return</span> old;</div>
<div class="line"><span class="lineno"> 1093</span>}</div>
<div class="ttc" id="alogbank_8c_html_a6e1cbcfba04606a1ea81d837e75cf182"><div class="ttname"><a href="#a6e1cbcfba04606a1ea81d837e75cf182">log_datestamp</a></div><div class="ttdeci">static int log_datestamp</div><div class="ttdoc">This value controls the use of date stamps.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00287">logbank.c:287</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c3d0c234139eef0ecdd76c379bd2622" name="a1c3d0c234139eef0ecdd76c379bd2622"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c3d0c234139eef0ecdd76c379bd2622">&#9670;&#160;</a></span>log_use_timestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int log_use_timestamp </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>enable</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used to enable time stamps for every log-request at run-time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">enable</td><td>set enable to 1 or 0 in order to enable or disable time stamps respectively </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>1 time stamps were previously enabled </dd>
<dd>
0 time stamps were previously disabled </dd>
<dd>
-1 invalid value received for enable parameter </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01096">1096</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1096</span>                              {</div>
<div class="line"><span class="lineno"> 1097</span>    <span class="keywordflow">if</span> (enable &lt; 0 || enable &gt; 1) {</div>
<div class="line"><span class="lineno"> 1098</span>        <span class="keywordflow">return</span> -1;</div>
<div class="line"><span class="lineno"> 1099</span>    }</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>    <span class="keywordtype">int</span> old = <a class="code hl_variable" href="#a78f29241d03102718e247b5869f41e58">log_timestamp</a>;</div>
<div class="line"><span class="lineno"> 1102</span>    <a class="code hl_variable" href="#a78f29241d03102718e247b5869f41e58">log_timestamp</a> = enable;</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordflow">return</span> old;</div>
<div class="line"><span class="lineno"> 1104</span>}</div>
<div class="ttc" id="alogbank_8c_html_a78f29241d03102718e247b5869f41e58"><div class="ttname"><a href="#a78f29241d03102718e247b5869f41e58">log_timestamp</a></div><div class="ttdeci">static int log_timestamp</div><div class="ttdoc">This value controls the use of time stamps.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00294">logbank.c:294</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad93e16f63aa5d848b4ee0eda72f092ac" name="ad93e16f63aa5d848b4ee0eda72f092ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93e16f63aa5d848b4ee0eda72f092ac">&#9670;&#160;</a></span>parse_data_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_data_string </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>message</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to separate data string from message. </p>
<p>This function reads copy buffer and checks ':' as delimiter to remove header. 3rd occurrence of ':' starts the data string in a valid copy of log-message</p>
<dl class="section note"><dt>Note</dt><dd>1. Copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a><ol type="1">
<li>This function could generate it's own copy using message.</li>
<li>But as a copy of log-message already exist in log_parser, same is used.</li>
</ol>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">message</td><td>Pointer to output buffer which would be updated with parsed message </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of message buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to input buffer for parsing (parsing is performed on copy parameter) </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l01002">1002</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1002</span>                                                                {</div>
<div class="line"><span class="lineno"> 1003</span>    <span class="keywordflow">if</span> (copy == NULL) {</div>
<div class="line"><span class="lineno"> 1004</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno"> 1005</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694">LOG_PARSER_FAILED</a>;</div>
<div class="line"><span class="lineno"> 1006</span>    }</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>    <span class="comment">/*</span></div>
<div class="line"><span class="lineno"> 1009</span><span class="comment">     * Calculating Data Index</span></div>
<div class="line"><span class="lineno"> 1010</span><span class="comment">     * HH:MM:SS [level] @ location : data</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="comment">     *   0  1                      2</span></div>
<div class="line"><span class="lineno"> 1012</span><span class="comment">     * */</span></div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keywordtype">int</span> data_index = 2;</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>    <span class="comment">/* Separating header from copied data */</span></div>
<div class="line"><span class="lineno"> 1016</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* dptr = strchr(copy, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> count = 0; count &lt; data_index &amp;&amp; dptr != NULL; count++) {</div>
<div class="line"><span class="lineno"> 1018</span>        dptr = strchr(dptr + 1, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 1019</span>    }</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> (dptr == NULL) {</div>
<div class="line"><span class="lineno"> 1022</span>        <span class="comment">/* Time stamp is absent; Set data pointer to first &#39;:&#39; */</span></div>
<div class="line"><span class="lineno"> 1023</span>        dptr = strchr(copy, <span class="charliteral">&#39;:&#39;</span>);</div>
<div class="line"><span class="lineno"> 1024</span>    }</div>
<div class="line"><span class="lineno"> 1025</span> </div>
<div class="line"><span class="lineno"> 1026</span>    strncpy(message, dptr + 2, size);</div>
<div class="line"><span class="lineno"> 1027</span>    message[size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno"> 1028</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8">LOG_PARSER_DONE</a>;</div>
<div class="line"><span class="lineno"> 1029</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa15850fe2e5f2dbcad19c95e9a92591c" name="aa15850fe2e5f2dbcad19c95e9a92591c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa15850fe2e5f2dbcad19c95e9a92591c">&#9670;&#160;</a></span>parse_date()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_date </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to parse date parameter from copy of log-message. </p>
<p>Each date parameter is parsed and converted to integer using <a class="el" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi()</a>. Each date parameter is then copied to info buffer </p><dl class="section note"><dt>Note</dt><dd>copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to buffer containing message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>Pointer to buffer which would be updated with date info </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00715">715</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  715</span>                                                      {</div>
<div class="line"><span class="lineno">  716</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#af4f3e70feabbadc91bff87d53ca052f8">day</a> = 0;</div>
<div class="line"><span class="lineno">  717</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#ac3d2a0ec1d776ffb5941ce3e5c839ef7">month</a> = 0;</div>
<div class="line"><span class="lineno">  718</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#adb934ab7d65f387e97d91329073cf509">year</a> = 0;</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordtype">char</span> date[] = <span class="stringliteral">&quot;01/01/2001&quot;</span>;</div>
<div class="line"><span class="lineno">  722</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> date_del[] = <span class="stringliteral">&quot;/&quot;</span>;</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>    <span class="keywordflow">if</span> (sscanf(copy + index, <span class="stringliteral">&quot;%10[0-9/]&quot;</span>, date) == 1) {</div>
<div class="line"><span class="lineno">  725</span>        <span class="keywordtype">char</span>* saveptr = NULL;</div>
<div class="line"><span class="lineno">  726</span>        <span class="keyword">const</span> <span class="keywordtype">char</span>* dptr = <a class="code hl_function" href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a>(date, date_del, &amp;saveptr);</div>
<div class="line"><span class="lineno">  727</span>        info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#af4f3e70feabbadc91bff87d53ca052f8">day</a> = dptr ? <a class="code hl_function" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a>(dptr) : 0;</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>        dptr = <a class="code hl_function" href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a>(NULL, date_del, &amp;saveptr);</div>
<div class="line"><span class="lineno">  730</span>        info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#ac3d2a0ec1d776ffb5941ce3e5c839ef7">month</a> = dptr ? <a class="code hl_function" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a>(dptr) : 0;</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>        dptr = <a class="code hl_function" href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a>(NULL, date_del, &amp;saveptr);</div>
<div class="line"><span class="lineno">  733</span>        info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#adb934ab7d65f387e97d91329073cf509">year</a> = dptr ? <a class="code hl_function" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a>(dptr) : 0;</div>
<div class="line"><span class="lineno">  734</span>    }</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <span class="keywordflow">if</span> (info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#adb934ab7d65f387e97d91329073cf509">year</a> == 0) {</div>
<div class="line"><span class="lineno">  737</span>        info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#af4f3e70feabbadc91bff87d53ca052f8">day</a> = 0;</div>
<div class="line"><span class="lineno">  738</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  739</span>        <span class="comment">/* 1 extra for space between date stamp and time stamp */</span></div>
<div class="line"><span class="lineno">  740</span>        index += <a class="code hl_define" href="#a9c3be125d60c2afbb469cfe890546132">LOG_DATE_LEN</a>;</div>
<div class="line"><span class="lineno">  741</span>    }</div>
<div class="line"><span class="lineno">  742</span> </div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">return</span> index;</div>
<div class="line"><span class="lineno">  744</span>}</div>
<div class="ttc" id="alogbank_8c_html_a78fd5f1ba0381c34903f66bc6eff0a61"><div class="ttname"><a href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a></div><div class="ttdeci">static int log_atoi(const char *nptr)</div><div class="ttdoc">Used to convert ASCII to integer.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00661">logbank.c:661</a></div></div>
<div class="ttc" id="alogbank_8c_html_a9c3be125d60c2afbb469cfe890546132"><div class="ttname"><a href="#a9c3be125d60c2afbb469cfe890546132">LOG_DATE_LEN</a></div><div class="ttdeci">#define LOG_DATE_LEN</div><div class="ttdoc">Calculated length for specified time format + 1 for string termination.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00122">logbank.c:122</a></div></div>
<div class="ttc" id="alogbank_8c_html_ad078e8b28af95662960b20b873f2c616"><div class="ttname"><a href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a></div><div class="ttdeci">static char * log_strtok_r(char *str, const char *delim, char **saveptr)</div><div class="ttdoc">Used in place of strtok_r.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00684">logbank.c:684</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_ac3d2a0ec1d776ffb5941ce3e5c839ef7"><div class="ttname"><a href="structlog__parser__info__t.html#ac3d2a0ec1d776ffb5941ce3e5c839ef7">log_parser_info_t::month</a></div><div class="ttdeci">int month</div><div class="ttdoc">parsed month value</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00311">logbank.h:311</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_adb934ab7d65f387e97d91329073cf509"><div class="ttname"><a href="structlog__parser__info__t.html#adb934ab7d65f387e97d91329073cf509">log_parser_info_t::year</a></div><div class="ttdeci">int year</div><div class="ttdoc">parsed year value</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00312">logbank.h:312</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_af4f3e70feabbadc91bff87d53ca052f8"><div class="ttname"><a href="structlog__parser__info__t.html#af4f3e70feabbadc91bff87d53ca052f8">log_parser_info_t::day</a></div><div class="ttdeci">int day</div><div class="ttdoc">parsed day value</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00310">logbank.h:310</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a71249e077c2ba82ba172b73263a446c9" name="a71249e077c2ba82ba172b73263a446c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71249e077c2ba82ba172b73263a446c9">&#9670;&#160;</a></span>parse_datetime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_datetime </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to parse date &amp; time parameter from copy of log-message. </p>
<p>This function internally use following functions to parse date and time</p><ul>
<li><a class="el" href="#aa15850fe2e5f2dbcad19c95e9a92591c">parse_date()</a></li>
<li><a class="el" href="#a6822fbc1932f14536d8492add244655c">parse_time()</a> <dl class="section note"><dt>Note</dt><dd>copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to buffer containing message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>Pointer to buffer which would be updated with date info </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00805">805</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  805</span>                                                          {</div>
<div class="line"><span class="lineno">  806</span>    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno">  807</span>    index = <a class="code hl_function" href="#aa15850fe2e5f2dbcad19c95e9a92591c">parse_date</a>(copy + index, info);</div>
<div class="line"><span class="lineno">  808</span>    <a class="code hl_function" href="#a6822fbc1932f14536d8492add244655c">parse_time</a>(copy + index, info);</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73">LOG_PARSER_LEVEL</a>;</div>
<div class="line"><span class="lineno">  811</span>}</div>
<div class="ttc" id="alogbank_8c_html_a6822fbc1932f14536d8492add244655c"><div class="ttname"><a href="#a6822fbc1932f14536d8492add244655c">parse_time</a></div><div class="ttdeci">static void parse_time(const char *copy, log_parser_info_t *info)</div><div class="ttdoc">Used to parse time parameter from copy of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00757">logbank.c:757</a></div></div>
<div class="ttc" id="alogbank_8c_html_aa15850fe2e5f2dbcad19c95e9a92591c"><div class="ttname"><a href="#aa15850fe2e5f2dbcad19c95e9a92591c">parse_date</a></div><div class="ttdeci">static int parse_date(const char *copy, log_parser_info_t *info)</div><div class="ttdoc">Used to parse date parameter from copy of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00715">logbank.c:715</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a88ac1ee07ea17f2847abf5981d388331" name="a88ac1ee07ea17f2847abf5981d388331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88ac1ee07ea17f2847abf5981d388331">&#9670;&#160;</a></span>parse_file_and_line()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_file_and_line </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to parse file name and line number from copy of log-message. </p>
<p>file name is parsed using that it always have '"' before and ' +' after it. line number is parsed using that it always have '+ ' before and '"' after it. </p><dl class="section note"><dt>Note</dt><dd>copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to buffer containing message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>Pointer to buffer which would be updated with date info </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00910">910</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  910</span>                                                               {</div>
<div class="line"><span class="lineno">  911</span>    <span class="keywordflow">if</span> (copy == NULL) {</div>
<div class="line"><span class="lineno">  912</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  914</span>    }</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>    <span class="keywordtype">char</span>* lineptr = strchr(copy, <span class="charliteral">&#39;+&#39;</span>);</div>
<div class="line"><span class="lineno">  917</span>    <span class="keywordflow">if</span> (lineptr == NULL) {</div>
<div class="line"><span class="lineno">  918</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  920</span>    }</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>    lineptr = lineptr - 1;</div>
<div class="line"><span class="lineno">  923</span>    lineptr[0] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* Remove extra bytes other than file name */</span></div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>    <span class="keywordtype">char</span>* fileptr = strchr(copy, <span class="charliteral">&#39;&quot;&#39;</span>);</div>
<div class="line"><span class="lineno">  926</span>    <span class="keywordflow">if</span> (fileptr == NULL) {</div>
<div class="line"><span class="lineno">  927</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno">  928</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  929</span>    }</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>    fileptr = fileptr + 1; <span class="comment">/* Remove &#39;&quot;&#39; and space */</span></div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>    strncpy(info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#af46721256ea852e17335c4253e0d5159">file</a>, fileptr, <a class="code hl_define" href="logbank__config_8h.html#a162ad26846763cc6c79503e9fdbfec45">LOG_MAX_FILE_NAME_LEN</a>);</div>
<div class="line"><span class="lineno">  934</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#af46721256ea852e17335c4253e0d5159">file</a>[<a class="code hl_define" href="logbank__config_8h.html#a162ad26846763cc6c79503e9fdbfec45">LOG_MAX_FILE_NAME_LEN</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>    <span class="comment">/* Revert previous changes to copy */</span></div>
<div class="line"><span class="lineno">  937</span>    lineptr[0] = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><span class="lineno">  938</span>    lineptr = lineptr + 2; <span class="comment">/* Also, Removed &#39;+&#39; and space for parsing line number */</span></div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span>    <span class="keywordtype">char</span>* end = strchr(fileptr, <span class="charliteral">&#39;&quot;&#39;</span>); <span class="comment">/* end points to end of location parameters */</span></div>
<div class="line"><span class="lineno">  941</span>    <span class="keywordflow">if</span> (end == NULL) {</div>
<div class="line"><span class="lineno">  942</span>        <span class="comment">/* Unexpected format can not find how many digits are available in line num */</span></div>
<div class="line"><span class="lineno">  943</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  944</span>    }</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>    end[0] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* removed everything after end of location parameters */</span></div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#acaedf39ac455489c4d02586063e9a49d">line</a> = <a class="code hl_function" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a>(lineptr);</div>
<div class="line"><span class="lineno">  949</span>    end[0] = <span class="charliteral">&#39;&quot;&#39;</span>; <span class="comment">/* Revert previous changes to copy */</span></div>
<div class="line"><span class="lineno">  950</span>}</div>
<div class="ttc" id="alogbank__config_8h_html_a162ad26846763cc6c79503e9fdbfec45"><div class="ttname"><a href="logbank__config_8h.html#a162ad26846763cc6c79503e9fdbfec45">LOG_MAX_FILE_NAME_LEN</a></div><div class="ttdeci">#define LOG_MAX_FILE_NAME_LEN</div><div class="ttdoc">Maximum allowed length to store file name.</div><div class="ttdef"><b>Definition</b> <a href="logbank__config_8h_source.html#l00066">logbank_config.h:66</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_acaedf39ac455489c4d02586063e9a49d"><div class="ttname"><a href="structlog__parser__info__t.html#acaedf39ac455489c4d02586063e9a49d">log_parser_info_t::line</a></div><div class="ttdeci">int line</div><div class="ttdoc">parsed line number</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00320">logbank.h:320</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_af46721256ea852e17335c4253e0d5159"><div class="ttname"><a href="structlog__parser__info__t.html#af46721256ea852e17335c4253e0d5159">log_parser_info_t::file</a></div><div class="ttdeci">char file[LOG_MAX_FILE_NAME_LEN]</div><div class="ttdoc">parsed file name</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00319">logbank.h:319</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a79a0d62638455a3117532390c888f419" name="a79a0d62638455a3117532390c888f419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a0d62638455a3117532390c888f419">&#9670;&#160;</a></span>parse_function()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_function </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to parse function name from copy of log-message. </p>
<p>function name is parsed using that it always have '@' before and '(' after it. </p><dl class="section note"><dt>Note</dt><dd>copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to buffer containing message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>Pointer to buffer which would be updated with date info </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00871">871</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  871</span>                                                          {</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">if</span> (copy == NULL) {</div>
<div class="line"><span class="lineno">  873</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno">  874</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  875</span>    }</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span>    <span class="keywordtype">char</span>* sep = strchr(copy, <span class="charliteral">&#39;(&#39;</span>);</div>
<div class="line"><span class="lineno">  878</span>    <span class="keywordflow">if</span> (sep == NULL) {</div>
<div class="line"><span class="lineno">  879</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno">  880</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  881</span>    }</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>    sep[0] = <span class="charliteral">&#39;\0&#39;</span>; <span class="comment">/* Remove extra bytes other than function name */</span></div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>    <span class="keywordtype">char</span>* fnptr = strchr(copy, <span class="charliteral">&#39;@&#39;</span>);</div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> (fnptr == NULL) {</div>
<div class="line"><span class="lineno">  887</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  889</span>    }</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    fnptr = fnptr + 2; <span class="comment">/* Remove &#39;@&#39; and space */</span></div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>    strncpy(info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a8bd9cea25f6075b9174f60ecf0c7c699">func</a>, fnptr, <a class="code hl_define" href="logbank__config_8h.html#ad715d58d98d00d3cbe456e00c07ebcfa">LOG_MAX_FUNC_NAME_LEN</a>);</div>
<div class="line"><span class="lineno">  894</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a8bd9cea25f6075b9174f60ecf0c7c699">func</a>[<a class="code hl_define" href="logbank__config_8h.html#ad715d58d98d00d3cbe456e00c07ebcfa">LOG_MAX_FUNC_NAME_LEN</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span>    sep[0] = <span class="charliteral">&#39;(&#39;</span>; <span class="comment">/* Revert previous changes to copy */</span></div>
<div class="line"><span class="lineno">  897</span>}</div>
<div class="ttc" id="alogbank__config_8h_html_ad715d58d98d00d3cbe456e00c07ebcfa"><div class="ttname"><a href="logbank__config_8h.html#ad715d58d98d00d3cbe456e00c07ebcfa">LOG_MAX_FUNC_NAME_LEN</a></div><div class="ttdeci">#define LOG_MAX_FUNC_NAME_LEN</div><div class="ttdoc">Maximum allowed length to store function name.</div><div class="ttdef"><b>Definition</b> <a href="logbank__config_8h_source.html#l00053">logbank_config.h:53</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_a8bd9cea25f6075b9174f60ecf0c7c699"><div class="ttname"><a href="structlog__parser__info__t.html#a8bd9cea25f6075b9174f60ecf0c7c699">log_parser_info_t::func</a></div><div class="ttdeci">char func[LOG_MAX_FUNC_NAME_LEN]</div><div class="ttdoc">parsed function name</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00318">logbank.h:318</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a66b27f4f9997b08f6b1babdee8406102" name="a66b27f4f9997b08f6b1babdee8406102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b27f4f9997b08f6b1babdee8406102">&#9670;&#160;</a></span>parse_level()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_level </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to parse level parameter from copy of log-message. </p>
<p>level name is parsed using that it always has '[' before and ']' after it. Further level index is calculated by matching level name against available level names </p><dl class="section note"><dt>Note</dt><dd>copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to buffer containing message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>Pointer to buffer which would be updated with date info </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00824">824</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  824</span>                                                       {</div>
<div class="line"><span class="lineno">  825</span>    <span class="keywordtype">int</span> invalid = <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc">LOG_FATAL</a> + 1;</div>
<div class="line"><span class="lineno">  826</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#aaab4fa2f1263150155d77ae6f0340ff2">level</a> = invalid;</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>    <span class="keywordtype">char</span> name[] = <span class="stringliteral">&quot;DEBUG&quot;</span>;</div>
<div class="line"><span class="lineno">  829</span>    <span class="keywordtype">size_t</span> size = <span class="keyword">sizeof</span>(name);</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>    <span class="keywordtype">char</span>* level_end = strchr(copy, <span class="charliteral">&#39;]&#39;</span>);</div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">if</span> (level_end == NULL) {</div>
<div class="line"><span class="lineno">  833</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694">LOG_PARSER_FAILED</a>;</div>
<div class="line"><span class="lineno">  834</span>    }</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>    level_end = level_end - 1;</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>    <span class="keyword">const</span> <span class="keywordtype">int</span> max_name_len = 5;</div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordtype">char</span>* level_start = level_end - max_name_len;</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>    <span class="keywordflow">if</span> (level_start[1] == <span class="charliteral">&#39;[&#39;</span>) {</div>
<div class="line"><span class="lineno">  842</span>        level_start = level_start + 1;</div>
<div class="line"><span class="lineno">  843</span>        size = size - 1;</div>
<div class="line"><span class="lineno">  844</span>    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (level_start[0] != <span class="charliteral">&#39;[&#39;</span>) {</div>
<div class="line"><span class="lineno">  845</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694">LOG_PARSER_FAILED</a>;</div>
<div class="line"><span class="lineno">  846</span>    }</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span>    level_start = level_start + 1;</div>
<div class="line"><span class="lineno">  849</span>    (void)snprintf(name, size, <span class="stringliteral">&quot;%s&quot;</span>, level_start);</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> level = <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a5b7d4f0d91e50288752648b12035fb35">LOG_DEBUG</a>; level &lt;= <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc">LOG_FATAL</a>; level++) {</div>
<div class="line"><span class="lineno">  852</span>        <span class="keywordflow">if</span> (strstr(name, <a class="code hl_function" href="#a2f37fc38d4885ae4fd5f499787e5f550">log_get_levelname</a>(level))) {</div>
<div class="line"><span class="lineno">  853</span>            info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#aaab4fa2f1263150155d77ae6f0340ff2">level</a> = level;</div>
<div class="line"><span class="lineno">  854</span>            <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  855</span>        }</div>
<div class="line"><span class="lineno">  856</span>    }</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>    <span class="keywordflow">return</span> info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#aaab4fa2f1263150155d77ae6f0340ff2">level</a> == invalid ? <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694">LOG_PARSER_FAILED</a> : <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc">LOG_PARSER_LOCATION</a>;</div>
<div class="line"><span class="lineno">  859</span>}</div>
<div class="ttc" id="alogbank_8c_html_a2f37fc38d4885ae4fd5f499787e5f550"><div class="ttname"><a href="#a2f37fc38d4885ae4fd5f499787e5f550">log_get_levelname</a></div><div class="ttdeci">const char * log_get_levelname(int level)</div><div class="ttdoc">This function is used to read name of a particular log-level.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l01053">logbank.c:1053</a></div></div>
<div class="ttc" id="alogbank_8h_html_a6cfcf0d1e54151523d73f747ea51ba99a5b7d4f0d91e50288752648b12035fb35"><div class="ttname"><a href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a5b7d4f0d91e50288752648b12035fb35">LOG_DEBUG</a></div><div class="ttdeci">@ LOG_DEBUG</div><div class="ttdoc">recommended for sanity checks (intended for developers)</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00035">logbank.h:35</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_aaab4fa2f1263150155d77ae6f0340ff2"><div class="ttname"><a href="structlog__parser__info__t.html#aaab4fa2f1263150155d77ae6f0340ff2">log_parser_info_t::level</a></div><div class="ttdeci">int level</div><div class="ttdoc">parsed level index</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00317">logbank.h:317</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf13a0db1967c342e204aa844df01fda" name="aaf13a0db1967c342e204aa844df01fda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf13a0db1967c342e204aa844df01fda">&#9670;&#160;</a></span>parse_location()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_location </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to parse function name, file name &amp; line number parameter from copy of log-message. </p>
<p>This function internally use following functions to parse these location parameters</p><ul>
<li><a class="el" href="#a79a0d62638455a3117532390c888f419">parse_function()</a></li>
<li><a class="el" href="#a88ac1ee07ea17f2847abf5981d388331">parse_file_and_line()</a> <dl class="section note"><dt>Note</dt><dd>copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to buffer containing message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>Pointer to buffer which would be updated with date info </td></tr>
  </table>
  </dd>
</dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00964">964</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  964</span>                                                          {</div>
<div class="line"><span class="lineno">  965</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> not_found[] = <span class="stringliteral">&quot;NA&quot;</span>;</div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>    strncpy(info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a8bd9cea25f6075b9174f60ecf0c7c699">func</a>, not_found, <a class="code hl_define" href="logbank__config_8h.html#ad715d58d98d00d3cbe456e00c07ebcfa">LOG_MAX_FUNC_NAME_LEN</a>);</div>
<div class="line"><span class="lineno">  968</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a8bd9cea25f6075b9174f60ecf0c7c699">func</a>[<a class="code hl_define" href="logbank__config_8h.html#ad715d58d98d00d3cbe456e00c07ebcfa">LOG_MAX_FUNC_NAME_LEN</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>    strncpy(info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#af46721256ea852e17335c4253e0d5159">file</a>, not_found, <a class="code hl_define" href="logbank__config_8h.html#a162ad26846763cc6c79503e9fdbfec45">LOG_MAX_FILE_NAME_LEN</a>);</div>
<div class="line"><span class="lineno">  971</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#af46721256ea852e17335c4253e0d5159">file</a>[<a class="code hl_define" href="logbank__config_8h.html#a162ad26846763cc6c79503e9fdbfec45">LOG_MAX_FILE_NAME_LEN</a> - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#acaedf39ac455489c4d02586063e9a49d">line</a> = 0;</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>    <span class="keywordflow">if</span> (strchr(copy, <span class="charliteral">&#39;@&#39;</span>) == NULL) {</div>
<div class="line"><span class="lineno">  976</span>        <span class="comment">/* location parameters are not present */</span></div>
<div class="line"><span class="lineno">  977</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9">LOG_PARSER_DATA</a>;</div>
<div class="line"><span class="lineno">  978</span>    }</div>
<div class="line"><span class="lineno">  979</span> </div>
<div class="line"><span class="lineno">  980</span>    <span class="comment">/* location parameters are present */</span></div>
<div class="line"><span class="lineno">  981</span>    <a class="code hl_function" href="#a79a0d62638455a3117532390c888f419">parse_function</a>(copy, info);</div>
<div class="line"><span class="lineno">  982</span>    <a class="code hl_function" href="#a88ac1ee07ea17f2847abf5981d388331">parse_file_and_line</a>(copy, info);</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>    <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="#a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9">LOG_PARSER_DATA</a>;</div>
<div class="line"><span class="lineno">  985</span>}</div>
<div class="ttc" id="alogbank_8c_html_a79a0d62638455a3117532390c888f419"><div class="ttname"><a href="#a79a0d62638455a3117532390c888f419">parse_function</a></div><div class="ttdeci">static void parse_function(const char *copy, log_parser_info_t *info)</div><div class="ttdoc">Used to parse function name from copy of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00871">logbank.c:871</a></div></div>
<div class="ttc" id="alogbank_8c_html_a88ac1ee07ea17f2847abf5981d388331"><div class="ttname"><a href="#a88ac1ee07ea17f2847abf5981d388331">parse_file_and_line</a></div><div class="ttdeci">static void parse_file_and_line(const char *copy, log_parser_info_t *info)</div><div class="ttdoc">Used to parse file name and line number from copy of log-message.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00910">logbank.c:910</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6822fbc1932f14536d8492add244655c" name="a6822fbc1932f14536d8492add244655c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6822fbc1932f14536d8492add244655c">&#9670;&#160;</a></span>parse_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">parse_time </td>
          <td>(</td>
          <td class="paramtype">const char *</td>          <td class="paramname"><span class="paramname"><em>copy</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__parser__info__t.html">log_parser_info_t</a> *</td>          <td class="paramname"><span class="paramname"><em>info</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Used to parse time parameter from copy of log-message. </p>
<p>Each time parameter is parsed and converted to integer using <a class="el" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi()</a>. Each time parameter is then copied to info buffer </p><dl class="section note"><dt>Note</dt><dd>copy of log-message used doesn't contain ANSI color-codes <a class="el" href="logbank_8h.html#a1cdcdd67bcc690aa83e15ed7de3f913a">log_parser()</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">copy</td><td>Pointer to buffer containing message </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">info</td><td>Pointer to buffer which would be updated with date info </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00757">757</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  757</span>                                                      {</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordtype">int</span> index = 0;</div>
<div class="line"><span class="lineno">  759</span>    <span class="keywordtype">char</span> time[] = <span class="stringliteral">&quot;01:01:01&quot;</span>;</div>
<div class="line"><span class="lineno">  760</span>    <span class="keyword">const</span> <span class="keywordtype">char</span> time_del[] = <span class="stringliteral">&quot;:&quot;</span>;</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#ab609ac1d3a159056c1246f9d9c1b263f">hour</a> = 0;</div>
<div class="line"><span class="lineno">  763</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a82979f1e074ff9886bf9184b12d7343a">min</a> = 0;</div>
<div class="line"><span class="lineno">  764</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a01e088edbd16b0664a67a1d656104656">sec</a> = 0;</div>
<div class="line"><span class="lineno">  765</span>    info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#ab54cfbeb06c9873809bbd71da0d7ec5c">am_pm</a>[0] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>    <span class="keywordflow">if</span> (copy == NULL) {</div>
<div class="line"><span class="lineno">  768</span>        <span class="comment">/* No data available to parse */</span></div>
<div class="line"><span class="lineno">  769</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  770</span>    }</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">if</span> (sscanf(copy + index, <span class="stringliteral">&quot;%8[0-9:]&quot;</span>, time) == 1) {</div>
<div class="line"><span class="lineno">  773</span>        <span class="keywordtype">char</span>* saveptr = NULL;</div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordtype">char</span>* timeptr = <a class="code hl_function" href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a>(time, time_del, &amp;saveptr);</div>
<div class="line"><span class="lineno">  775</span>        info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#ab609ac1d3a159056c1246f9d9c1b263f">hour</a> = timeptr ? <a class="code hl_function" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a>(timeptr) : 0;</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>        timeptr = <a class="code hl_function" href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a>(NULL, time_del, &amp;saveptr);</div>
<div class="line"><span class="lineno">  778</span>        info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a82979f1e074ff9886bf9184b12d7343a">min</a> = timeptr ? <a class="code hl_function" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a>(timeptr) : 0;</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>        timeptr = <a class="code hl_function" href="#ad078e8b28af95662960b20b873f2c616">log_strtok_r</a>(NULL, time_del, &amp;saveptr);</div>
<div class="line"><span class="lineno">  781</span>        <span class="keywordflow">if</span> (timeptr != NULL) {</div>
<div class="line"><span class="lineno">  782</span>            timeptr[2] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  783</span>            info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#a01e088edbd16b0664a67a1d656104656">sec</a> = <a class="code hl_function" href="#a78fd5f1ba0381c34903f66bc6eff0a61">log_atoi</a>(timeptr);</div>
<div class="line"><span class="lineno">  784</span>        }</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span>        index = index + <a class="code hl_define" href="#af908196e407bb67394664c7b0d5999b8">LOG_TIME_LEN</a> - <a class="code hl_define" href="logbank__config_8h.html#aa2f082f11e5a666340433272b7b10176">LOG_MAX_AM_PM_LEN</a>;</div>
<div class="line"><span class="lineno">  787</span>        <span class="keywordflow">if</span> (copy[index] != <span class="charliteral">&#39; &#39;</span>) {</div>
<div class="line"><span class="lineno">  788</span>            (void)sprintf(info-&gt;<a class="code hl_variable" href="structlog__parser__info__t.html#ab54cfbeb06c9873809bbd71da0d7ec5c">am_pm</a>, <span class="stringliteral">&quot;%cM&quot;</span>, copy[index]);</div>
<div class="line"><span class="lineno">  789</span>        }</div>
<div class="line"><span class="lineno">  790</span>    }</div>
<div class="line"><span class="lineno">  791</span>}</div>
<div class="ttc" id="alogbank_8c_html_af908196e407bb67394664c7b0d5999b8"><div class="ttname"><a href="#af908196e407bb67394664c7b0d5999b8">LOG_TIME_LEN</a></div><div class="ttdeci">#define LOG_TIME_LEN</div><div class="ttdoc">Calculated length for specified time format + 1 for string termination.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00106">logbank.c:106</a></div></div>
<div class="ttc" id="alogbank__config_8h_html_aa2f082f11e5a666340433272b7b10176"><div class="ttname"><a href="logbank__config_8h.html#aa2f082f11e5a666340433272b7b10176">LOG_MAX_AM_PM_LEN</a></div><div class="ttdeci">#define LOG_MAX_AM_PM_LEN</div><div class="ttdoc">Fixed max length defined for time AM/PM parameter.</div><div class="ttdef"><b>Definition</b> <a href="logbank__config_8h_source.html#l00151">logbank_config.h:151</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_a01e088edbd16b0664a67a1d656104656"><div class="ttname"><a href="structlog__parser__info__t.html#a01e088edbd16b0664a67a1d656104656">log_parser_info_t::sec</a></div><div class="ttdeci">int sec</div><div class="ttdoc">parsed second value</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00315">logbank.h:315</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_a82979f1e074ff9886bf9184b12d7343a"><div class="ttname"><a href="structlog__parser__info__t.html#a82979f1e074ff9886bf9184b12d7343a">log_parser_info_t::min</a></div><div class="ttdeci">int min</div><div class="ttdoc">parsed minute value</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00314">logbank.h:314</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_ab54cfbeb06c9873809bbd71da0d7ec5c"><div class="ttname"><a href="structlog__parser__info__t.html#ab54cfbeb06c9873809bbd71da0d7ec5c">log_parser_info_t::am_pm</a></div><div class="ttdeci">char am_pm[LOG_MAX_AM_PM_LEN]</div><div class="ttdoc">parsed am_pm string</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00316">logbank.h:316</a></div></div>
<div class="ttc" id="astructlog__parser__info__t_html_ab609ac1d3a159056c1246f9d9c1b263f"><div class="ttname"><a href="structlog__parser__info__t.html#ab609ac1d3a159056c1246f9d9c1b263f">log_parser_info_t::hour</a></div><div class="ttdeci">int hour</div><div class="ttdoc">parsed hour value</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00313">logbank.h:313</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a61610956cd7b586c8745be62d0b04bb4" name="a61610956cd7b586c8745be62d0b04bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61610956cd7b586c8745be62d0b04bb4">&#9670;&#160;</a></span>update_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">update_header </td>
          <td>(</td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>header</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t</td>          <td class="paramname"><span class="paramname"><em>size</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>level</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structlog__locate__t.html">log_locate_t</a></td>          <td class="paramname"><span class="paramname"><em>locate</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function populate the header i.e., prefix of log-message. </p>
<p>This function adds following to an empty header buffer of sufficient size:</p><ul>
<li>stamps</li>
<li>colors</li>
<li>level name</li>
<li>location parameters</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>It uses thread-unsafe function log_stamp_collector</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">header</td><td>pointer to header buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>size of header buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">level</td><td>priority-level of this log-request </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">locate</td><td>location parameters for this log-request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int number of bytes attempted to be written in header buffer </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00355">355</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  355</span>                                                                         {</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">if</span> (header == NULL) {</div>
<div class="line"><span class="lineno">  357</span>        <span class="comment">/* header doesn&#39;t have a dedicated memory */</span></div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  359</span>    }</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordtype">int</span> len = 0;</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    <span class="comment">/* dim colors of stamps */</span></div>
<div class="line"><span class="lineno">  364</span>    len += <a class="code hl_define" href="#a875a1f15b875e248631c03fc1ecaa2bf">LOG_ADD_COLOR</a>(header + len, size - len, <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c">LOG_COLOR_GRAY</a>);</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    <span class="comment">/* log datestamps */</span></div>
<div class="line"><span class="lineno">  367</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a6e1cbcfba04606a1ea81d837e75cf182">log_datestamp</a>) {</div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordtype">char</span> date_stamp[<a class="code hl_define" href="#a9c3be125d60c2afbb469cfe890546132">LOG_DATE_LEN</a>];</div>
<div class="line"><span class="lineno">  369</span>        <a class="code hl_function" href="#a7428ec2d45d3df3bbb27094a8f8d585a">log_stamp_collector</a>(date_stamp, <a class="code hl_define" href="#a1ea36cc09a0aa530b338c94960baf512">LOG_DATE_FORMAT</a>, <span class="keyword">sizeof</span>(date_stamp));</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>        len += snprintf(header + len, size - len, <span class="stringliteral">&quot;%s &quot;</span>, date_stamp);</div>
<div class="line"><span class="lineno">  372</span>    }</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    <span class="comment">/* log timestamps */</span></div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="#a78f29241d03102718e247b5869f41e58">log_timestamp</a>) {</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordtype">char</span> time_stamp[<a class="code hl_define" href="#af908196e407bb67394664c7b0d5999b8">LOG_TIME_LEN</a>];</div>
<div class="line"><span class="lineno">  377</span>        <a class="code hl_function" href="#a7428ec2d45d3df3bbb27094a8f8d585a">log_stamp_collector</a>(time_stamp, <a class="code hl_define" href="#a1273f9f835f4a7ad5304c7e633e20b68">LOG_TIME_FORMAT</a>, <span class="keyword">sizeof</span>(time_stamp));</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>        len += snprintf(header + len, size - len, <span class="stringliteral">&quot;%s &quot;</span>, time_stamp);</div>
<div class="line"><span class="lineno">  380</span>    }</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>    <span class="comment">/* use pre-defined color for level names */</span></div>
<div class="line"><span class="lineno">  383</span>    len += <a class="code hl_define" href="#a875a1f15b875e248631c03fc1ecaa2bf">LOG_ADD_COLOR</a>(header + len, size - len, level);</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="comment">/* Reading name of requested priority-level */</span></div>
<div class="line"><span class="lineno">  386</span>    <span class="keyword">const</span> <span class="keywordtype">char</span>* name = <a class="code hl_function" href="#a2f37fc38d4885ae4fd5f499787e5f550">log_get_levelname</a>(level);</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    <span class="comment">/* log priority-level name */</span></div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">if</span> (level == <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a1d2ddc2d110200d6c342359bd0e19a3c">LOG_INFO</a> || level == <a class="code hl_enumvalue" href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99aaf5ddc798d2875139456400b5c18897d">LOG_WARN</a>) {</div>
<div class="line"><span class="lineno">  390</span>        len += snprintf(header + len, size - len, <span class="stringliteral">&quot;[%s]  &quot;</span>, name);</div>
<div class="line"><span class="lineno">  391</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  392</span>        len += snprintf(header + len, size - len, <span class="stringliteral">&quot;[%s] &quot;</span>, name);</div>
<div class="line"><span class="lineno">  393</span>    }</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <span class="comment">/* log location parameters */</span></div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">if</span> (locate.<a class="code hl_variable" href="structlog__locate__t.html#a0c90ea314fda6ca6929a7a3d9bfc221e">func</a> != NULL &amp;&amp; locate.<a class="code hl_variable" href="structlog__locate__t.html#ad00d25abaa1a72cd0735c44774978978">file</a> != NULL) {</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordtype">char</span> func[<a class="code hl_define" href="logbank__config_8h.html#ad715d58d98d00d3cbe456e00c07ebcfa">LOG_MAX_FUNC_NAME_LEN</a>] = <span class="stringliteral">&quot;NA&quot;</span>;</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordtype">char</span> file[<a class="code hl_define" href="logbank__config_8h.html#a162ad26846763cc6c79503e9fdbfec45">LOG_MAX_FILE_NAME_LEN</a>] = <span class="stringliteral">&quot;NA&quot;</span>;</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordtype">size_t</span> func_size = <span class="keyword">sizeof</span>(func);</div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordtype">size_t</span> file_size = <span class="keyword">sizeof</span>(file);</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">if</span> (strlen(locate.<a class="code hl_variable" href="structlog__locate__t.html#a0c90ea314fda6ca6929a7a3d9bfc221e">func</a>) &lt; func_size) {</div>
<div class="line"><span class="lineno">  404</span>            strncpy(func, locate.<a class="code hl_variable" href="structlog__locate__t.html#a0c90ea314fda6ca6929a7a3d9bfc221e">func</a>, func_size);</div>
<div class="line"><span class="lineno">  405</span>            func[func_size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  406</span>        }</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>        <span class="keywordflow">if</span> (strlen(locate.<a class="code hl_variable" href="structlog__locate__t.html#ad00d25abaa1a72cd0735c44774978978">file</a>) &lt; file_size) {</div>
<div class="line"><span class="lineno">  409</span>            strncpy(file, locate.<a class="code hl_variable" href="structlog__locate__t.html#ad00d25abaa1a72cd0735c44774978978">file</a>, file_size);</div>
<div class="line"><span class="lineno">  410</span>            file[file_size - 1] = <span class="charliteral">&#39;\0&#39;</span>;</div>
<div class="line"><span class="lineno">  411</span>        }</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>        <span class="comment">/* dim color of location parameters and revert to color of log priority-level */</span></div>
<div class="line"><span class="lineno">  414</span>        len += <a class="code hl_define" href="#a875a1f15b875e248631c03fc1ecaa2bf">LOG_ADD_COLOR</a>(header + len, size - len, <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c">LOG_COLOR_GRAY</a>);</div>
<div class="line"><span class="lineno">  415</span>        len += snprintf(header + len, size - len, <span class="stringliteral">&quot;@ %s() \&quot;%s +%d\&quot; &quot;</span>, func, file, locate.<a class="code hl_variable" href="structlog__locate__t.html#a0b90d39ff2c7402e79dc2d495734b2a2">line</a>);</div>
<div class="line"><span class="lineno">  416</span>        len += <a class="code hl_define" href="#a875a1f15b875e248631c03fc1ecaa2bf">LOG_ADD_COLOR</a>(header + len, size - len, level);</div>
<div class="line"><span class="lineno">  417</span>    }</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="comment">/* log separator between header (message-prefix) and message */</span></div>
<div class="line"><span class="lineno">  420</span>    len += snprintf(header + len, size - len, <span class="stringliteral">&quot;: &quot;</span>);</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    <span class="comment">/* terminate the use of colors */</span></div>
<div class="line"><span class="lineno">  423</span>    len += <a class="code hl_define" href="#a875a1f15b875e248631c03fc1ecaa2bf">LOG_ADD_COLOR</a>(header + len, size - len, <a class="code hl_enumvalue" href="#a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70">LOG_COLOR_END</a>);</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">return</span> len;</div>
<div class="line"><span class="lineno">  426</span>}</div>
<div class="ttc" id="alogbank_8c_html_a1273f9f835f4a7ad5304c7e633e20b68"><div class="ttname"><a href="#a1273f9f835f4a7ad5304c7e633e20b68">LOG_TIME_FORMAT</a></div><div class="ttdeci">#define LOG_TIME_FORMAT</div><div class="ttdoc">This macro chooses between LOG_TIME_12HR &amp; LOG_TIME_24HR.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00098">logbank.c:98</a></div></div>
<div class="ttc" id="alogbank_8c_html_a1ea36cc09a0aa530b338c94960baf512"><div class="ttname"><a href="#a1ea36cc09a0aa530b338c94960baf512">LOG_DATE_FORMAT</a></div><div class="ttdeci">#define LOG_DATE_FORMAT</div><div class="ttdoc">Fixed specified format for Date stamps.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00114">logbank.c:114</a></div></div>
<div class="ttc" id="alogbank_8c_html_a7428ec2d45d3df3bbb27094a8f8d585a"><div class="ttname"><a href="#a7428ec2d45d3df3bbb27094a8f8d585a">log_stamp_collector</a></div><div class="ttdeci">static int log_stamp_collector(char *stamp, const char *format, size_t size)</div><div class="ttdoc">Used to collect system date/time in requested format.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00318">logbank.c:318</a></div></div>
<div class="ttc" id="alogbank_8c_html_a875a1f15b875e248631c03fc1ecaa2bf"><div class="ttname"><a href="#a875a1f15b875e248631c03fc1ecaa2bf">LOG_ADD_COLOR</a></div><div class="ttdeci">#define LOG_ADD_COLOR(buffer, size, color_index)</div><div class="ttdoc">Add a color to buffer.</div><div class="ttdef"><b>Definition</b> <a href="logbank_8c_source.html#l00146">logbank.c:146</a></div></div>
<div class="ttc" id="alogbank_8h_html_a6cfcf0d1e54151523d73f747ea51ba99a1d2ddc2d110200d6c342359bd0e19a3c"><div class="ttname"><a href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99a1d2ddc2d110200d6c342359bd0e19a3c">LOG_INFO</a></div><div class="ttdeci">@ LOG_INFO</div><div class="ttdoc">recommended for general informations (code flow)</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00035">logbank.h:35</a></div></div>
<div class="ttc" id="alogbank_8h_html_a6cfcf0d1e54151523d73f747ea51ba99aaf5ddc798d2875139456400b5c18897d"><div class="ttname"><a href="logbank_8h.html#a6cfcf0d1e54151523d73f747ea51ba99aaf5ddc798d2875139456400b5c18897d">LOG_WARN</a></div><div class="ttdeci">@ LOG_WARN</div><div class="ttdoc">recommended for warnings (abnormal values)</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00035">logbank.h:35</a></div></div>
<div class="ttc" id="astructlog__locate__t_html_a0b90d39ff2c7402e79dc2d495734b2a2"><div class="ttname"><a href="structlog__locate__t.html#a0b90d39ff2c7402e79dc2d495734b2a2">log_locate_t::line</a></div><div class="ttdeci">int line</div><div class="ttdoc">line number</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00064">logbank.h:64</a></div></div>
<div class="ttc" id="astructlog__locate__t_html_a0c90ea314fda6ca6929a7a3d9bfc221e"><div class="ttname"><a href="structlog__locate__t.html#a0c90ea314fda6ca6929a7a3d9bfc221e">log_locate_t::func</a></div><div class="ttdeci">const char * func</div><div class="ttdoc">function name</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00062">logbank.h:62</a></div></div>
<div class="ttc" id="astructlog__locate__t_html_ad00d25abaa1a72cd0735c44774978978"><div class="ttname"><a href="structlog__locate__t.html#ad00d25abaa1a72cd0735c44774978978">log_locate_t::file</a></div><div class="ttdeci">const char * file</div><div class="ttdoc">file name</div><div class="ttdef"><b>Definition</b> <a href="logbank_8h_source.html#l00063">logbank.h:63</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a190f05562784d975771cf3c914c5fe45" name="a190f05562784d975771cf3c914c5fe45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a190f05562784d975771cf3c914c5fe45">&#9670;&#160;</a></span>color_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">color_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {<span class="stringliteral">&quot;\x1b[96m&quot;</span>, <span class="stringliteral">&quot;\x1b[32m&quot;</span>, <span class="stringliteral">&quot;\x1b[93m&quot;</span>, <span class="stringliteral">&quot;\x1b[31m&quot;</span>,</div>
<div class="line">                                   <span class="stringliteral">&quot;\x1b[95m&quot;</span>, <span class="stringliteral">&quot;\x1b[34m&quot;</span>, <span class="stringliteral">&quot;\x1b[90m&quot;</span>, <span class="stringliteral">&quot;\x1b[0m&quot;</span>}</div>
</div><!-- fragment -->
<p>list of available ANSI color codes for foreground text </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00200">200</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  200</span>                                  {<span class="stringliteral">&quot;\x1b[96m&quot;</span>, <span class="stringliteral">&quot;\x1b[32m&quot;</span>, <span class="stringliteral">&quot;\x1b[93m&quot;</span>, <span class="stringliteral">&quot;\x1b[31m&quot;</span>,</div>
<div class="line"><span class="lineno">  201</span>                                   <span class="stringliteral">&quot;\x1b[95m&quot;</span>, <span class="stringliteral">&quot;\x1b[34m&quot;</span>, <span class="stringliteral">&quot;\x1b[90m&quot;</span>, <span class="stringliteral">&quot;\x1b[0m&quot;</span>};</div>
</div><!-- fragment -->
</div>
</div>
<a id="a189d4d789654e3342bdde4f60875aa1e" name="a189d4d789654e3342bdde4f60875aa1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a189d4d789654e3342bdde4f60875aa1e">&#9670;&#160;</a></span>log_color</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_color = <a class="el" href="logbank__config_8h.html#a2671a6aa5ca95c2a6c3fd0032e7880d5">LOG_COLOR</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>current preference on use of color </p>
<p>Default value of log_color is copied directly from <a class="el" href="logbank__config_8h.html#a2671a6aa5ca95c2a6c3fd0032e7880d5">LOG_COLOR</a> </p><dl class="section note"><dt>Note</dt><dd>color can still be disabled using <a class="el" href="#a454f3ad6bafae1ecc3ff96410f7f1ea3">LOG_USE_COLOR</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00194">194</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a6e1cbcfba04606a1ea81d837e75cf182" name="a6e1cbcfba04606a1ea81d837e75cf182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e1cbcfba04606a1ea81d837e75cf182">&#9670;&#160;</a></span>log_datestamp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_datestamp = <a class="el" href="logbank__config_8h.html#a5f56d981e5b55df4bee5c7a5b6b44007">LOG_DATESTAMP</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This value controls the use of date stamps. </p>
<p>Default value of log_datestamp is copied directly from <a class="el" href="logbank__config_8h.html#a5f56d981e5b55df4bee5c7a5b6b44007">LOG_DATESTAMP</a> </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00287">287</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a05d8923dbf1550325f81ba53458f31c8" name="a05d8923dbf1550325f81ba53458f31c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05d8923dbf1550325f81ba53458f31c8">&#9670;&#160;</a></span>log_fptr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_fptr = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This variable stores the file pointer being used to write-stream. </p>
<p>Default value is NULL </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00273">273</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="ac91d55174d383848b976a34de843748e" name="ac91d55174d383848b976a34de843748e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91d55174d383848b976a34de843748e">&#9670;&#160;</a></span>log_level</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_level = <a class="el" href="logbank__config_8h.html#a0b87e0d3bf5853bcbb0b66a7c48fdc05">LOG_LEVEL</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This value acts as a filter to discard lower-priority log-requests. </p>
<p>Default value of log_level is copied directly from <a class="el" href="logbank__config_8h.html#a0b87e0d3bf5853bcbb0b66a7c48fdc05">LOG_LEVEL</a> </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00266">266</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a7e19291b515046d7ab2c178cf3d8dbdc" name="a7e19291b515046d7ab2c178cf3d8dbdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e19291b515046d7ab2c178cf3d8dbdc">&#9670;&#160;</a></span>log_path</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_path = &quot;&lt;not-set&gt;&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This string is the path to file in use to write-stream. </p>
<p>Default value is "&lt;not-set&gt;" </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00280">280</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="ae6b4fb7774b5bf67f249a6ff0327f0e2" name="ae6b4fb7774b5bf67f249a6ff0327f0e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6b4fb7774b5bf67f249a6ff0327f0e2">&#9670;&#160;</a></span>log_queue</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>circular queue (FIFO) used for retrieval of recent logs </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00259">259</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="aecd1c33eda8dadb496cecee02527b6a3" name="aecd1c33eda8dadb496cecee02527b6a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd1c33eda8dadb496cecee02527b6a3">&#9670;&#160;</a></span>log_time_fn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_time_fn </td>
          <td>(</td>
          <td class="paramtype">const time_t *</td>          <td class="paramname"><span class="paramname"></span></td><td>)</td>
          <td> = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function pointer points to a correct time-function based on time-zone. </p>
<p>Possible values:</p><ul>
<li>NULL</li>
<li>localtime</li>
<li>gmtime <dl class="section note"><dt>Note</dt><dd>log_stamp_collector uses localtime when this function pointer is NULL </dd></dl>
</li>
</ul>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00294">294</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
<a id="a78f29241d03102718e247b5869f41e58" name="a78f29241d03102718e247b5869f41e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f29241d03102718e247b5869f41e58">&#9670;&#160;</a></span>log_timestamp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">log_timestamp = <a class="el" href="logbank__config_8h.html#abc368d21141fd7f00227bbe05c8a476c">LOG_TIMESTAMP</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This value controls the use of time stamps. </p>
<p>Default value of log_timestamp is copied directly from <a class="el" href="logbank__config_8h.html#abc368d21141fd7f00227bbe05c8a476c">LOG_TIMESTAMP</a> </p>

<p class="definition">Definition at line <a class="el" href="logbank_8c_source.html#l00294">294</a> of file <a class="el" href="logbank_8c_source.html">logbank.c</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0
</small></address>
</body>
</html>
