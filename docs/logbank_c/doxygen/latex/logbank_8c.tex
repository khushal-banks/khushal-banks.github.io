\doxysection{logbank/src/logbank.c File Reference}
\hypertarget{logbank_8c}{}\label{logbank_8c}\index{logbank/src/logbank.c@{logbank/src/logbank.c}}
{\ttfamily \#include "{}logbank/logbank.\+h"{}}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include $<$time.\+h$>$}\newline
{\ttfamily \#include $<$sys/stat.\+h$>$}\newline
\doxysubsubsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structlog__queue__t}{log\+\_\+queue\+\_\+t}}
\begin{DoxyCompactList}\small\item\em type for circular queue (FIFO) used for retrieval of recent logs \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{logbank_8c_ad4ac1dc3e64057a34c39c4b630c653af}{LOG\+\_\+\+FILE\+\_\+\+DIR\+\_\+\+PERM}}
\begin{DoxyCompactList}\small\item\em Directory permission used for creating new directories. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a3d024e32d04ee39146b0be5c79e61d34}{LOG\+\_\+\+MKDIR}}(dir)~mkdir(dir, \mbox{\hyperlink{logbank_8c_ad4ac1dc3e64057a34c39c4b630c653af}{LOG\+\_\+\+FILE\+\_\+\+DIR\+\_\+\+PERM}})
\begin{DoxyCompactList}\small\item\em Used to create directories (posix) \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_ae6128407d52c14b001567419568dc568}{LOG\+\_\+\+CHECK\+\_\+\+FILEPTR}}(fptr)~(fptr != NULL \&\& fptr != stdout \&\& fptr != stderr)
\begin{DoxyCompactList}\small\item\em Used to check if fptr corresponds to a stdpath like stderr/stdout. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_ad2b32710be6914b23a9fac797f5abc36}{LOG\+\_\+\+CHECK\+\_\+\+PATH}}(path,  check)~(path != NULL \&\& strstr(path, check) != NULL)
\begin{DoxyCompactList}\small\item\em Used to check if path contains check. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a3b79f2c3f4fa04670a25fdbb232975d5}{LOG\+\_\+\+CHECK\+\_\+\+STDPATH}}(path)~    (\mbox{\hyperlink{logbank_8c_ad2b32710be6914b23a9fac797f5abc36}{LOG\+\_\+\+CHECK\+\_\+\+PATH}}(path, "{}stderr"{}) \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} \mbox{\hyperlink{logbank_8c_ad2b32710be6914b23a9fac797f5abc36}{LOG\+\_\+\+CHECK\+\_\+\+PATH}}(path, "{}stdout"{}))
\item 
\#define \mbox{\hyperlink{logbank_8c_ad153d2cab8cbb360854ff1b4f3c009f5}{LOG\+\_\+\+CHECK\+\_\+\+FILEPATH}}(path)~(!\mbox{\hyperlink{logbank_8c_a3b79f2c3f4fa04670a25fdbb232975d5}{LOG\+\_\+\+CHECK\+\_\+\+STDPATH}}(path))
\item 
\#define \mbox{\hyperlink{logbank_8c_a973d1a977f445cb8c1d0aeb30f0f119d}{LOG\+\_\+\+TIME\+\_\+12\+HR}}~"{}\%I\+:\%M\+:\%S\%p"{}
\begin{DoxyCompactList}\small\item\em Fixed specified format for 12 Hour based Time stamps. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a49a22f43182bf7e7877154898a11c736}{LOG\+\_\+\+TIME\+\_\+24\+HR}}~"{}\%H\+:\%M\+:\%S  "{}
\begin{DoxyCompactList}\small\item\em Fixed specified format for 24 Hour based Time stamps. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a1273f9f835f4a7ad5304c7e633e20b68}{LOG\+\_\+\+TIME\+\_\+\+FORMAT}}~\mbox{\hyperlink{logbank_8c_a973d1a977f445cb8c1d0aeb30f0f119d}{LOG\+\_\+\+TIME\+\_\+12\+HR}}
\begin{DoxyCompactList}\small\item\em This macro chooses between LOG\+\_\+\+TIME\+\_\+12\+HR \& LOG\+\_\+\+TIME\+\_\+24\+HR. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_af908196e407bb67394664c7b0d5999b8}{LOG\+\_\+\+TIME\+\_\+\+LEN}}~(10 + 1)
\begin{DoxyCompactList}\small\item\em Calculated length for specified time format + 1 for string termination. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a1ea36cc09a0aa530b338c94960baf512}{LOG\+\_\+\+DATE\+\_\+\+FORMAT}}~"{}\%d/\%m/\%Y"{}
\begin{DoxyCompactList}\small\item\em Fixed specified format for Date stamps. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a9c3be125d60c2afbb469cfe890546132}{LOG\+\_\+\+DATE\+\_\+\+LEN}}~(10 + 1)
\begin{DoxyCompactList}\small\item\em Calculated length for specified time format + 1 for string termination. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a454f3ad6bafae1ecc3ff96410f7f1ea3}{LOG\+\_\+\+USE\+\_\+\+COLOR}}~(\mbox{\hyperlink{logbank_8c_a189d4d789654e3342bdde4f60875aa1e}{log\+\_\+color}} \&\& !\mbox{\hyperlink{logbank_8c_ae6128407d52c14b001567419568dc568}{LOG\+\_\+\+CHECK\+\_\+\+FILEPTR}}(\mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\+\_\+fptr}}))
\begin{DoxyCompactList}\small\item\em Controls when to use colors. \end{DoxyCompactList}\item 
\#define \mbox{\hyperlink{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf}{LOG\+\_\+\+ADD\+\_\+\+COLOR}}(buffer,  size,  color\+\_\+index)~    \mbox{\hyperlink{logbank_8c_a454f3ad6bafae1ecc3ff96410f7f1ea3}{LOG\+\_\+\+USE\+\_\+\+COLOR}} ? snprintf(buffer, size, "{}\%s"{}, \mbox{\hyperlink{logbank_8c_a190f05562784d975771cf3c914c5fe45}{color\+\_\+list}}\mbox{[}color\+\_\+index\mbox{]}) \+: 0
\begin{DoxyCompactList}\small\item\em Add a color to buffer. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433}{LOG\+\_\+\+COLORS}} \{ \newline
\mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4}{LOG\+\_\+\+COLOR\+\_\+\+BRIGHT\+\_\+\+CYAN}} = 0
, \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f}{LOG\+\_\+\+COLOR\+\_\+\+GREEN}}
, \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f}{LOG\+\_\+\+COLOR\+\_\+\+BRIGHT\+\_\+\+YELLOW}}
, \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905}{LOG\+\_\+\+COLOR\+\_\+\+RED}}
, \newline
\mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581}{LOG\+\_\+\+COLOR\+\_\+\+BRIGHT\+\_\+\+MAGENTA}}
, \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c}{LOG\+\_\+\+COLOR\+\_\+\+BLUE}}
, \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c}{LOG\+\_\+\+COLOR\+\_\+\+GRAY}}
, \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70}{LOG\+\_\+\+COLOR\+\_\+\+END}}
 \}
\begin{DoxyCompactList}\small\item\em Names of available ANSI color codes for foregound text. \end{DoxyCompactList}\item 
enum \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cab}{LOG\+\_\+\+PARSER\+\_\+\+STATES}} \{ \newline
\mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739}{LOG\+\_\+\+PARSER\+\_\+\+INIT}} = 0
, \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73}{LOG\+\_\+\+PARSER\+\_\+\+LEVEL}}
, \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc}{LOG\+\_\+\+PARSER\+\_\+\+LOCATION}}
, \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9}{LOG\+\_\+\+PARSER\+\_\+\+DATA}}
, \newline
\mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8}{LOG\+\_\+\+PARSER\+\_\+\+DONE}}
, \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694}{LOG\+\_\+\+PARSER\+\_\+\+FAILED}}
 \}
\begin{DoxyCompactList}\small\item\em Available states used when parsing log-\/requests. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{logbank_8c_a7428ec2d45d3df3bbb27094a8f8d585a}{log\+\_\+stamp\+\_\+collector}} (char \texorpdfstring{$\ast$}{*}stamp, const char \texorpdfstring{$\ast$}{*}format, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Used to collect system date/time in requested format. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a61610956cd7b586c8745be62d0b04bb4}{update\+\_\+header}} (char \texorpdfstring{$\ast$}{*}header, size\+\_\+t size, int level, \mbox{\hyperlink{structlog__locate__t}{log\+\_\+locate\+\_\+t}} locate)
\begin{DoxyCompactList}\small\item\em This function populate the header i.\+e., prefix of log-\/message. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a1ce55d5bac5a5aed68db52e12c03f1cf}{log\+\_\+recursive\+\_\+mkdir}} (const char \texorpdfstring{$\ast$}{*}dir)
\begin{DoxyCompactList}\small\item\em This function is used to recursively create parent directories required by dir. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_aa1e18d059cd1fce51c78634715c40ae4}{log\+\_\+create\+\_\+parent\+\_\+dirs}} (const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em This function is used to create parent directories required for new logging path. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a85f752cf8128317e84b239fbcaaf6378}{log\+\_\+stream\+\_\+open}} (const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Used to open a new logging stream. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{logbank_8c_a940b19d7c5b87e1e9f5c74376a04831e}{log\+\_\+stream\+\_\+write}} (const char \texorpdfstring{$\ast$}{*}message)
\begin{DoxyCompactList}\small\item\em write directly to configured stream \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{logbank_8c_ad315a1e2645c212deedef5aa5ccbb472}{log\+\_\+en\+\_\+queue}} (const char \texorpdfstring{$\ast$}{*}message)
\begin{DoxyCompactList}\small\item\em This function is used to add a new log-\/message to log\+\_\+queue. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a2904c6d8c196655e95f5b0f72f802ca1}{log\+\_\+de\+\_\+queue}} (char \texorpdfstring{$\ast$}{*}message, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em This function is used to retrieve oldest available log-\/message from log\+\_\+queue. \end{DoxyCompactList}\item 
static char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{logbank_8c_af0d7ece6c0f2053c37d77e4ebdd4d728}{log\+\_\+str\+\_\+replace}} (char \texorpdfstring{$\ast$}{*}source, const char \texorpdfstring{$\ast$}{*}remove)
\begin{DoxyCompactList}\small\item\em Used to strip away first occurrence of "{}remove"{} from "{}source"{}. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\+\_\+atoi}} (const char \texorpdfstring{$\ast$}{*}nptr)
\begin{DoxyCompactList}\small\item\em Used to convert ASCII to integer. \end{DoxyCompactList}\item 
static char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{logbank_8c_ad078e8b28af95662960b20b873f2c616}{log\+\_\+strtok\+\_\+r}} (char \texorpdfstring{$\ast$}{*}str, const char \texorpdfstring{$\ast$}{*}delim, char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}saveptr)
\begin{DoxyCompactList}\small\item\em Used in place of strtok\+\_\+r. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_aa15850fe2e5f2dbcad19c95e9a92591c}{parse\+\_\+date}} (const char \texorpdfstring{$\ast$}{*}copy, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em Used to parse date parameter from copy of log-\/message. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{logbank_8c_a6822fbc1932f14536d8492add244655c}{parse\+\_\+time}} (const char \texorpdfstring{$\ast$}{*}copy, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em Used to parse time parameter from copy of log-\/message. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a71249e077c2ba82ba172b73263a446c9}{parse\+\_\+datetime}} (const char \texorpdfstring{$\ast$}{*}copy, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em Used to parse date \& time parameter from copy of log-\/message. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a66b27f4f9997b08f6b1babdee8406102}{parse\+\_\+level}} (const char \texorpdfstring{$\ast$}{*}copy, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em Used to parse level parameter from copy of log-\/message. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{logbank_8c_a79a0d62638455a3117532390c888f419}{parse\+\_\+function}} (const char \texorpdfstring{$\ast$}{*}copy, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em Used to parse function name from copy of log-\/message. \end{DoxyCompactList}\item 
static void \mbox{\hyperlink{logbank_8c_a88ac1ee07ea17f2847abf5981d388331}{parse\+\_\+file\+\_\+and\+\_\+line}} (const char \texorpdfstring{$\ast$}{*}copy, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em Used to parse file name and line number from copy of log-\/message. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_aaf13a0db1967c342e204aa844df01fda}{parse\+\_\+location}} (const char \texorpdfstring{$\ast$}{*}copy, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em Used to parse function name, file name \& line number parameter from copy of log-\/message. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_ad93e16f63aa5d848b4ee0eda72f092ac}{parse\+\_\+data\+\_\+string}} (char \texorpdfstring{$\ast$}{*}message, size\+\_\+t size, const char \texorpdfstring{$\ast$}{*}copy)
\begin{DoxyCompactList}\small\item\em Used to separate data string from message. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_a5e49b5594c4aed69441bc2b4b0e8e0e7}{log\+\_\+get\+\_\+default\+\_\+level}} (void)
\begin{DoxyCompactList}\small\item\em This function returns default value for log\+\_\+level See \doxylink{logbank_8h_a0b87e0d3bf5853bcbb0b66a7c48fdc05}{LOG\+\_\+\+LEVEL}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_ab53553042bb3122475a03674bd689d5a}{log\+\_\+get\+\_\+level}} (void)
\begin{DoxyCompactList}\small\item\em This function returns current value for log\+\_\+level. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_af0d39913e824d4d0aef7513b284ea289}{log\+\_\+set\+\_\+level}} (int level)
\begin{DoxyCompactList}\small\item\em This function configures value for log\+\_\+level. \end{DoxyCompactList}\item 
const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{logbank_8c_a2f37fc38d4885ae4fd5f499787e5f550}{log\+\_\+get\+\_\+levelname}} (int level)
\begin{DoxyCompactList}\small\item\em This function is used to read name of a particular log-\/level. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logbank_8c_a99198e1af155f869f5d31a85706d073c}{log\+\_\+get\+\_\+logfile}} (char \texorpdfstring{$\ast$}{*}path, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Used to read path of log file currently being used. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_aa7ec68aebf120e2541716176bf710517}{log\+\_\+set\+\_\+logfile}} (const char \texorpdfstring{$\ast$}{*}path)
\begin{DoxyCompactList}\small\item\em Used to configure path of log file to be used for logging. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logbank_8c_a22342ac3be9a84c6131f396eab8bd4ba}{log\+\_\+change\+\_\+tzone}} (int gmt)
\begin{DoxyCompactList}\small\item\em This function is used to switch between gmt time \& local time. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_abfe2b67a3b61f6ca5ac29458f1a6fa20}{log\+\_\+use\+\_\+datestamp}} (int enable)
\begin{DoxyCompactList}\small\item\em This function is used to enable date stamps for every log-\/request at run-\/time. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_a1c3d0c234139eef0ecdd76c379bd2622}{log\+\_\+use\+\_\+timestamp}} (int enable)
\begin{DoxyCompactList}\small\item\em This function is used to enable time stamps for every log-\/request at run-\/time. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_a87097c0104243be5ea4a28ade9abc579}{log\+\_\+use\+\_\+color}} (int enable)
\begin{DoxyCompactList}\small\item\em This function is used to enable colors for log-\/requests being logged on stderr. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_af4c62a16c3bbb595d0ada4b00a8b4092}{log\+\_\+this}} (int level, \mbox{\hyperlink{structlog__locate__t}{log\+\_\+locate\+\_\+t}} locate, const char \texorpdfstring{$\ast$}{*}fmt,...)
\begin{DoxyCompactList}\small\item\em This is the main logging function of this library. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_a1c0bafbb7eff649930512bdefd411de2}{log\+\_\+get\+\_\+queue\+\_\+len}} (void)
\begin{DoxyCompactList}\small\item\em Returns the value of \doxylink{logbank_8h_a4caacfae62d7eef49d49b5498679f136}{LOG\+\_\+\+RETRIEVE\+\_\+\+QUEUE\+\_\+\+LEN}. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_a6cb516ab3c896f857b73e25c5dadef73}{log\+\_\+retrieve}} (char \texorpdfstring{$\ast$}{*}message, size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em This function is used to retrieve oldest available log-\/message from log\+\_\+queue. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{logbank_8c_ada483370fa70cd182fa9f81e8d1c8b0c}{log\+\_\+remove\+\_\+colors}} (char \texorpdfstring{$\ast$}{*}message)
\begin{DoxyCompactList}\small\item\em This function removes ANSI color codes from message. \end{DoxyCompactList}\item 
int \mbox{\hyperlink{logbank_8c_a23e92ab1af0e88c03f627dac4ea7df48}{log\+\_\+parser}} (char \texorpdfstring{$\ast$}{*}message, size\+\_\+t size, \mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}info)
\begin{DoxyCompactList}\small\item\em This function parses \& separates all the details with in the message. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
static int \mbox{\hyperlink{logbank_8c_a189d4d789654e3342bdde4f60875aa1e}{log\+\_\+color}} = \mbox{\hyperlink{logbank_8h_a2671a6aa5ca95c2a6c3fd0032e7880d5}{LOG\+\_\+\+COLOR}}
\begin{DoxyCompactList}\small\item\em current preferrence on use of color \end{DoxyCompactList}\item 
static const char \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{logbank_8c_a190f05562784d975771cf3c914c5fe45}{color\+\_\+list}} \mbox{[}$\,$\mbox{]}
\begin{DoxyCompactList}\small\item\em list of available ANSI color codes for foregound text \end{DoxyCompactList}\item 
static \mbox{\hyperlink{structlog__queue__t}{log\+\_\+queue\+\_\+t}} \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\+\_\+queue}}
\begin{DoxyCompactList}\small\item\em circular queue (FIFO) used for retrieval of recent logs \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_ac91d55174d383848b976a34de843748e}{log\+\_\+level}} = \mbox{\hyperlink{logbank_8h_a0b87e0d3bf5853bcbb0b66a7c48fdc05}{LOG\+\_\+\+LEVEL}}
\begin{DoxyCompactList}\small\item\em This value acts as a filter to discard lower-\/priority log-\/requests. \end{DoxyCompactList}\item 
static FILE \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\+\_\+fptr}} = NULL
\begin{DoxyCompactList}\small\item\em This variable stores the file pointer being used to write-\/stream. \end{DoxyCompactList}\item 
static char \mbox{\hyperlink{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}{log\+\_\+path}} \mbox{[}\mbox{\hyperlink{logbank_8h_afcc65d4c77be31d33587e653eb142dc3}{LOG\+\_\+\+MAX\+\_\+\+PATH\+\_\+\+LEN}}\mbox{]} = "{}$<$not-\/set$>$"{}
\begin{DoxyCompactList}\small\item\em This string is the path to file in use to write-\/stream. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a6e1cbcfba04606a1ea81d837e75cf182}{log\+\_\+datestamp}} = \mbox{\hyperlink{logbank_8h_a5f56d981e5b55df4bee5c7a5b6b44007}{LOG\+\_\+\+DATESTAMP}}
\begin{DoxyCompactList}\small\item\em This value controls the use of date stamps. \end{DoxyCompactList}\item 
static int \mbox{\hyperlink{logbank_8c_a78f29241d03102718e247b5869f41e58}{log\+\_\+timestamp}} = \mbox{\hyperlink{logbank_8h_abc368d21141fd7f00227bbe05c8a476c}{LOG\+\_\+\+TIMESTAMP}}
\begin{DoxyCompactList}\small\item\em This value controls the use of time stamps. \end{DoxyCompactList}\item 
static struct tm \texorpdfstring{$\ast$}{*}(\texorpdfstring{$\ast$}{*} \mbox{\hyperlink{logbank_8c_aecd1c33eda8dadb496cecee02527b6a3}{log\+\_\+time\+\_\+fn}} )(const time\+\_\+t \texorpdfstring{$\ast$}{*}) = NULL
\begin{DoxyCompactList}\small\item\em This function pointer points to a correct time-\/function based on time-\/zone. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf}\label{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf} 
\index{logbank.c@{logbank.c}!LOG\_ADD\_COLOR@{LOG\_ADD\_COLOR}}
\index{LOG\_ADD\_COLOR@{LOG\_ADD\_COLOR}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_ADD\_COLOR}{LOG\_ADD\_COLOR}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+ADD\+\_\+\+COLOR(\begin{DoxyParamCaption}\item[{}]{buffer,  }\item[{}]{size,  }\item[{}]{color\+\_\+index }\end{DoxyParamCaption})~    \mbox{\hyperlink{logbank_8c_a454f3ad6bafae1ecc3ff96410f7f1ea3}{LOG\+\_\+\+USE\+\_\+\+COLOR}} ? snprintf(buffer, size, "{}\%s"{}, \mbox{\hyperlink{logbank_8c_a190f05562784d975771cf3c914c5fe45}{color\+\_\+list}}\mbox{[}color\+\_\+index\mbox{]}) \+: 0}



Add a color to buffer. 

This macro is use to add color to a buffer; which has remaining bytes size

\begin{DoxyNote}{Note}
This macro assumes buffer and size parameters are passed after necessary calculations. So, it would start writing at index 0 of buffer if size allows it. Check parameters documentation below.
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em buffer} & buffer pointer (after adding len as index) \\
\hline
\mbox{\texttt{ in}}  & {\em size} & available remaining size (after subtracting len from origional size) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\texorpdfstring{$>$}{>}0 Color is added 

=0 No color is added 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00150}{150}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00150\ \textcolor{preprocessor}{\#define\ LOG\_ADD\_COLOR(buffer,\ size,\ color\_index)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00151\ \textcolor{preprocessor}{\ \ \ \ LOG\_USE\_COLOR\ ?\ snprintf(buffer,\ size,\ "{}\%s"{},\ color\_list[color\_index])\ :\ 0}}

\end{DoxyCode}
\Hypertarget{logbank_8c_ad153d2cab8cbb360854ff1b4f3c009f5}\label{logbank_8c_ad153d2cab8cbb360854ff1b4f3c009f5} 
\index{logbank.c@{logbank.c}!LOG\_CHECK\_FILEPATH@{LOG\_CHECK\_FILEPATH}}
\index{LOG\_CHECK\_FILEPATH@{LOG\_CHECK\_FILEPATH}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_CHECK\_FILEPATH}{LOG\_CHECK\_FILEPATH}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+CHECK\+\_\+\+FILEPATH(\begin{DoxyParamCaption}\item[{}]{path }\end{DoxyParamCaption})~(!\mbox{\hyperlink{logbank_8c_a3b79f2c3f4fa04670a25fdbb232975d5}{LOG\+\_\+\+CHECK\+\_\+\+STDPATH}}(path))}



Definition at line \mbox{\hyperlink{logbank_8c_source_l00076}{76}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_ae6128407d52c14b001567419568dc568}\label{logbank_8c_ae6128407d52c14b001567419568dc568} 
\index{logbank.c@{logbank.c}!LOG\_CHECK\_FILEPTR@{LOG\_CHECK\_FILEPTR}}
\index{LOG\_CHECK\_FILEPTR@{LOG\_CHECK\_FILEPTR}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_CHECK\_FILEPTR}{LOG\_CHECK\_FILEPTR}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+CHECK\+\_\+\+FILEPTR(\begin{DoxyParamCaption}\item[{}]{fptr }\end{DoxyParamCaption})~(fptr != NULL \&\& fptr != stdout \&\& fptr != stderr)}



Used to check if fptr corresponds to a stdpath like stderr/stdout. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em fptr} & fptr which needs to be checked \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE if fptr corresponds to a filepath 

FALSE if fptr corresponds to a stdpath 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00044}{44}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_ad2b32710be6914b23a9fac797f5abc36}\label{logbank_8c_ad2b32710be6914b23a9fac797f5abc36} 
\index{logbank.c@{logbank.c}!LOG\_CHECK\_PATH@{LOG\_CHECK\_PATH}}
\index{LOG\_CHECK\_PATH@{LOG\_CHECK\_PATH}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_CHECK\_PATH}{LOG\_CHECK\_PATH}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+CHECK\+\_\+\+PATH(\begin{DoxyParamCaption}\item[{}]{path,  }\item[{}]{check }\end{DoxyParamCaption})~(path != NULL \&\& strstr(path, check) != NULL)}



Used to check if path contains check. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em path} & path buffer which should contain check string \\
\hline
\mbox{\texttt{ in}}  & {\em check} & check string which should exist in path buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
TRUE path contains check string 

FALSE path doesn\textquotesingle{}t contain check string 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00055}{55}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a3b79f2c3f4fa04670a25fdbb232975d5}\label{logbank_8c_a3b79f2c3f4fa04670a25fdbb232975d5} 
\index{logbank.c@{logbank.c}!LOG\_CHECK\_STDPATH@{LOG\_CHECK\_STDPATH}}
\index{LOG\_CHECK\_STDPATH@{LOG\_CHECK\_STDPATH}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_CHECK\_STDPATH}{LOG\_CHECK\_STDPATH}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+CHECK\+\_\+\+STDPATH(\begin{DoxyParamCaption}\item[{}]{path }\end{DoxyParamCaption})~    (\mbox{\hyperlink{logbank_8c_ad2b32710be6914b23a9fac797f5abc36}{LOG\+\_\+\+CHECK\+\_\+\+PATH}}(path, "{}stderr"{}) \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|} \mbox{\hyperlink{logbank_8c_ad2b32710be6914b23a9fac797f5abc36}{LOG\+\_\+\+CHECK\+\_\+\+PATH}}(path, "{}stdout"{}))}



Definition at line \mbox{\hyperlink{logbank_8c_source_l00065}{65}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00065\ \textcolor{preprocessor}{\#define\ LOG\_CHECK\_STDPATH(path)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\ \ \ \ (LOG\_CHECK\_PATH(path,\ "{}stderr"{})\ ||\ LOG\_CHECK\_PATH(path,\ "{}stdout"{}))}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a1ea36cc09a0aa530b338c94960baf512}\label{logbank_8c_a1ea36cc09a0aa530b338c94960baf512} 
\index{logbank.c@{logbank.c}!LOG\_DATE\_FORMAT@{LOG\_DATE\_FORMAT}}
\index{LOG\_DATE\_FORMAT@{LOG\_DATE\_FORMAT}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_DATE\_FORMAT}{LOG\_DATE\_FORMAT}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+DATE\+\_\+\+FORMAT~"{}\%d/\%m/\%Y"{}}



Fixed specified format for Date stamps. 

A fixed format is preferred for easily parsing old logs Choosen Format\+: 13/05/2024 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00118}{118}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a9c3be125d60c2afbb469cfe890546132}\label{logbank_8c_a9c3be125d60c2afbb469cfe890546132} 
\index{logbank.c@{logbank.c}!LOG\_DATE\_LEN@{LOG\_DATE\_LEN}}
\index{LOG\_DATE\_LEN@{LOG\_DATE\_LEN}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_DATE\_LEN}{LOG\_DATE\_LEN}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+DATE\+\_\+\+LEN~(10 + 1)}



Calculated length for specified time format + 1 for string termination. 

13/05/2024 1234567890 = 10 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00126}{126}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_ad4ac1dc3e64057a34c39c4b630c653af}\label{logbank_8c_ad4ac1dc3e64057a34c39c4b630c653af} 
\index{logbank.c@{logbank.c}!LOG\_FILE\_DIR\_PERM@{LOG\_FILE\_DIR\_PERM}}
\index{LOG\_FILE\_DIR\_PERM@{LOG\_FILE\_DIR\_PERM}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_FILE\_DIR\_PERM}{LOG\_FILE\_DIR\_PERM}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+FILE\+\_\+\+DIR\+\_\+\+PERM}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ \ \ \ (S\_IRUSR\ |\ S\_IWUSR\ |\ S\_IXUSR\ |\ S\_IRGRP\ |\ S\_IWGRP\ |\ S\_IXGRP\ |\ S\_IROTH\ |\ S\_IWOTH\ \ \ \ \ \ \ \(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ |\ S\_IXOTH)}

\end{DoxyCode}


Directory permission used for creating new directories. 

\begin{DoxyNote}{Note}
Not applicable for windows OS 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00025}{25}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ LOG\_FILE\_DIR\_PERM\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\ \ \ \ (S\_IRUSR\ |\ S\_IWUSR\ |\ S\_IXUSR\ |\ S\_IRGRP\ |\ S\_IWGRP\ |\ S\_IXGRP\ |\ S\_IROTH\ |\ S\_IWOTH\ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\ \ \ \ \ |\ S\_IXOTH)}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a3d024e32d04ee39146b0be5c79e61d34}\label{logbank_8c_a3d024e32d04ee39146b0be5c79e61d34} 
\index{logbank.c@{logbank.c}!LOG\_MKDIR@{LOG\_MKDIR}}
\index{LOG\_MKDIR@{LOG\_MKDIR}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_MKDIR}{LOG\_MKDIR}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+MKDIR(\begin{DoxyParamCaption}\item[{}]{dir }\end{DoxyParamCaption})~mkdir(dir, \mbox{\hyperlink{logbank_8c_ad4ac1dc3e64057a34c39c4b630c653af}{LOG\+\_\+\+FILE\+\_\+\+DIR\+\_\+\+PERM}})}



Used to create directories (posix) 



Definition at line \mbox{\hyperlink{logbank_8c_source_l00033}{33}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a973d1a977f445cb8c1d0aeb30f0f119d}\label{logbank_8c_a973d1a977f445cb8c1d0aeb30f0f119d} 
\index{logbank.c@{logbank.c}!LOG\_TIME\_12HR@{LOG\_TIME\_12HR}}
\index{LOG\_TIME\_12HR@{LOG\_TIME\_12HR}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_TIME\_12HR}{LOG\_TIME\_12HR}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+TIME\+\_\+12\+HR~"{}\%I\+:\%M\+:\%S\%p"{}}



Fixed specified format for 12 Hour based Time stamps. 

This format is preferred for easily parsing old logs Choosen Format\+: 06\+:30\+:00PM 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00084}{84}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a49a22f43182bf7e7877154898a11c736}\label{logbank_8c_a49a22f43182bf7e7877154898a11c736} 
\index{logbank.c@{logbank.c}!LOG\_TIME\_24HR@{LOG\_TIME\_24HR}}
\index{LOG\_TIME\_24HR@{LOG\_TIME\_24HR}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_TIME\_24HR}{LOG\_TIME\_24HR}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+TIME\+\_\+24\+HR~"{}\%H\+:\%M\+:\%S  "{}}



Fixed specified format for 24 Hour based Time stamps. 

This format is preferred for easily parsing old logs Choosen Format\+: 18\+:30\+:00 ~\newline
 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00092}{92}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a1273f9f835f4a7ad5304c7e633e20b68}\label{logbank_8c_a1273f9f835f4a7ad5304c7e633e20b68} 
\index{logbank.c@{logbank.c}!LOG\_TIME\_FORMAT@{LOG\_TIME\_FORMAT}}
\index{LOG\_TIME\_FORMAT@{LOG\_TIME\_FORMAT}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_TIME\_FORMAT}{LOG\_TIME\_FORMAT}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+TIME\+\_\+\+FORMAT~\mbox{\hyperlink{logbank_8c_a973d1a977f445cb8c1d0aeb30f0f119d}{LOG\+\_\+\+TIME\+\_\+12\+HR}}}



This macro chooses between LOG\+\_\+\+TIME\+\_\+12\+HR \& LOG\+\_\+\+TIME\+\_\+24\+HR. 

Choice of time format is not very flexible. Both options are nearly the same. There length is also forcefully made same (by adding spaces at end) in order to provide better indentation

\begin{DoxyNote}{Note}
This macro is recommended to be used for time stamp collection in \doxylink{logbank_8h_a9618e8e44960252c699aea9fc3fc49bc}{log\+\_\+this()} function 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00102}{102}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_af908196e407bb67394664c7b0d5999b8}\label{logbank_8c_af908196e407bb67394664c7b0d5999b8} 
\index{logbank.c@{logbank.c}!LOG\_TIME\_LEN@{LOG\_TIME\_LEN}}
\index{LOG\_TIME\_LEN@{LOG\_TIME\_LEN}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_TIME\_LEN}{LOG\_TIME\_LEN}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+TIME\+\_\+\+LEN~(10 + 1)}



Calculated length for specified time format + 1 for string termination. 

06\+:30\+:00PM 1234567890 = 10 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00110}{110}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a454f3ad6bafae1ecc3ff96410f7f1ea3}\label{logbank_8c_a454f3ad6bafae1ecc3ff96410f7f1ea3} 
\index{logbank.c@{logbank.c}!LOG\_USE\_COLOR@{LOG\_USE\_COLOR}}
\index{LOG\_USE\_COLOR@{LOG\_USE\_COLOR}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_USE\_COLOR}{LOG\_USE\_COLOR}}
{\footnotesize\ttfamily \#define LOG\+\_\+\+USE\+\_\+\+COLOR~(\mbox{\hyperlink{logbank_8c_a189d4d789654e3342bdde4f60875aa1e}{log\+\_\+color}} \&\& !\mbox{\hyperlink{logbank_8c_ae6128407d52c14b001567419568dc568}{LOG\+\_\+\+CHECK\+\_\+\+FILEPTR}}(\mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\+\_\+fptr}}))}



Controls when to use colors. 

This macro is used to control when to use colors for log-\/requests \begin{DoxyNote}{Note}
Use this macro to limit the use of color to stderr only (other file streams shouldn\textquotesingle{}t use colors) 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00134}{134}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.



\doxysubsection{Enumeration Type Documentation}
\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433} 
\index{logbank.c@{logbank.c}!LOG\_COLORS@{LOG\_COLORS}}
\index{LOG\_COLORS@{LOG\_COLORS}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_COLORS}{LOG\_COLORS}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433}{LOG\+\_\+\+COLORS}}}



Names of available ANSI color codes for foregound text. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_BRIGHT\_CYAN@{LOG\_COLOR\_BRIGHT\_CYAN}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_BRIGHT\_CYAN@{LOG\_COLOR\_BRIGHT\_CYAN}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4} 
LOG\+\_\+\+COLOR\+\_\+\+BRIGHT\+\_\+\+CYAN&used for LOG\+\_\+\+DEBUG \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_GREEN@{LOG\_COLOR\_GREEN}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_GREEN@{LOG\_COLOR\_GREEN}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f} 
LOG\+\_\+\+COLOR\+\_\+\+GREEN&used for LOG\+\_\+\+INFO \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_BRIGHT\_YELLOW@{LOG\_COLOR\_BRIGHT\_YELLOW}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_BRIGHT\_YELLOW@{LOG\_COLOR\_BRIGHT\_YELLOW}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f} 
LOG\+\_\+\+COLOR\+\_\+\+BRIGHT\+\_\+\+YELLOW&used for LOG\+\_\+\+WARN \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_RED@{LOG\_COLOR\_RED}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_RED@{LOG\_COLOR\_RED}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905} 
LOG\+\_\+\+COLOR\+\_\+\+RED&used for LOG\+\_\+\+ERROR \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_BRIGHT\_MAGENTA@{LOG\_COLOR\_BRIGHT\_MAGENTA}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_BRIGHT\_MAGENTA@{LOG\_COLOR\_BRIGHT\_MAGENTA}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581} 
LOG\+\_\+\+COLOR\+\_\+\+BRIGHT\+\_\+\+MAGENTA&used for LOG\+\_\+\+ISSUE \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_BLUE@{LOG\_COLOR\_BLUE}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_BLUE@{LOG\_COLOR\_BLUE}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c} 
LOG\+\_\+\+COLOR\+\_\+\+BLUE&used for LOG\+\_\+\+FATAL \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_GRAY@{LOG\_COLOR\_GRAY}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_GRAY@{LOG\_COLOR\_GRAY}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c} 
LOG\+\_\+\+COLOR\+\_\+\+GRAY&used to dim certain text \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_COLOR\_END@{LOG\_COLOR\_END}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_COLOR\_END@{LOG\_COLOR\_END}}}\Hypertarget{logbank_8c_a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70}\label{logbank_8c_a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70} 
LOG\+\_\+\+COLOR\+\_\+\+END&used to terminate use of current color \\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00181}{181}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00182\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a43dcb6335fa79855e4ca4d20889fcbd4}{LOG\_COLOR\_BRIGHT\_CYAN}}\ =\ 0,}
\DoxyCodeLine{00183\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad3e8ec42274064ce7e2caef9344066f}{LOG\_COLOR\_GREEN}},}
\DoxyCodeLine{00184\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433ab6d076256ae0dbd828cf72784057782f}{LOG\_COLOR\_BRIGHT\_YELLOW}},}
\DoxyCodeLine{00185\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a108ef2e690e2f6db917f0a20732ae905}{LOG\_COLOR\_RED}},}
\DoxyCodeLine{00186\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433ac692915f210ef04b946a5a1bee783581}{LOG\_COLOR\_BRIGHT\_MAGENTA}},}
\DoxyCodeLine{00187\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a6655c2d0acacf0054e9bf3e2f01e4e2c}{LOG\_COLOR\_BLUE}},}
\DoxyCodeLine{00188\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c}{LOG\_COLOR\_GRAY}},}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70}{LOG\_COLOR\_END}},}
\DoxyCodeLine{00190\ \};}

\end{DoxyCode}
\Hypertarget{logbank_8c_a4a827d7cac130ca62871cce5e71b1cab}\label{logbank_8c_a4a827d7cac130ca62871cce5e71b1cab} 
\index{logbank.c@{logbank.c}!LOG\_PARSER\_STATES@{LOG\_PARSER\_STATES}}
\index{LOG\_PARSER\_STATES@{LOG\_PARSER\_STATES}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{LOG\_PARSER\_STATES}{LOG\_PARSER\_STATES}}
{\footnotesize\ttfamily enum \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cab}{LOG\+\_\+\+PARSER\+\_\+\+STATES}}}



Available states used when parsing log-\/requests. 

\begin{DoxyEnumFields}{Enumerator}
\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_PARSER\_INIT@{LOG\_PARSER\_INIT}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_PARSER\_INIT@{LOG\_PARSER\_INIT}}}\Hypertarget{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739}\label{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739} 
LOG\+\_\+\+PARSER\+\_\+\+INIT&Initial parser state for parsing used for parsing stamps. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_PARSER\_LEVEL@{LOG\_PARSER\_LEVEL}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_PARSER\_LEVEL@{LOG\_PARSER\_LEVEL}}}\Hypertarget{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73}\label{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73} 
LOG\+\_\+\+PARSER\+\_\+\+LEVEL&State for parsing level name. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_PARSER\_LOCATION@{LOG\_PARSER\_LOCATION}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_PARSER\_LOCATION@{LOG\_PARSER\_LOCATION}}}\Hypertarget{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc}\label{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc} 
LOG\+\_\+\+PARSER\+\_\+\+LOCATION&State for parsing location parameters. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_PARSER\_DATA@{LOG\_PARSER\_DATA}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_PARSER\_DATA@{LOG\_PARSER\_DATA}}}\Hypertarget{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9}\label{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9} 
LOG\+\_\+\+PARSER\+\_\+\+DATA&State for parsing data (i.\+e., message without header) \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_PARSER\_DONE@{LOG\_PARSER\_DONE}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_PARSER\_DONE@{LOG\_PARSER\_DONE}}}\Hypertarget{logbank_8c_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8}\label{logbank_8c_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8} 
LOG\+\_\+\+PARSER\+\_\+\+DONE&State to signify parsing finished successfully. \\
\hline

\raisebox{\heightof{T}}[0pt][0pt]{\index{LOG\_PARSER\_FAILED@{LOG\_PARSER\_FAILED}!logbank.c@{logbank.c}}\index{logbank.c@{logbank.c}!LOG\_PARSER\_FAILED@{LOG\_PARSER\_FAILED}}}\Hypertarget{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694}\label{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694} 
LOG\+\_\+\+PARSER\+\_\+\+FAILED&State to signify parsing failed. \\
\hline

\end{DoxyEnumFields}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00229}{229}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00230\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739}{LOG\_PARSER\_INIT}}\ =\ 0,}
\DoxyCodeLine{00231\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73}{LOG\_PARSER\_LEVEL}},}
\DoxyCodeLine{00232\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc}{LOG\_PARSER\_LOCATION}},}
\DoxyCodeLine{00233\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9}{LOG\_PARSER\_DATA}},}
\DoxyCodeLine{00234\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8}{LOG\_PARSER\_DONE}},}
\DoxyCodeLine{00235\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694}{LOG\_PARSER\_FAILED}}}
\DoxyCodeLine{00236\ \};}

\end{DoxyCode}


\doxysubsection{Function Documentation}
\Hypertarget{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}\label{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61} 
\index{logbank.c@{logbank.c}!log\_atoi@{log\_atoi}}
\index{log\_atoi@{log\_atoi}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_atoi()}{log\_atoi()}}
{\footnotesize\ttfamily log\+\_\+atoi (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{nptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to convert ASCII to integer. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em nptr} & Pointer to buffer containing ASCII number \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int Required number in decimal 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00653}{653}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00654\ \ \ \ \ \textcolor{keywordtype}{int}\ num\ =\ 0;}
\DoxyCodeLine{00655\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ ten\_times\ =\ 10;}
\DoxyCodeLine{00656\ }
\DoxyCodeLine{00657\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ nptr[i]\ !=\ \textcolor{charliteral}{'\(\backslash\)0'};\ ++i)\ \{}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ num\ =\ num\ *\ ten\_times\ +\ nptr[i]\ -\/\ \textcolor{charliteral}{'0'};}
\DoxyCodeLine{00659\ \ \ \ \ \}}
\DoxyCodeLine{00660\ }
\DoxyCodeLine{00661\ \ \ \ \ \textcolor{keywordflow}{return}\ num;}
\DoxyCodeLine{00662\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a22342ac3be9a84c6131f396eab8bd4ba}\label{logbank_8c_a22342ac3be9a84c6131f396eab8bd4ba} 
\index{logbank.c@{logbank.c}!log\_change\_tzone@{log\_change\_tzone}}
\index{log\_change\_tzone@{log\_change\_tzone}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_change\_tzone()}{log\_change\_tzone()}}
{\footnotesize\ttfamily void log\+\_\+change\+\_\+tzone (\begin{DoxyParamCaption}\item[{int}]{gmt }\end{DoxyParamCaption})}



This function is used to switch between gmt time \& local time. 

\begin{DoxyNote}{Note}
For invalid values of gmt argument; local time is used
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em gmt} & set gmt to 1 or 0 in order to use gmt time or local time respectively \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01068}{1068}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01069\ \ \ \ \ \textcolor{keywordflow}{if}\ (gmt\ ==\ 1)\ \{}
\DoxyCodeLine{01070\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logbank_8c_aecd1c33eda8dadb496cecee02527b6a3}{log\_time\_fn}}\ =\ gmtime;}
\DoxyCodeLine{01071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{01072\ \ \ \ \ \}}
\DoxyCodeLine{01073\ }
\DoxyCodeLine{01074\ \ \ \ \ \mbox{\hyperlink{logbank_8c_aecd1c33eda8dadb496cecee02527b6a3}{log\_time\_fn}}\ =\ localtime;}
\DoxyCodeLine{01075\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_aa1e18d059cd1fce51c78634715c40ae4}\label{logbank_8c_aa1e18d059cd1fce51c78634715c40ae4} 
\index{logbank.c@{logbank.c}!log\_create\_parent\_dirs@{log\_create\_parent\_dirs}}
\index{log\_create\_parent\_dirs@{log\_create\_parent\_dirs}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_create\_parent\_dirs()}{log\_create\_parent\_dirs()}}
{\footnotesize\ttfamily log\+\_\+create\+\_\+parent\+\_\+dirs (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



This function is used to create parent directories required for new logging path. 

This function separates file name from directory and uses \doxylink{logbank_8c_a1ce55d5bac5a5aed68db52e12c03f1cf}{log\+\_\+recursive\+\_\+mkdir()} internally to create directories


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em path} & pointer to the path buffer which is to be used for logging \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 Success; Created required parent directories 

-\/1 Failure; Couldn\textquotesingle{}t create required parent directories 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00465}{465}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00466\ \ \ \ \ \textcolor{comment}{/*\ Copy\ path\ in\ a\ new\ dir\ buffer\ */}}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keywordtype}{char}\ dir[\mbox{\hyperlink{logbank_8h_afcc65d4c77be31d33587e653eb142dc3}{LOG\_MAX\_PATH\_LEN}}];}
\DoxyCodeLine{00468\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ \textcolor{keyword}{sizeof}(dir);}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \ \ \ \ strncpy(dir,\ path,\ size);}
\DoxyCodeLine{00471\ \ \ \ \ dir[size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{comment}{/*\ Check\ if\ parent\ directories\ are\ supplied\ */}}
\DoxyCodeLine{00474\ \ \ \ \ \textcolor{keywordtype}{char}*\ sep\ =\ strrchr(dir,\ \textcolor{charliteral}{'/'});}
\DoxyCodeLine{00475\ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ ==\ NULL)\ \{}
\DoxyCodeLine{00476\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ parent\ directories\ required\ */}}
\DoxyCodeLine{00477\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00478\ \ \ \ \ \}}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \ \ \ \ \textcolor{comment}{/*\ Remove\ filename\ from\ path\ and\ create\ all\ parent\ directories\ recursively\ */}}
\DoxyCodeLine{00481\ \ \ \ \ *sep\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00482\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{logbank_8c_a1ce55d5bac5a5aed68db52e12c03f1cf}{log\_recursive\_mkdir}}(dir)\ <\ 0)\ \{}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Couldn't\ create\ parent\ directories\ */}}
\DoxyCodeLine{00484\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00485\ \ \ \ \ \}}
\DoxyCodeLine{00486\ }
\DoxyCodeLine{00487\ \ \ \ \ \textcolor{comment}{/*\ Created\ parent\ directories\ */}}
\DoxyCodeLine{00488\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00489\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a2904c6d8c196655e95f5b0f72f802ca1}\label{logbank_8c_a2904c6d8c196655e95f5b0f72f802ca1} 
\index{logbank.c@{logbank.c}!log\_de\_queue@{log\_de\_queue}}
\index{log\_de\_queue@{log\_de\_queue}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_de\_queue()}{log\_de\_queue()}}
{\footnotesize\ttfamily log\+\_\+de\+\_\+queue (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{message,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



This function is used to retrieve oldest available log-\/message from log\+\_\+queue. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em message} & pointer to buffer which would be updated with oldest message \\
\hline
\mbox{\texttt{ in}}  & {\em size} & size of message buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 Retrieved oldest available message and updated to message buffer 

0 Queue is Empty; Retrieval is not possible 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00604}{604}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00604\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00605\ \ \ \ \ \textcolor{keywordtype}{int}\ read\_index\ =\ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a29c813da5ff4239d00b640232d58378c}{read\_index}};}
\DoxyCodeLine{00606\ \ \ \ \ \textcolor{keywordtype}{int}\ write\_index\ =\ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a464879c4c51845558ffbc1b2bcc9f00c}{write\_index}};}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{keywordtype}{int}\ queue\_size\ =\ \mbox{\hyperlink{logbank_8h_a4caacfae62d7eef49d49b5498679f136}{LOG\_RETRIEVE\_QUEUE\_LEN}}\ +\ 1;}
\DoxyCodeLine{00608\ }
\DoxyCodeLine{00609\ \ \ \ \ \textcolor{keywordflow}{if}\ (read\_index\ ==\ write\_index)\ \{}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Queue\ Empty\ */}}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00612\ \ \ \ \ \}}
\DoxyCodeLine{00613\ }
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ front\ =\ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a6ab2d14d72a422104b98a0d6f0c5047a}{data}}[read\_index];}
\DoxyCodeLine{00615\ \ \ \ \ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a29c813da5ff4239d00b640232d58378c}{read\_index}}\ =\ (read\_index\ +\ 1)\ \%\ queue\_size;}
\DoxyCodeLine{00616\ }
\DoxyCodeLine{00617\ \ \ \ \ strncpy(message,\ front,\ size);}
\DoxyCodeLine{00618\ \ \ \ \ message[size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00619\ \ \ \ \ \textcolor{keywordflow}{return}\ 1;}
\DoxyCodeLine{00620\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_ad315a1e2645c212deedef5aa5ccbb472}\label{logbank_8c_ad315a1e2645c212deedef5aa5ccbb472} 
\index{logbank.c@{logbank.c}!log\_en\_queue@{log\_en\_queue}}
\index{log\_en\_queue@{log\_en\_queue}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_en\_queue()}{log\_en\_queue()}}
{\footnotesize\ttfamily log\+\_\+en\+\_\+queue (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



This function is used to add a new log-\/message to log\+\_\+queue. 

\begin{DoxyNote}{Note}
Size of message buffer should be less than or equal to LOG\+\_\+\+MAX\+\_\+\+DATA\+\_\+\+LEN
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em message} & pointer to buffer which contains message \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00576}{576}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00576\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keywordtype}{int}\ read\_index\ =\ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a29c813da5ff4239d00b640232d58378c}{read\_index}};}
\DoxyCodeLine{00578\ \ \ \ \ \textcolor{keywordtype}{int}\ write\_index\ =\ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a464879c4c51845558ffbc1b2bcc9f00c}{write\_index}};}
\DoxyCodeLine{00579\ \ \ \ \ \textcolor{keywordtype}{int}\ queue\_size\ =\ \mbox{\hyperlink{logbank_8h_a4caacfae62d7eef49d49b5498679f136}{LOG\_RETRIEVE\_QUEUE\_LEN}}\ +\ 1;}
\DoxyCodeLine{00580\ }
\DoxyCodeLine{00581\ \ \ \ \ \textcolor{keywordflow}{if}\ ((write\_index\ +\ 1)\ \%\ queue\_size\ ==\ read\_index)\ \{}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Queue\ Full\ */}}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a29c813da5ff4239d00b640232d58378c}{read\_index}}\ =\ (read\_index\ +\ 1)\ \%\ queue\_size;}
\DoxyCodeLine{00584\ \ \ \ \ \}}
\DoxyCodeLine{00585\ }
\DoxyCodeLine{00586\ \ \ \ \ \textcolor{keywordtype}{char}*\ rear\ =\ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a6ab2d14d72a422104b98a0d6f0c5047a}{data}}[write\_index];}
\DoxyCodeLine{00587\ \ \ \ \ \mbox{\hyperlink{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}{log\_queue}}.\mbox{\hyperlink{structlog__queue__t_a464879c4c51845558ffbc1b2bcc9f00c}{write\_index}}\ =\ (write\_index\ +\ 1)\ \%\ queue\_size;}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00589\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ \mbox{\hyperlink{logbank_8h_a729d70bad9089a4fa7af7191b278d434}{LOG\_MAX\_DATA\_LEN}};}
\DoxyCodeLine{00590\ \ \ \ \ (void)snprintf(rear,\ size,\ \textcolor{stringliteral}{"{}\%s"{}},\ message);}
\DoxyCodeLine{00591\ \ \ \ \ rear[size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00592\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a5e49b5594c4aed69441bc2b4b0e8e0e7}\label{logbank_8c_a5e49b5594c4aed69441bc2b4b0e8e0e7} 
\index{logbank.c@{logbank.c}!log\_get\_default\_level@{log\_get\_default\_level}}
\index{log\_get\_default\_level@{log\_get\_default\_level}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_get\_default\_level()}{log\_get\_default\_level()}}
{\footnotesize\ttfamily int log\+\_\+get\+\_\+default\+\_\+level (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function returns default value for log\+\_\+level See \doxylink{logbank_8h_a0b87e0d3bf5853bcbb0b66a7c48fdc05}{LOG\+\_\+\+LEVEL}. 

\begin{DoxyReturn}{Returns}
int Returns default log\+\_\+level 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01024}{1024}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01024\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01025\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8h_a0b87e0d3bf5853bcbb0b66a7c48fdc05}{LOG\_LEVEL}};}
\DoxyCodeLine{01026\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_ab53553042bb3122475a03674bd689d5a}\label{logbank_8c_ab53553042bb3122475a03674bd689d5a} 
\index{logbank.c@{logbank.c}!log\_get\_level@{log\_get\_level}}
\index{log\_get\_level@{log\_get\_level}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_get\_level()}{log\_get\_level()}}
{\footnotesize\ttfamily int log\+\_\+get\+\_\+level (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



This function returns current value for log\+\_\+level. 

\begin{DoxyReturn}{Returns}
int Returns log\+\_\+level 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01029}{1029}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01029\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01030\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_ac91d55174d383848b976a34de843748e}{log\_level}};}
\DoxyCodeLine{01031\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a2f37fc38d4885ae4fd5f499787e5f550}\label{logbank_8c_a2f37fc38d4885ae4fd5f499787e5f550} 
\index{logbank.c@{logbank.c}!log\_get\_levelname@{log\_get\_levelname}}
\index{log\_get\_levelname@{log\_get\_levelname}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_get\_levelname()}{log\_get\_levelname()}}
{\footnotesize\ttfamily const char \texorpdfstring{$\ast$}{*} log\+\_\+get\+\_\+levelname (\begin{DoxyParamCaption}\item[{int}]{level }\end{DoxyParamCaption})}



This function is used to read name of a particular log-\/level. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em level} & priority value of level whose name is required \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
const char\texorpdfstring{$\ast$}{*} on Success =\texorpdfstring{$>$}{>} Returns pointer to pre-\/configured level-\/name 

NULL on Failure =\texorpdfstring{$>$}{>} invalid level 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01045}{1045}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01045\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01046\ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ level\_names[]\ =\ \{\textcolor{stringliteral}{"{}DEBUG"{}},\ \textcolor{stringliteral}{"{}INFO"{}},\ \ \textcolor{stringliteral}{"{}WARN"{}},}
\DoxyCodeLine{01047\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}ERROR"{}},\ \textcolor{stringliteral}{"{}ISSUE"{}},\ \textcolor{stringliteral}{"{}FATAL"{}}\};}
\DoxyCodeLine{01048\ }
\DoxyCodeLine{01049\ \ \ \ \ \textcolor{keywordflow}{if}\ (level\ <\ LOG\_DEBUG\ ||\ level\ >\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc}{LOG\_FATAL}})\ \{}
\DoxyCodeLine{01050\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{01051\ \ \ \ \ \}}
\DoxyCodeLine{01052\ }
\DoxyCodeLine{01053\ \ \ \ \ \textcolor{keywordflow}{return}\ level\_names[level];}
\DoxyCodeLine{01054\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a99198e1af155f869f5d31a85706d073c}\label{logbank_8c_a99198e1af155f869f5d31a85706d073c} 
\index{logbank.c@{logbank.c}!log\_get\_logfile@{log\_get\_logfile}}
\index{log\_get\_logfile@{log\_get\_logfile}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_get\_logfile()}{log\_get\_logfile()}}
{\footnotesize\ttfamily void log\+\_\+get\+\_\+logfile (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{path,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



Used to read path of log file currently being used. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em path} & path buffer which would be updated with desired path \\
\hline
\mbox{\texttt{ in}}  & {\em size} & size of path buffer \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01057}{1057}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01057\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01058\ \ \ \ \ strncpy(path,\ \mbox{\hyperlink{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}{log\_path}},\ size);}
\DoxyCodeLine{01059\ \ \ \ \ path[size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01060\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a1c0bafbb7eff649930512bdefd411de2}\label{logbank_8c_a1c0bafbb7eff649930512bdefd411de2} 
\index{logbank.c@{logbank.c}!log\_get\_queue\_len@{log\_get\_queue\_len}}
\index{log\_get\_queue\_len@{log\_get\_queue\_len}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_get\_queue\_len()}{log\_get\_queue\_len()}}
{\footnotesize\ttfamily int log\+\_\+get\+\_\+queue\+\_\+len (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Returns the value of \doxylink{logbank_8h_a4caacfae62d7eef49d49b5498679f136}{LOG\+\_\+\+RETRIEVE\+\_\+\+QUEUE\+\_\+\+LEN}. 



Definition at line \mbox{\hyperlink{logbank_8c_source_l01148}{1148}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01149\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8h_a4caacfae62d7eef49d49b5498679f136}{LOG\_RETRIEVE\_QUEUE\_LEN}};}
\DoxyCodeLine{01150\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a23e92ab1af0e88c03f627dac4ea7df48}\label{logbank_8c_a23e92ab1af0e88c03f627dac4ea7df48} 
\index{logbank.c@{logbank.c}!log\_parser@{log\_parser}}
\index{log\_parser@{log\_parser}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_parser()}{log\_parser()}}
{\footnotesize\ttfamily int log\+\_\+parser (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{message,  }\item[{size\+\_\+t}]{size,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})}



This function parses \& separates all the details with in the message. 


\begin{DoxyItemize}
\item removes header from message
\begin{DoxyItemize}
\item populates info from message
\end{DoxyItemize}
\end{DoxyItemize}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em message} & pointer to buffer which contains message (will be updated to contain no header/colors) \\
\hline
\mbox{\texttt{ in}}  & {\em size} & size of message buffer \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & pointer to empty info buffer which will be populated with parsed data\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 Success; parsed input message 

-\/1 Failure; couldn\textquotesingle{}t parse input message 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01172}{1172}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01173\ \ \ \ \ \textcolor{keywordflow}{if}\ (message\ ==\ NULL\ ||\ size\ <\ \mbox{\hyperlink{logbank_8h_a729d70bad9089a4fa7af7191b278d434}{LOG\_MAX\_DATA\_LEN}}\ ||\ info\ ==\ NULL)\ \{}
\DoxyCodeLine{01174\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Invalid\ parameters\ */}}
\DoxyCodeLine{01175\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01176\ \ \ \ \ \}}
\DoxyCodeLine{01177\ }
\DoxyCodeLine{01178\ \ \ \ \ \textcolor{comment}{/*\ Create\ a\ reference\ copy\ */}}
\DoxyCodeLine{01179\ \ \ \ \ \textcolor{keywordtype}{char}\ copy[\mbox{\hyperlink{logbank_8h_a729d70bad9089a4fa7af7191b278d434}{LOG\_MAX\_DATA\_LEN}}];}
\DoxyCodeLine{01180\ \ \ \ \ strncpy(copy,\ message,\ \mbox{\hyperlink{logbank_8h_a729d70bad9089a4fa7af7191b278d434}{LOG\_MAX\_DATA\_LEN}});}
\DoxyCodeLine{01181\ \ \ \ \ copy[\mbox{\hyperlink{logbank_8h_a729d70bad9089a4fa7af7191b278d434}{LOG\_MAX\_DATA\_LEN}}\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01182\ }
\DoxyCodeLine{01183\ \ \ \ \ \textcolor{comment}{/*\ Remove\ colors\ */}}
\DoxyCodeLine{01184\ \ \ \ \ \mbox{\hyperlink{logbank_8c_ada483370fa70cd182fa9f81e8d1c8b0c}{log\_remove\_colors}}(copy);}
\DoxyCodeLine{01185\ }
\DoxyCodeLine{01186\ \ \ \ \ \textcolor{comment}{/*\ Start\ Parsing\ */}}
\DoxyCodeLine{01187\ \ \ \ \ \textcolor{keywordtype}{int}\ state\ =\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739}{LOG\_PARSER\_INIT}};}
\DoxyCodeLine{01188\ \ \ \ \ \textcolor{keywordflow}{while}\ (state\ <\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8}{LOG\_PARSER\_DONE}})\ \{}
\DoxyCodeLine{01189\ }
\DoxyCodeLine{01190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (state)\ \{}
\DoxyCodeLine{01191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabaddf6f3f0efcba2367cede26c93ff9739}{LOG\_PARSER\_INIT}}:\ \{}
\DoxyCodeLine{01192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state\ =\ \mbox{\hyperlink{logbank_8c_a71249e077c2ba82ba172b73263a446c9}{parse\_datetime}}(copy,\ info);}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01194\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01195\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73}{LOG\_PARSER\_LEVEL}}:\ \{}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state\ =\ \mbox{\hyperlink{logbank_8c_a66b27f4f9997b08f6b1babdee8406102}{parse\_level}}(copy,\ info);}
\DoxyCodeLine{01197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01198\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01199\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc}{LOG\_PARSER\_LOCATION}}:\ \{}
\DoxyCodeLine{01200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state\ =\ \mbox{\hyperlink{logbank_8c_aaf13a0db1967c342e204aa844df01fda}{parse\_location}}(copy,\ info);}
\DoxyCodeLine{01201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01202\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01203\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9}{LOG\_PARSER\_DATA}}:\ \{}
\DoxyCodeLine{01204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ state\ =\ \mbox{\hyperlink{logbank_8c_ad93e16f63aa5d848b4ee0eda72f092ac}{parse\_data\_string}}(message,\ size,\ copy);}
\DoxyCodeLine{01205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01206\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01207\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{01208\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01209\ \ \ \ \ \}}
\DoxyCodeLine{01210\ }
\DoxyCodeLine{01211\ \ \ \ \ \textcolor{comment}{/*\ Check\ parsing\ state\ */}}
\DoxyCodeLine{01212\ \ \ \ \ \textcolor{keywordflow}{return}\ state\ ==\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8}{LOG\_PARSER\_DONE}}\ ?\ 0\ :\ -\/1;}
\DoxyCodeLine{01213\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a1ce55d5bac5a5aed68db52e12c03f1cf}\label{logbank_8c_a1ce55d5bac5a5aed68db52e12c03f1cf} 
\index{logbank.c@{logbank.c}!log\_recursive\_mkdir@{log\_recursive\_mkdir}}
\index{log\_recursive\_mkdir@{log\_recursive\_mkdir}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_recursive\_mkdir()}{log\_recursive\_mkdir()}}
{\footnotesize\ttfamily log\+\_\+recursive\+\_\+mkdir (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{dir }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



This function is used to recursively create parent directories required by dir. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em dir} & pointer to the path buffer which is to be used for logging \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 Success; Created required parent directories 

-\/1 Failure; Couldn\textquotesingle{}t create required parent directories 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00429}{429}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00430\ \ \ \ \ \textcolor{keywordflow}{if}\ (dir\ ==\ NULL)\ \{}
\DoxyCodeLine{00431\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ dir\ not\ supplied\ */}}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00433\ \ \ \ \ \}}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{comment}{/*\ separator\ in\ path\ which\ exist\ between\ directories\ */}}
\DoxyCodeLine{00436\ \ \ \ \ \textcolor{keywordtype}{char}*\ sep\ =\ strrchr(dir,\ \textcolor{charliteral}{'/'});}
\DoxyCodeLine{00437\ }
\DoxyCodeLine{00438\ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ !=\ NULL)\ \{}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Calling\ this\ function\ again\ with\ only\ parent-\/directory\ */}}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ *sep\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logbank_8c_a1ce55d5bac5a5aed68db52e12c03f1cf}{log\_recursive\_mkdir}}(dir);}
\DoxyCodeLine{00442\ }
\DoxyCodeLine{00443\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Revert\ by\ joining\ back\ the\ separated\ sub-\/directory\ */}}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ *sep\ =\ \textcolor{charliteral}{'/'};}
\DoxyCodeLine{00445\ \ \ \ \ \}}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{logbank_8c_a3d024e32d04ee39146b0be5c79e61d34}{LOG\_MKDIR}}(dir)\ \&\&\ errno\ !=\ EEXIST)\ \{}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00449\ \ \ \ \ \}}
\DoxyCodeLine{00450\ }
\DoxyCodeLine{00451\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00452\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_ada483370fa70cd182fa9f81e8d1c8b0c}\label{logbank_8c_ada483370fa70cd182fa9f81e8d1c8b0c} 
\index{logbank.c@{logbank.c}!log\_remove\_colors@{log\_remove\_colors}}
\index{log\_remove\_colors@{log\_remove\_colors}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_remove\_colors()}{log\_remove\_colors()}}
{\footnotesize\ttfamily void log\+\_\+remove\+\_\+colors (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{message }\end{DoxyParamCaption})}



This function removes ANSI color codes from message. 

This function checks occurrence of each available color and removes them using \doxylink{logbank_8c_af0d7ece6c0f2053c37d77e4ebdd4d728}{log\+\_\+str\+\_\+replace()} For each color it attempts to remove it twice because, \doxylink{logbank_8c_a61610956cd7b586c8745be62d0b04bb4}{update\+\_\+header()} adds one particular color a maximum of 2 times


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em message} & pointer to buffer which would be updated with oldest message \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01158}{1158}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01159\ }
\DoxyCodeLine{01160\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ index\ =\ 0;\ index\ <=\ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70}{LOG\_COLOR\_END}};\ index++)\ \{}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ color\ =\ \mbox{\hyperlink{logbank_8c_a190f05562784d975771cf3c914c5fe45}{color\_list}}[index];}
\DoxyCodeLine{01162\ }
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strstr(message,\ color))\ \{}
\DoxyCodeLine{01164\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ One\ color\ is\ used\ a\ maximum\ of\ 2\ times\ in\ update\_header()\ */}}
\DoxyCodeLine{01165\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logbank_8c_af0d7ece6c0f2053c37d77e4ebdd4d728}{log\_str\_replace}}(message,\ color);}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logbank_8c_af0d7ece6c0f2053c37d77e4ebdd4d728}{log\_str\_replace}}(message,\ color);}
\DoxyCodeLine{01167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01168\ \ \ \ \ \}}
\DoxyCodeLine{01169\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a6cb516ab3c896f857b73e25c5dadef73}\label{logbank_8c_a6cb516ab3c896f857b73e25c5dadef73} 
\index{logbank.c@{logbank.c}!log\_retrieve@{log\_retrieve}}
\index{log\_retrieve@{log\_retrieve}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_retrieve()}{log\_retrieve()}}
{\footnotesize\ttfamily int log\+\_\+retrieve (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{message,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})}



This function is used to retrieve oldest available log-\/message from log\+\_\+queue. 

wrapper around internal function \doxylink{logbank_8c_a2904c6d8c196655e95f5b0f72f802ca1}{log\+\_\+de\+\_\+queue()}


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em message} & pointer to buffer which would be updated with oldest message \\
\hline
\mbox{\texttt{ in}}  & {\em size} & size of message buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 Retrieved oldest available message and updated to message buffer 

0 Queue is Empty; Retrieval is not possible 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01153}{1153}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01154\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a2904c6d8c196655e95f5b0f72f802ca1}{log\_de\_queue}}(message,\ size);}
\DoxyCodeLine{01155\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_af0d39913e824d4d0aef7513b284ea289}\label{logbank_8c_af0d39913e824d4d0aef7513b284ea289} 
\index{logbank.c@{logbank.c}!log\_set\_level@{log\_set\_level}}
\index{log\_set\_level@{log\_set\_level}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_set\_level()}{log\_set\_level()}}
{\footnotesize\ttfamily int log\+\_\+set\+\_\+level (\begin{DoxyParamCaption}\item[{int}]{level }\end{DoxyParamCaption})}



This function configures value for log\+\_\+level. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em level} & new value of log level \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\texorpdfstring{$>$}{>}=0 on Success =\texorpdfstring{$>$}{>} Returns previous (last used) value of log\+\_\+level 

-\/1 on Failure =\texorpdfstring{$>$}{>} Supplied new value can not be configured 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01034}{1034}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01035\ \ \ \ \ \textcolor{keywordflow}{if}\ (level\ <\ LOG\_DEBUG\ ||\ level\ >\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc}{LOG\_FATAL}})\ \{}
\DoxyCodeLine{01036\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01037\ \ \ \ \ \}}
\DoxyCodeLine{01038\ }
\DoxyCodeLine{01039\ \ \ \ \ \textcolor{keywordtype}{int}\ old\ =\ \mbox{\hyperlink{logbank_8c_ac91d55174d383848b976a34de843748e}{log\_level}};}
\DoxyCodeLine{01040\ \ \ \ \ \mbox{\hyperlink{logbank_8c_ac91d55174d383848b976a34de843748e}{log\_level}}\ =\ level;}
\DoxyCodeLine{01041\ \ \ \ \ \textcolor{keywordflow}{return}\ old;}
\DoxyCodeLine{01042\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_aa7ec68aebf120e2541716176bf710517}\label{logbank_8c_aa7ec68aebf120e2541716176bf710517} 
\index{logbank.c@{logbank.c}!log\_set\_logfile@{log\_set\_logfile}}
\index{log\_set\_logfile@{log\_set\_logfile}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_set\_logfile()}{log\_set\_logfile()}}
{\footnotesize\ttfamily int log\+\_\+set\+\_\+logfile (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path }\end{DoxyParamCaption})}



Used to configure path of log file to be used for logging. 


\begin{DoxyItemize}
\item To configure a file path; supply path to a file in path buffer
\begin{DoxyItemize}
\item To configure stdout; supply "{}stdout"{} or "{}/dev/stdout"{} to path buffer
\item To configure stderr; supply "{}stderr"{} or "{}/dev/stderr"{} to path buffer
\end{DoxyItemize}
\end{DoxyItemize}

\begin{DoxyNote}{Note}
If this function fails then logging would still continue on previous path
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em path} & path buffer containing path to be used for logging\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 Success; Started logging on new path 

-\/1 Failure; Couldn\textquotesingle{}t start logging on new path 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01063}{1063}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01064\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a85f752cf8128317e84b239fbcaaf6378}{log\_stream\_open}}(path);}
\DoxyCodeLine{01065\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a7428ec2d45d3df3bbb27094a8f8d585a}\label{logbank_8c_a7428ec2d45d3df3bbb27094a8f8d585a} 
\index{logbank.c@{logbank.c}!log\_stamp\_collector@{log\_stamp\_collector}}
\index{log\_stamp\_collector@{log\_stamp\_collector}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_stamp\_collector()}{log\_stamp\_collector()}}
{\footnotesize\ttfamily log\+\_\+stamp\+\_\+collector (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{stamp,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{format,  }\item[{size\+\_\+t}]{size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to collect system date/time in requested format. 

Check \doxylink{logbank_8c_a1ea36cc09a0aa530b338c94960baf512}{LOG\+\_\+\+DATE\+\_\+\+FORMAT}, \doxylink{logbank_8c_a1273f9f835f4a7ad5304c7e633e20b68}{LOG\+\_\+\+TIME\+\_\+\+FORMAT} for available formats \begin{DoxyNote}{Note}
This function is not thread-\/safe
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em stamp} & pointer to assigned memory for stamp buffer used to collect stamp \\
\hline
\mbox{\texttt{ in}}  & {\em format} & Choose between LOG\+\_\+\+DATE\+\_\+\+FORMAT/\+LOG\+\_\+\+TIME\+\_\+\+FORMAT \\
\hline
\mbox{\texttt{ in}}  & {\em size} & sizeof(stamp); (Currently LOG\+\_\+\+DATE\+\_\+\+LEN, LOG\+\_\+\+TIME\+\_\+\+LEN are both 11) \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00322}{322}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keywordflow}{if}\ (stamp\ ==\ NULL)\ \{}
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ stamp\ doesn't\ have\ a\ designated\ memory\ */}}
\DoxyCodeLine{00325\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00326\ \ \ \ \ \}}
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{comment}{/*\ Get\ raw-\/time\ */}}
\DoxyCodeLine{00329\ \ \ \ \ time\_t\ time\_raw\ =\ time(NULL);}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{comment}{/*\ Receive\ time\ from\ assigned\ log\_time\_fn\ (this\ ensures\ correct\ time-\/zone)\ */}}
\DoxyCodeLine{00332\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{struct\ }tm*\ time\_tm\ =\ \mbox{\hyperlink{logbank_8c_aecd1c33eda8dadb496cecee02527b6a3}{log\_time\_fn}}\ !=\ NULL\ ?\ \mbox{\hyperlink{logbank_8c_aecd1c33eda8dadb496cecee02527b6a3}{log\_time\_fn}}(\&time\_raw)}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ localtime(\&time\_raw);}
\DoxyCodeLine{00334\ }
\DoxyCodeLine{00335\ \ \ \ \ \textcolor{comment}{/*\ Reformat\ time\ to\ requested\ format\ */}}
\DoxyCodeLine{00336\ \ \ \ \ (void)strftime(stamp,\ size,\ format,\ (\textcolor{keyword}{const}\ \textcolor{keyword}{struct}\ tm*)time\_tm);}
\DoxyCodeLine{00337\ \ \ \ \ stamp[size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00339\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_af0d7ece6c0f2053c37d77e4ebdd4d728}\label{logbank_8c_af0d7ece6c0f2053c37d77e4ebdd4d728} 
\index{logbank.c@{logbank.c}!log\_str\_replace@{log\_str\_replace}}
\index{log\_str\_replace@{log\_str\_replace}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_str\_replace()}{log\_str\_replace()}}
{\footnotesize\ttfamily log\+\_\+str\+\_\+replace (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{source,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{remove }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to strip away first occurrence of "{}remove"{} from "{}source"{}. 

First occurrence of "{}remove"{} string is replaced by later part of the "{}source"{} string "{}source"{} string is returned as is if it doesn\textquotesingle{}t contain "{}remove"{} string


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em source} & Pointer to buffer containing source string \\
\hline
\mbox{\texttt{ in}}  & {\em remove} & Pointer to string which is to be removed \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char\texorpdfstring{$\ast$}{*} Pointer to updated source string 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00633}{633}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00633\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00634\ \ \ \ \ \textcolor{keywordtype}{char}*\ ptr\ =\ strstr(source,\ remove);}
\DoxyCodeLine{00635\ \ \ \ \ \textcolor{keywordflow}{if}\ (ptr\ !=\ NULL)\ \{}
\DoxyCodeLine{00636\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ len1\ =\ strlen(remove);}
\DoxyCodeLine{00637\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (len1\ !=\ 0)\ \{}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ memmove(ptr,\ ptr\ +\ len1,\ strlen(ptr\ +\ len1)\ +\ 1);}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00640\ \ \ \ \ \}}
\DoxyCodeLine{00641\ }
\DoxyCodeLine{00642\ \ \ \ \ \textcolor{keywordflow}{return}\ source;}
\DoxyCodeLine{00643\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a85f752cf8128317e84b239fbcaaf6378}\label{logbank_8c_a85f752cf8128317e84b239fbcaaf6378} 
\index{logbank.c@{logbank.c}!log\_stream\_open@{log\_stream\_open}}
\index{log\_stream\_open@{log\_stream\_open}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_stream\_open()}{log\_stream\_open()}}
{\footnotesize\ttfamily log\+\_\+stream\+\_\+open (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to open a new logging stream. 

This function automatically checks if a new file or directory is to be created


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em path} & pointer to the path buffer which is to be used for logging \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 Success; Started logging on new supplied path 

-\/1 Failure; Couldn\textquotesingle{}t starting logging on new supplied path 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00501}{501}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00501\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00502\ \ \ \ \ \textcolor{keywordflow}{if}\ (path\ ==\ NULL\ ||\ \textcolor{keyword}{sizeof}(path)\ >\ \mbox{\hyperlink{logbank_8h_afcc65d4c77be31d33587e653eb142dc3}{LOG\_MAX\_PATH\_LEN}})\ \{}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Invalid\ path\ */}}
\DoxyCodeLine{00504\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00505\ \ \ \ \ \}}
\DoxyCodeLine{00506\ }
\DoxyCodeLine{00507\ \ \ \ \ \textcolor{comment}{/*\ Check\ if\ new\ path\ is\ same\ as\ log\_path\ currently\ in\ use\ */}}
\DoxyCodeLine{00508\ \ \ \ \ \textcolor{keywordflow}{if}\ (strcmp(path,\ \mbox{\hyperlink{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}{log\_path}})\ ==\ 0)\ \{}
\DoxyCodeLine{00509\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00510\ \ \ \ \ \}}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \ \ \ FILE*\ fptr\ =\ NULL;}
\DoxyCodeLine{00513\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{logbank_8c_ad153d2cab8cbb360854ff1b4f3c009f5}{LOG\_CHECK\_FILEPATH}}(path))\ \{}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Create\ parent\ directories\ */}}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{logbank_8c_aa1e18d059cd1fce51c78634715c40ae4}{log\_create\_parent\_dirs}}(path)\ <\ 0)\ \{}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00518\ }
\DoxyCodeLine{00519\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Open\ new\ stream\ in\ append\ mode\ */}}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ fptr\ =\ fopen(path,\ \textcolor{stringliteral}{"{}a"{}});}
\DoxyCodeLine{00521\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Assign\ stdout\ or\ stderr\ */}}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ fptr\ =\ \mbox{\hyperlink{logbank_8c_ad2b32710be6914b23a9fac797f5abc36}{LOG\_CHECK\_PATH}}(path,\ \textcolor{stringliteral}{"{}stdout"{}})\ ?\ stdout\ :\ stderr;}
\DoxyCodeLine{00524\ \ \ \ \ \}}
\DoxyCodeLine{00525\ }
\DoxyCodeLine{00526\ \ \ \ \ \textcolor{keywordflow}{if}\ (fptr\ ==\ NULL)\ \{}
\DoxyCodeLine{00527\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{00528\ \ \ \ \ \}}
\DoxyCodeLine{00529\ }
\DoxyCodeLine{00530\ \ \ \ \ \textcolor{comment}{/*\ Close\ old\ fp\ */}}
\DoxyCodeLine{00531\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{logbank_8c_ae6128407d52c14b001567419568dc568}{LOG\_CHECK\_FILEPTR}}(\mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\_fptr}}))\ \{}
\DoxyCodeLine{00532\ \ \ \ \ \ \ \ \ (void)fclose(\mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\_fptr}});}
\DoxyCodeLine{00533\ \ \ \ \ \}}
\DoxyCodeLine{00534\ }
\DoxyCodeLine{00535\ \ \ \ \ \textcolor{comment}{/*\ Assign\ new\ values\ to\ log\_fptr\ and\ log\_path\ */}}
\DoxyCodeLine{00536\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\_fptr}}\ =\ fptr;}
\DoxyCodeLine{00537\ \ \ \ \ strncpy(\mbox{\hyperlink{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}{log\_path}},\ path,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}{log\_path}})\ -\/\ 1);}
\DoxyCodeLine{00538\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}{log\_path}}[\textcolor{keyword}{sizeof}(\mbox{\hyperlink{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}{log\_path}})\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00539\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00540\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a940b19d7c5b87e1e9f5c74376a04831e}\label{logbank_8c_a940b19d7c5b87e1e9f5c74376a04831e} 
\index{logbank.c@{logbank.c}!log\_stream\_write@{log\_stream\_write}}
\index{log\_stream\_write@{log\_stream\_write}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_stream\_write()}{log\_stream\_write()}}
{\footnotesize\ttfamily log\+\_\+stream\+\_\+write (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{message }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



write directly to configured stream 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em message} & pointer to log-\/message buffer to write \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00549}{549}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00550\ \ \ \ \ FILE*\ fptr\ =\ \mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\_fptr}}\ ==\ NULL\ ?\ stderr\ :\ \mbox{\hyperlink{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}{log\_fptr}};}
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00552\ \ \ \ \ \textcolor{comment}{/*\ flush\ and\ lock\ action\ */}}
\DoxyCodeLine{00553\ \ \ \ \ (void)fflush(fptr);}
\DoxyCodeLine{00554\ \textcolor{preprocessor}{\#ifndef\ \_WIN32}}
\DoxyCodeLine{00555\ \ \ \ \ flockfile(fptr);}
\DoxyCodeLine{00556\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !\_WIN32\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \ \ \ \ \textcolor{comment}{/*\ write\ action\ */}}
\DoxyCodeLine{00559\ \ \ \ \ (void)fprintf(fptr,\ \textcolor{stringliteral}{"{}\%s"{}},\ message);}
\DoxyCodeLine{00560\ }
\DoxyCodeLine{00561\ \ \ \ \ \textcolor{comment}{/*\ flush\ and\ unlock\ action\ */}}
\DoxyCodeLine{00562\ \ \ \ \ (void)fflush(fptr);}
\DoxyCodeLine{00563\ \textcolor{preprocessor}{\#ifndef\ \_WIN32}}
\DoxyCodeLine{00564\ \ \ \ \ funlockfile(fptr);}
\DoxyCodeLine{00565\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ !\_WIN32\ */}\textcolor{preprocessor}{}}
\DoxyCodeLine{00566\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_ad078e8b28af95662960b20b873f2c616}\label{logbank_8c_ad078e8b28af95662960b20b873f2c616} 
\index{logbank.c@{logbank.c}!log\_strtok\_r@{log\_strtok\_r}}
\index{log\_strtok\_r@{log\_strtok\_r}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_strtok\_r()}{log\_strtok\_r()}}
{\footnotesize\ttfamily log\+\_\+strtok\+\_\+r (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{str,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{delim,  }\item[{char \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}}]{saveptr }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used in place of strtok\+\_\+r. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em str} & pointer to input string \\
\hline
\mbox{\texttt{ in}}  & {\em delim} & pointer to delimiter \\
\hline
\mbox{\texttt{ in}}  & {\em saveptr} & pointer to saveptr required to pass next item when str is NULL\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
char\texorpdfstring{$\ast$}{*} Success\+: pointer to modified input string 

NULL Failure\+: str and \texorpdfstring{$\ast$}{*}saveptr are both NULL or str doesn\textquotesingle{}t contain delim 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00676}{676}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00677\ \ \ \ \ \textcolor{keywordflow}{if}\ (!str\ \&\&\ !(str\ =\ *saveptr))\ \{}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{00679\ \ \ \ \ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \ \ \ str\ +=\ strspn(str,\ delim);}
\DoxyCodeLine{00682\ \ \ \ \ \textcolor{keywordflow}{if}\ (!*str)\ \{}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *saveptr\ =\ 0;}
\DoxyCodeLine{00684\ \ \ \ \ \}}
\DoxyCodeLine{00685\ \ \ \ \ *saveptr\ =\ str\ +\ strcspn(str,\ delim);}
\DoxyCodeLine{00686\ }
\DoxyCodeLine{00687\ \ \ \ \ \textcolor{keywordflow}{if}\ (**saveptr)\ \{}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ *(*saveptr)++\ =\ 0;}
\DoxyCodeLine{00689\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ *saveptr\ =\ 0;}
\DoxyCodeLine{00691\ \ \ \ \ \}}
\DoxyCodeLine{00692\ }
\DoxyCodeLine{00693\ \ \ \ \ \textcolor{keywordflow}{return}\ str;}
\DoxyCodeLine{00694\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_af4c62a16c3bbb595d0ada4b00a8b4092}\label{logbank_8c_af4c62a16c3bbb595d0ada4b00a8b4092} 
\index{logbank.c@{logbank.c}!log\_this@{log\_this}}
\index{log\_this@{log\_this}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_this()}{log\_this()}}
{\footnotesize\ttfamily int log\+\_\+this (\begin{DoxyParamCaption}\item[{int}]{level,  }\item[{\mbox{\hyperlink{structlog__locate__t}{log\+\_\+locate\+\_\+t}}}]{locate,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{fmt,  }\item[{}]{... }\end{DoxyParamCaption})}



This is the main logging function of this library. 

This function parses arguments similar to that of printf So, format argument of this function can be replaced by only argument used for log-\/message


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em level} & priority of this log-\/request \\
\hline
\mbox{\texttt{ in}}  & {\em locate} & location parameters for this log-\/request \\
\hline
\mbox{\texttt{ in}}  & {\em fmt} & format for arguments for log-\/message \\
\hline
\mbox{\texttt{ in}}  & {\em ...} & optional arguments for log-\/message\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\texorpdfstring{$>$}{>}0 Success\+: Message logged and Positive returned value is the length of logged message 

=0 Failure\+: Message ignored because of lower-\/priority 

\texorpdfstring{$<$}{<}0 Failure\+: Overflow occurred. Negative returned value is the required length to log input log-\/request 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01111}{1111}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01112\ \ \ \ \ \textcolor{keywordtype}{int}\ len\ =\ 0;}
\DoxyCodeLine{01113\ }
\DoxyCodeLine{01114\ \ \ \ \ \textcolor{comment}{/*\ Filtering\ logic\ for\ lower\ priority\ log-\/requests\ and\ invalid\ priority\ requests\ */}}
\DoxyCodeLine{01115\ \ \ \ \ \textcolor{keywordflow}{if}\ (level\ <\ log\_level\ ||\ level\ >\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc}{LOG\_FATAL}})\ \{}
\DoxyCodeLine{01116\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ len;}
\DoxyCodeLine{01117\ \ \ \ \ \}}
\DoxyCodeLine{01118\ }
\DoxyCodeLine{01119\ \ \ \ \ \textcolor{comment}{/*\ prepare\ log-\/message\ */}}
\DoxyCodeLine{01120\ \ \ \ \ \textcolor{keywordtype}{char}\ message[\mbox{\hyperlink{logbank_8h_a729d70bad9089a4fa7af7191b278d434}{LOG\_MAX\_DATA\_LEN}}];}
\DoxyCodeLine{01121\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ \textcolor{keyword}{sizeof}(message);}
\DoxyCodeLine{01122\ }
\DoxyCodeLine{01123\ \ \ \ \ \textcolor{comment}{/*\ Add\ header\ to\ log-\/message\ */}}
\DoxyCodeLine{01124\ \ \ \ \ len\ +=\ \mbox{\hyperlink{logbank_8c_a61610956cd7b586c8745be62d0b04bb4}{update\_header}}(message,\ size\ -\/\ len,\ level,\ locate);}
\DoxyCodeLine{01125\ }
\DoxyCodeLine{01126\ \ \ \ \ \textcolor{comment}{/*\ Add\ optional\ arguments\ to\ log-\/message\ */}}
\DoxyCodeLine{01127\ \ \ \ \ va\_list\ args;}
\DoxyCodeLine{01128\ \ \ \ \ va\_start(args,\ fmt);}
\DoxyCodeLine{01129\ \ \ \ \ len\ +=\ vsnprintf(message\ +\ len,\ size\ -\/\ len,\ fmt,\ args);}
\DoxyCodeLine{01130\ \ \ \ \ va\_end(args);}
\DoxyCodeLine{01131\ }
\DoxyCodeLine{01132\ \ \ \ \ \textcolor{comment}{/*\ Handle\ string\ termination\ properly\ */}}
\DoxyCodeLine{01133\ \ \ \ \ len\ +=\ snprintf(message\ +\ len,\ size\ -\/\ len,\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}});}
\DoxyCodeLine{01134\ \ \ \ \ message[size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01135\ }
\DoxyCodeLine{01136\ \ \ \ \ \textcolor{keywordflow}{if}\ (len\ >\ \mbox{\hyperlink{logbank_8h_a729d70bad9089a4fa7af7191b278d434}{LOG\_MAX\_DATA\_LEN}})\ \{}
\DoxyCodeLine{01137\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Data\ Overflow\ */}}
\DoxyCodeLine{01138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (0\ -\/\ len);}
\DoxyCodeLine{01139\ \ \ \ \ \}}
\DoxyCodeLine{01140\ }
\DoxyCodeLine{01141\ \ \ \ \ \textcolor{comment}{/*\ write\ operation\ */}}
\DoxyCodeLine{01142\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a940b19d7c5b87e1e9f5c74376a04831e}{log\_stream\_write}}(message);}
\DoxyCodeLine{01143\ \ \ \ \ \mbox{\hyperlink{logbank_8c_ad315a1e2645c212deedef5aa5ccbb472}{log\_en\_queue}}(message);}
\DoxyCodeLine{01144\ \ \ \ \ \textcolor{keywordflow}{return}\ len;}
\DoxyCodeLine{01145\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a87097c0104243be5ea4a28ade9abc579}\label{logbank_8c_a87097c0104243be5ea4a28ade9abc579} 
\index{logbank.c@{logbank.c}!log\_use\_color@{log\_use\_color}}
\index{log\_use\_color@{log\_use\_color}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_use\_color()}{log\_use\_color()}}
{\footnotesize\ttfamily int log\+\_\+use\+\_\+color (\begin{DoxyParamCaption}\item[{int}]{enable }\end{DoxyParamCaption})}



This function is used to enable colors for log-\/requests being logged on stderr. 

\begin{DoxyNote}{Note}
Other log-\/requests (say, logs which are being stored in a file) are not logged with colors Use of colors is further controlled by \doxylink{logbank_8c_a454f3ad6bafae1ecc3ff96410f7f1ea3}{LOG\+\_\+\+USE\+\_\+\+COLOR} macro
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em enable} & set enable to 1 or 0 in order to enable or disable colors respectively \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 colors were previously enabled 

0 colors were previously disabled 

-\/1 invalid value received for enable parameter 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01100}{1100}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01100\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01101\ \ \ \ \ \textcolor{keywordflow}{if}\ (enable\ <\ 0\ ||\ enable\ >\ 1)\ \{}
\DoxyCodeLine{01102\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01103\ \ \ \ \ \}}
\DoxyCodeLine{01104\ }
\DoxyCodeLine{01105\ \ \ \ \ \textcolor{keywordtype}{int}\ old\ =\ \mbox{\hyperlink{logbank_8c_a189d4d789654e3342bdde4f60875aa1e}{log\_color}};}
\DoxyCodeLine{01106\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a189d4d789654e3342bdde4f60875aa1e}{log\_color}}\ =\ enable;}
\DoxyCodeLine{01107\ \ \ \ \ \textcolor{keywordflow}{return}\ old;}
\DoxyCodeLine{01108\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_abfe2b67a3b61f6ca5ac29458f1a6fa20}\label{logbank_8c_abfe2b67a3b61f6ca5ac29458f1a6fa20} 
\index{logbank.c@{logbank.c}!log\_use\_datestamp@{log\_use\_datestamp}}
\index{log\_use\_datestamp@{log\_use\_datestamp}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_use\_datestamp()}{log\_use\_datestamp()}}
{\footnotesize\ttfamily int log\+\_\+use\+\_\+datestamp (\begin{DoxyParamCaption}\item[{int}]{enable }\end{DoxyParamCaption})}



This function is used to enable date stamps for every log-\/request at run-\/time. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em enable} & set enable to 1 or 0 in order to enable or disable date stamps respectively \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 date stamps were previously enabled 

0 date stamps were previously disabled 

-\/1 invalid value received for enable parameter 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01078}{1078}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01079\ \ \ \ \ \textcolor{keywordflow}{if}\ (enable\ <\ 0\ ||\ enable\ >\ 1)\ \{}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01081\ \ \ \ \ \}}
\DoxyCodeLine{01082\ }
\DoxyCodeLine{01083\ \ \ \ \ \textcolor{keywordtype}{int}\ old\ =\ \mbox{\hyperlink{logbank_8c_a6e1cbcfba04606a1ea81d837e75cf182}{log\_datestamp}};}
\DoxyCodeLine{01084\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a6e1cbcfba04606a1ea81d837e75cf182}{log\_datestamp}}\ =\ enable;}
\DoxyCodeLine{01085\ \ \ \ \ \textcolor{keywordflow}{return}\ old;}
\DoxyCodeLine{01086\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a1c3d0c234139eef0ecdd76c379bd2622}\label{logbank_8c_a1c3d0c234139eef0ecdd76c379bd2622} 
\index{logbank.c@{logbank.c}!log\_use\_timestamp@{log\_use\_timestamp}}
\index{log\_use\_timestamp@{log\_use\_timestamp}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_use\_timestamp()}{log\_use\_timestamp()}}
{\footnotesize\ttfamily int log\+\_\+use\+\_\+timestamp (\begin{DoxyParamCaption}\item[{int}]{enable }\end{DoxyParamCaption})}



This function is used to enable time stamps for every log-\/request at run-\/time. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em enable} & set enable to 1 or 0 in order to enable or disable time stamps respectively \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
1 time stamps were previously enabled 

0 time stamps were previously disabled 

-\/1 invalid value received for enable parameter 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l01089}{1089}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{01089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{01090\ \ \ \ \ \textcolor{keywordflow}{if}\ (enable\ <\ 0\ ||\ enable\ >\ 1)\ \{}
\DoxyCodeLine{01091\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ -\/1;}
\DoxyCodeLine{01092\ \ \ \ \ \}}
\DoxyCodeLine{01093\ }
\DoxyCodeLine{01094\ \ \ \ \ \textcolor{keywordtype}{int}\ old\ =\ \mbox{\hyperlink{logbank_8c_a78f29241d03102718e247b5869f41e58}{log\_timestamp}};}
\DoxyCodeLine{01095\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a78f29241d03102718e247b5869f41e58}{log\_timestamp}}\ =\ enable;}
\DoxyCodeLine{01096\ \ \ \ \ \textcolor{keywordflow}{return}\ old;}
\DoxyCodeLine{01097\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_ad93e16f63aa5d848b4ee0eda72f092ac}\label{logbank_8c_ad93e16f63aa5d848b4ee0eda72f092ac} 
\index{logbank.c@{logbank.c}!parse\_data\_string@{parse\_data\_string}}
\index{parse\_data\_string@{parse\_data\_string}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_data\_string()}{parse\_data\_string()}}
{\footnotesize\ttfamily parse\+\_\+data\+\_\+string (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{message,  }\item[{size\+\_\+t}]{size,  }\item[{const char \texorpdfstring{$\ast$}{*}}]{copy }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to separate data string from message. 

This function reads copy buffer and checks \textquotesingle{}\+:\textquotesingle{} as delimiter to remove header. 3rd occurrence of \textquotesingle{}\+:\textquotesingle{} starts the data string in a valid copy of log-\/message

\begin{DoxyNote}{Note}
1. Copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\begin{DoxyEnumerate}
\item This function could generate it\textquotesingle{}s own copy using message.
\item But as a copy of log-\/message already exist in log\+\_\+parser, same is used.
\end{DoxyEnumerate}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em message} & Pointer to output buffer which would be updated with parsed message \\
\hline
\mbox{\texttt{ in}}  & {\em size} & size of message buffer \\
\hline
\mbox{\texttt{ in}}  & {\em copy} & Pointer to input buffer for parsing (parsing is performed on copy parameter) \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00994}{994}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00994\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00995\ \ \ \ \ \textcolor{keywordflow}{if}\ (copy\ ==\ NULL)\ \{}
\DoxyCodeLine{00996\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00997\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694}{LOG\_PARSER\_FAILED}};}
\DoxyCodeLine{00998\ \ \ \ \ \}}
\DoxyCodeLine{00999\ }
\DoxyCodeLine{01000\ \ \ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{01001\ \textcolor{comment}{\ \ \ \ \ *\ Calculating\ Data\ Index}}
\DoxyCodeLine{01002\ \textcolor{comment}{\ \ \ \ \ *\ HH:MM:SS\ [level]\ @\ location\ :\ data}}
\DoxyCodeLine{01003\ \textcolor{comment}{\ \ \ \ \ *\ \ \ 0\ \ 1\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 2}}
\DoxyCodeLine{01004\ \textcolor{comment}{\ \ \ \ \ *\ */}}
\DoxyCodeLine{01005\ \ \ \ \ \textcolor{keywordtype}{int}\ data\_index\ =\ 2;}
\DoxyCodeLine{01006\ }
\DoxyCodeLine{01007\ \ \ \ \ \textcolor{comment}{/*\ Separating\ header\ from\ copied\ data\ */}}
\DoxyCodeLine{01008\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dptr\ =\ strchr(copy,\ \textcolor{charliteral}{':'});}
\DoxyCodeLine{01009\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ count\ =\ 0;\ count\ <\ data\_index\ \&\&\ dptr\ !=\ NULL;\ count++)\ \{}
\DoxyCodeLine{01010\ \ \ \ \ \ \ \ \ dptr\ =\ strchr(dptr\ +\ 1,\ \textcolor{charliteral}{':'});}
\DoxyCodeLine{01011\ \ \ \ \ \}}
\DoxyCodeLine{01012\ }
\DoxyCodeLine{01013\ \ \ \ \ \textcolor{keywordflow}{if}\ (dptr\ ==\ NULL)\ \{}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Time\ stamp\ is\ absent;\ Set\ data\ pointer\ to\ first\ ':'\ */}}
\DoxyCodeLine{01015\ \ \ \ \ \ \ \ \ dptr\ =\ strchr(copy,\ \textcolor{charliteral}{':'});}
\DoxyCodeLine{01016\ \ \ \ \ \}}
\DoxyCodeLine{01017\ }
\DoxyCodeLine{01018\ \ \ \ \ strncpy(message,\ dptr\ +\ 2,\ size);}
\DoxyCodeLine{01019\ \ \ \ \ message[size\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{01020\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cababc0829ac0779efa482e0670ba736a3e8}{LOG\_PARSER\_DONE}};}
\DoxyCodeLine{01021\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_aa15850fe2e5f2dbcad19c95e9a92591c}\label{logbank_8c_aa15850fe2e5f2dbcad19c95e9a92591c} 
\index{logbank.c@{logbank.c}!parse\_date@{parse\_date}}
\index{parse\_date@{parse\_date}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_date()}{parse\_date()}}
{\footnotesize\ttfamily parse\+\_\+date (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{copy,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to parse date parameter from copy of log-\/message. 

Each date parameter is parsed and converted to integer using \doxylink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\+\_\+atoi()}. Each date parameter is then copied to info buffer \begin{DoxyNote}{Note}
copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em copy} & Pointer to buffer containing message \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & Pointer to buffer which would be updated with date info \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00707}{707}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00708\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_af4f3e70feabbadc91bff87d53ca052f8}{day}}\ =\ 0;}
\DoxyCodeLine{00709\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_ac3d2a0ec1d776ffb5941ce3e5c839ef7}{month}}\ =\ 0;}
\DoxyCodeLine{00710\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_adb934ab7d65f387e97d91329073cf509}{year}}\ =\ 0;}
\DoxyCodeLine{00711\ }
\DoxyCodeLine{00712\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ 0;}
\DoxyCodeLine{00713\ \ \ \ \ \textcolor{keywordtype}{char}\ date[]\ =\ \textcolor{stringliteral}{"{}01/01/2001"{}};}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ date\_del[]\ =\ \textcolor{stringliteral}{"{}/"{}};}
\DoxyCodeLine{00715\ }
\DoxyCodeLine{00716\ \ \ \ \ \textcolor{keywordflow}{if}\ (sscanf(copy\ +\ index,\ \textcolor{stringliteral}{"{}\%10[0-\/9/]"{}},\ date)\ ==\ 1)\ \{}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}*\ saveptr\ =\ NULL;}
\DoxyCodeLine{00718\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ dptr\ =\ \mbox{\hyperlink{logbank_8c_ad078e8b28af95662960b20b873f2c616}{log\_strtok\_r}}(date,\ date\_del,\ \&saveptr);}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_af4f3e70feabbadc91bff87d53ca052f8}{day}}\ =\ dptr\ ?\ \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\_atoi}}(dptr)\ :\ 0;}
\DoxyCodeLine{00720\ }
\DoxyCodeLine{00721\ \ \ \ \ \ \ \ \ dptr\ =\ \mbox{\hyperlink{logbank_8c_ad078e8b28af95662960b20b873f2c616}{log\_strtok\_r}}(NULL,\ date\_del,\ \&saveptr);}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_ac3d2a0ec1d776ffb5941ce3e5c839ef7}{month}}\ =\ dptr\ ?\ \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\_atoi}}(dptr)\ :\ 0;}
\DoxyCodeLine{00723\ }
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ dptr\ =\ \mbox{\hyperlink{logbank_8c_ad078e8b28af95662960b20b873f2c616}{log\_strtok\_r}}(NULL,\ date\_del,\ \&saveptr);}
\DoxyCodeLine{00725\ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_adb934ab7d65f387e97d91329073cf509}{year}}\ =\ dptr\ ?\ \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\_atoi}}(dptr)\ :\ 0;}
\DoxyCodeLine{00726\ \ \ \ \ \}}
\DoxyCodeLine{00727\ }
\DoxyCodeLine{00728\ \ \ \ \ \textcolor{keywordflow}{if}\ (info-\/>\mbox{\hyperlink{structlog__parser__info__t_adb934ab7d65f387e97d91329073cf509}{year}}\ ==\ 0)\ \{}
\DoxyCodeLine{00729\ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_af4f3e70feabbadc91bff87d53ca052f8}{day}}\ =\ 0;}
\DoxyCodeLine{00730\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00731\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ 1\ extra\ for\ space\ between\ date\ stamp\ and\ time\ stamp\ */}}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \ \ index\ +=\ \mbox{\hyperlink{logbank_8c_a9c3be125d60c2afbb469cfe890546132}{LOG\_DATE\_LEN}};}
\DoxyCodeLine{00733\ \ \ \ \ \}}
\DoxyCodeLine{00734\ }
\DoxyCodeLine{00735\ \ \ \ \ \textcolor{keywordflow}{return}\ index;}
\DoxyCodeLine{00736\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a71249e077c2ba82ba172b73263a446c9}\label{logbank_8c_a71249e077c2ba82ba172b73263a446c9} 
\index{logbank.c@{logbank.c}!parse\_datetime@{parse\_datetime}}
\index{parse\_datetime@{parse\_datetime}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_datetime()}{parse\_datetime()}}
{\footnotesize\ttfamily parse\+\_\+datetime (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{copy,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to parse date \& time parameter from copy of log-\/message. 

This function internally use following functions to parse date and time
\begin{DoxyItemize}
\item \doxylink{logbank_8c_aa15850fe2e5f2dbcad19c95e9a92591c}{parse\+\_\+date()}
\item \doxylink{logbank_8c_a6822fbc1932f14536d8492add244655c}{parse\+\_\+time()} \begin{DoxyNote}{Note}
copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em copy} & Pointer to buffer containing message \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & Pointer to buffer which would be updated with date info \\
\hline
\end{DoxyParams}

\end{DoxyItemize}

Definition at line \mbox{\hyperlink{logbank_8c_source_l00797}{797}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00797\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00798\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ 0;}
\DoxyCodeLine{00799\ \ \ \ \ index\ =\ \mbox{\hyperlink{logbank_8c_aa15850fe2e5f2dbcad19c95e9a92591c}{parse\_date}}(copy\ +\ index,\ info);}
\DoxyCodeLine{00800\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a6822fbc1932f14536d8492add244655c}{parse\_time}}(copy\ +\ index,\ info);}
\DoxyCodeLine{00801\ }
\DoxyCodeLine{00802\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba9337e5931966d192819cf9df3b2b8e73}{LOG\_PARSER\_LEVEL}};}
\DoxyCodeLine{00803\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a88ac1ee07ea17f2847abf5981d388331}\label{logbank_8c_a88ac1ee07ea17f2847abf5981d388331} 
\index{logbank.c@{logbank.c}!parse\_file\_and\_line@{parse\_file\_and\_line}}
\index{parse\_file\_and\_line@{parse\_file\_and\_line}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_file\_and\_line()}{parse\_file\_and\_line()}}
{\footnotesize\ttfamily parse\+\_\+file\+\_\+and\+\_\+line (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{copy,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to parse file name and line number from copy of log-\/message. 

file name is parsed using that it always have \textquotesingle{}"{}\textquotesingle{} before and \textquotesingle{} +\textquotesingle{} after it. line number is parsed using that it always have \textquotesingle{}+ \textquotesingle{} before and \textquotesingle{}"{}\textquotesingle{} after it. \begin{DoxyNote}{Note}
copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em copy} & Pointer to buffer containing message \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & Pointer to buffer which would be updated with date info \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00902}{902}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00903\ \ \ \ \ \textcolor{keywordflow}{if}\ (copy\ ==\ NULL)\ \{}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00906\ \ \ \ \ \}}
\DoxyCodeLine{00907\ }
\DoxyCodeLine{00908\ \ \ \ \ \textcolor{keywordtype}{char}*\ lineptr\ =\ strchr(copy,\ \textcolor{charliteral}{'+'});}
\DoxyCodeLine{00909\ \ \ \ \ \textcolor{keywordflow}{if}\ (lineptr\ ==\ NULL)\ \{}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00912\ \ \ \ \ \}}
\DoxyCodeLine{00913\ }
\DoxyCodeLine{00914\ \ \ \ \ lineptr\ =\ lineptr\ -\/\ 1;}
\DoxyCodeLine{00915\ \ \ \ \ lineptr[0]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};\ \textcolor{comment}{/*\ Remove\ extra\ bytes\ other\ than\ file\ name\ */}}
\DoxyCodeLine{00916\ }
\DoxyCodeLine{00917\ \ \ \ \ \textcolor{keywordtype}{char}*\ fileptr\ =\ strchr(copy,\ \textcolor{charliteral}{'"{}'});}
\DoxyCodeLine{00918\ \ \ \ \ \textcolor{keywordflow}{if}\ (fileptr\ ==\ NULL)\ \{}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00921\ \ \ \ \ \}}
\DoxyCodeLine{00922\ }
\DoxyCodeLine{00923\ \ \ \ \ fileptr\ =\ fileptr\ +\ 1;\ \textcolor{comment}{/*\ Remove\ '"{}'\ and\ space\ */}}
\DoxyCodeLine{00924\ }
\DoxyCodeLine{00925\ \ \ \ \ strncpy(info-\/>\mbox{\hyperlink{structlog__parser__info__t_af46721256ea852e17335c4253e0d5159}{file}},\ fileptr,\ \mbox{\hyperlink{logbank_8h_a162ad26846763cc6c79503e9fdbfec45}{LOG\_MAX\_FILE\_NAME\_LEN}});}
\DoxyCodeLine{00926\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_af46721256ea852e17335c4253e0d5159}{file}}[\mbox{\hyperlink{logbank_8h_a162ad26846763cc6c79503e9fdbfec45}{LOG\_MAX\_FILE\_NAME\_LEN}}\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00927\ }
\DoxyCodeLine{00928\ \ \ \ \ \textcolor{comment}{/*\ Revert\ previous\ changes\ to\ copy\ */}}
\DoxyCodeLine{00929\ \ \ \ \ lineptr[0]\ =\ \textcolor{charliteral}{'\ '};}
\DoxyCodeLine{00930\ \ \ \ \ lineptr\ =\ lineptr\ +\ 2;\ \textcolor{comment}{/*\ Also,\ Removed\ '+'\ and\ space\ for\ parsing\ line\ number\ */}}
\DoxyCodeLine{00931\ }
\DoxyCodeLine{00932\ \ \ \ \ \textcolor{keywordtype}{char}*\ end\ =\ strchr(fileptr,\ \textcolor{charliteral}{'"{}'});\ \textcolor{comment}{/*\ end\ points\ to\ end\ of\ location\ parameters\ */}}
\DoxyCodeLine{00933\ \ \ \ \ \textcolor{keywordflow}{if}\ (end\ ==\ NULL)\ \{}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ Unexpected\ format\ can\ not\ find\ how\ many\ digits\ are\ available\ in\ line\ num\ */}}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00936\ \ \ \ \ \}}
\DoxyCodeLine{00937\ }
\DoxyCodeLine{00938\ \ \ \ \ end[0]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};\ \textcolor{comment}{/*\ removed\ everything\ after\ end\ of\ location\ parameters\ */}}
\DoxyCodeLine{00939\ }
\DoxyCodeLine{00940\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_acaedf39ac455489c4d02586063e9a49d}{line}}\ =\ \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\_atoi}}(lineptr);}
\DoxyCodeLine{00941\ \ \ \ \ end[0]\ =\ \textcolor{charliteral}{'"{}'};\ \textcolor{comment}{/*\ Revert\ previous\ changes\ to\ copy\ */}}
\DoxyCodeLine{00942\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a79a0d62638455a3117532390c888f419}\label{logbank_8c_a79a0d62638455a3117532390c888f419} 
\index{logbank.c@{logbank.c}!parse\_function@{parse\_function}}
\index{parse\_function@{parse\_function}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_function()}{parse\_function()}}
{\footnotesize\ttfamily parse\+\_\+function (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{copy,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to parse function name from copy of log-\/message. 

function name is parsed using that it always have \textquotesingle{}@\textquotesingle{} before and \textquotesingle{}(\textquotesingle{} after it. \begin{DoxyNote}{Note}
copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em copy} & Pointer to buffer containing message \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & Pointer to buffer which would be updated with date info \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00863}{863}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00863\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00864\ \ \ \ \ \textcolor{keywordflow}{if}\ (copy\ ==\ NULL)\ \{}
\DoxyCodeLine{00865\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00866\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00867\ \ \ \ \ \}}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \ \ \ \ \textcolor{keywordtype}{char}*\ sep\ =\ strchr(copy,\ \textcolor{charliteral}{'('});}
\DoxyCodeLine{00870\ \ \ \ \ \textcolor{keywordflow}{if}\ (sep\ ==\ NULL)\ \{}
\DoxyCodeLine{00871\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00873\ \ \ \ \ \}}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \ \ \ \ sep[0]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};\ \textcolor{comment}{/*\ Remove\ extra\ bytes\ other\ than\ function\ name\ */}}
\DoxyCodeLine{00876\ }
\DoxyCodeLine{00877\ \ \ \ \ \textcolor{keywordtype}{char}*\ fnptr\ =\ strchr(copy,\ \textcolor{charliteral}{'@'});}
\DoxyCodeLine{00878\ \ \ \ \ \textcolor{keywordflow}{if}\ (fnptr\ ==\ NULL)\ \{}
\DoxyCodeLine{00879\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00880\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00881\ \ \ \ \ \}}
\DoxyCodeLine{00882\ }
\DoxyCodeLine{00883\ \ \ \ \ fnptr\ =\ fnptr\ +\ 2;\ \textcolor{comment}{/*\ Remove\ '@'\ and\ space\ */}}
\DoxyCodeLine{00884\ }
\DoxyCodeLine{00885\ \ \ \ \ strncpy(info-\/>\mbox{\hyperlink{structlog__parser__info__t_a8bd9cea25f6075b9174f60ecf0c7c699}{func}},\ fnptr,\ \mbox{\hyperlink{logbank_8h_ad715d58d98d00d3cbe456e00c07ebcfa}{LOG\_MAX\_FUNC\_NAME\_LEN}});}
\DoxyCodeLine{00886\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_a8bd9cea25f6075b9174f60ecf0c7c699}{func}}[\mbox{\hyperlink{logbank_8h_ad715d58d98d00d3cbe456e00c07ebcfa}{LOG\_MAX\_FUNC\_NAME\_LEN}}\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00887\ }
\DoxyCodeLine{00888\ \ \ \ \ sep[0]\ =\ \textcolor{charliteral}{'('};\ \textcolor{comment}{/*\ Revert\ previous\ changes\ to\ copy\ */}}
\DoxyCodeLine{00889\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a66b27f4f9997b08f6b1babdee8406102}\label{logbank_8c_a66b27f4f9997b08f6b1babdee8406102} 
\index{logbank.c@{logbank.c}!parse\_level@{parse\_level}}
\index{parse\_level@{parse\_level}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_level()}{parse\_level()}}
{\footnotesize\ttfamily parse\+\_\+level (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{copy,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to parse level parameter from copy of log-\/message. 

level name is parsed using that it always has \textquotesingle{}\mbox{[}\textquotesingle{} before and \textquotesingle{}\mbox{]}\textquotesingle{} after it. Further level index is calculated by matching level name against available level names \begin{DoxyNote}{Note}
copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em copy} & Pointer to buffer containing message \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & Pointer to buffer which would be updated with date info \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00816}{816}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00816\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00817\ \ \ \ \ \textcolor{keywordtype}{int}\ invalid\ =\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc}{LOG\_FATAL}}\ +\ 1;}
\DoxyCodeLine{00818\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_aaab4fa2f1263150155d77ae6f0340ff2}{level}}\ =\ invalid;}
\DoxyCodeLine{00819\ }
\DoxyCodeLine{00820\ \ \ \ \ \textcolor{keywordtype}{char}\ name[]\ =\ \textcolor{stringliteral}{"{}DEBUG"{}};}
\DoxyCodeLine{00821\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ size\ =\ \textcolor{keyword}{sizeof}(name);}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ \ \ \textcolor{keywordtype}{char}*\ level\_end\ =\ strchr(copy,\ \textcolor{charliteral}{']'});}
\DoxyCodeLine{00824\ \ \ \ \ \textcolor{keywordflow}{if}\ (level\_end\ ==\ NULL)\ \{}
\DoxyCodeLine{00825\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694}{LOG\_PARSER\_FAILED}};}
\DoxyCodeLine{00826\ \ \ \ \ \}}
\DoxyCodeLine{00827\ }
\DoxyCodeLine{00828\ \ \ \ \ level\_end\ =\ level\_end\ -\/\ 1;}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ max\_name\_len\ =\ 5;}
\DoxyCodeLine{00831\ \ \ \ \ \textcolor{keywordtype}{char}*\ level\_start\ =\ level\_end\ -\/\ max\_name\_len;}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00833\ \ \ \ \ \textcolor{keywordflow}{if}\ (level\_start[1]\ ==\ \textcolor{charliteral}{'['})\ \{}
\DoxyCodeLine{00834\ \ \ \ \ \ \ \ \ level\_start\ =\ level\_start\ +\ 1;}
\DoxyCodeLine{00835\ \ \ \ \ \ \ \ \ size\ =\ size\ -\/\ 1;}
\DoxyCodeLine{00836\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (level\_start[0]\ !=\ \textcolor{charliteral}{'['})\ \{}
\DoxyCodeLine{00837\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694}{LOG\_PARSER\_FAILED}};}
\DoxyCodeLine{00838\ \ \ \ \ \}}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \ \ \ \ level\_start\ =\ level\_start\ +\ 1;}
\DoxyCodeLine{00841\ \ \ \ \ (void)snprintf(name,\ size,\ \textcolor{stringliteral}{"{}\%s"{}},\ level\_start);}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ level\ =\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99a5b7d4f0d91e50288752648b12035fb35}{LOG\_DEBUG}};\ level\ <=\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99a586842e9a80356d3447729860d4417bc}{LOG\_FATAL}};\ level++)\ \{}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (strstr(name,\ \mbox{\hyperlink{logbank_8c_a2f37fc38d4885ae4fd5f499787e5f550}{log\_get\_levelname}}(level)))\ \{}
\DoxyCodeLine{00845\ \ \ \ \ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_aaab4fa2f1263150155d77ae6f0340ff2}{level}}\ =\ level;}
\DoxyCodeLine{00846\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00848\ \ \ \ \ \}}
\DoxyCodeLine{00849\ }
\DoxyCodeLine{00850\ \ \ \ \ \textcolor{keywordflow}{return}\ info-\/>\mbox{\hyperlink{structlog__parser__info__t_aaab4fa2f1263150155d77ae6f0340ff2}{level}}\ ==\ invalid\ ?\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba32563607eebb7c0e43c32d542eefb694}{LOG\_PARSER\_FAILED}}\ :\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1cabab436510ee9d52bbaa9d566c2015c01dc}{LOG\_PARSER\_LOCATION}};}
\DoxyCodeLine{00851\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_aaf13a0db1967c342e204aa844df01fda}\label{logbank_8c_aaf13a0db1967c342e204aa844df01fda} 
\index{logbank.c@{logbank.c}!parse\_location@{parse\_location}}
\index{parse\_location@{parse\_location}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_location()}{parse\_location()}}
{\footnotesize\ttfamily parse\+\_\+location (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{copy,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to parse function name, file name \& line number parameter from copy of log-\/message. 

This function internally use following functions to parse these location parameters
\begin{DoxyItemize}
\item \doxylink{logbank_8c_a79a0d62638455a3117532390c888f419}{parse\+\_\+function()}
\item \doxylink{logbank_8c_a88ac1ee07ea17f2847abf5981d388331}{parse\+\_\+file\+\_\+and\+\_\+line()} \begin{DoxyNote}{Note}
copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em copy} & Pointer to buffer containing message \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & Pointer to buffer which would be updated with date info \\
\hline
\end{DoxyParams}

\end{DoxyItemize}

Definition at line \mbox{\hyperlink{logbank_8c_source_l00956}{956}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00956\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00957\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ not\_found[]\ =\ \textcolor{stringliteral}{"{}NA"{}};}
\DoxyCodeLine{00958\ }
\DoxyCodeLine{00959\ \ \ \ \ strncpy(info-\/>\mbox{\hyperlink{structlog__parser__info__t_a8bd9cea25f6075b9174f60ecf0c7c699}{func}},\ not\_found,\ \mbox{\hyperlink{logbank_8h_ad715d58d98d00d3cbe456e00c07ebcfa}{LOG\_MAX\_FUNC\_NAME\_LEN}});}
\DoxyCodeLine{00960\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_a8bd9cea25f6075b9174f60ecf0c7c699}{func}}[\mbox{\hyperlink{logbank_8h_ad715d58d98d00d3cbe456e00c07ebcfa}{LOG\_MAX\_FUNC\_NAME\_LEN}}\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00961\ }
\DoxyCodeLine{00962\ \ \ \ \ strncpy(info-\/>\mbox{\hyperlink{structlog__parser__info__t_af46721256ea852e17335c4253e0d5159}{file}},\ not\_found,\ \mbox{\hyperlink{logbank_8h_a162ad26846763cc6c79503e9fdbfec45}{LOG\_MAX\_FILE\_NAME\_LEN}});}
\DoxyCodeLine{00963\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_af46721256ea852e17335c4253e0d5159}{file}}[\mbox{\hyperlink{logbank_8h_a162ad26846763cc6c79503e9fdbfec45}{LOG\_MAX\_FILE\_NAME\_LEN}}\ -\/\ 1]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00964\ }
\DoxyCodeLine{00965\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_acaedf39ac455489c4d02586063e9a49d}{line}}\ =\ 0;}
\DoxyCodeLine{00966\ }
\DoxyCodeLine{00967\ \ \ \ \ \textcolor{keywordflow}{if}\ (strchr(copy,\ \textcolor{charliteral}{'@'})\ ==\ NULL)\ \{}
\DoxyCodeLine{00968\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ location\ parameters\ are\ not\ present\ */}}
\DoxyCodeLine{00969\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9}{LOG\_PARSER\_DATA}};}
\DoxyCodeLine{00970\ \ \ \ \ \}}
\DoxyCodeLine{00971\ }
\DoxyCodeLine{00972\ \ \ \ \ \textcolor{comment}{/*\ location\ parameters\ are\ present\ */}}
\DoxyCodeLine{00973\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a79a0d62638455a3117532390c888f419}{parse\_function}}(copy,\ info);}
\DoxyCodeLine{00974\ \ \ \ \ \mbox{\hyperlink{logbank_8c_a88ac1ee07ea17f2847abf5981d388331}{parse\_file\_and\_line}}(copy,\ info);}
\DoxyCodeLine{00975\ }
\DoxyCodeLine{00976\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{logbank_8c_a4a827d7cac130ca62871cce5e71b1caba568ba28634c3d90cad3302bc1f8064d9}{LOG\_PARSER\_DATA}};}
\DoxyCodeLine{00977\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a6822fbc1932f14536d8492add244655c}\label{logbank_8c_a6822fbc1932f14536d8492add244655c} 
\index{logbank.c@{logbank.c}!parse\_time@{parse\_time}}
\index{parse\_time@{parse\_time}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{parse\_time()}{parse\_time()}}
{\footnotesize\ttfamily parse\+\_\+time (\begin{DoxyParamCaption}\item[{const char \texorpdfstring{$\ast$}{*}}]{copy,  }\item[{\mbox{\hyperlink{structlog__parser__info__t}{log\+\_\+parser\+\_\+info\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{info }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



Used to parse time parameter from copy of log-\/message. 

Each time parameter is parsed and converted to integer using \doxylink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\+\_\+atoi()}. Each time parameter is then copied to info buffer \begin{DoxyNote}{Note}
copy of log-\/message used doesn\textquotesingle{}t contain ANSI color-\/codes \doxylink{logbank_8h_a1cdcdd67bcc690aa83e15ed7de3f913a}{log\+\_\+parser()}
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em copy} & Pointer to buffer containing message \\
\hline
\mbox{\texttt{ in,out}}  & {\em info} & Pointer to buffer which would be updated with date info \\
\hline
\end{DoxyParams}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00749}{749}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00750\ \ \ \ \ \textcolor{keywordtype}{int}\ index\ =\ 0;}
\DoxyCodeLine{00751\ \ \ \ \ \textcolor{keywordtype}{char}\ time[]\ =\ \textcolor{stringliteral}{"{}01:01:01"{}};}
\DoxyCodeLine{00752\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ time\_del[]\ =\ \textcolor{stringliteral}{"{}:"{}};}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_ab609ac1d3a159056c1246f9d9c1b263f}{hour}}\ =\ 0;}
\DoxyCodeLine{00755\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_a82979f1e074ff9886bf9184b12d7343a}{min}}\ =\ 0;}
\DoxyCodeLine{00756\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_a01e088edbd16b0664a67a1d656104656}{sec}}\ =\ 0;}
\DoxyCodeLine{00757\ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_ab54cfbeb06c9873809bbd71da0d7ec5c}{am\_pm}}[0]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00758\ }
\DoxyCodeLine{00759\ \ \ \ \ \textcolor{keywordflow}{if}\ (copy\ ==\ NULL)\ \{}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ No\ data\ available\ to\ parse\ */}}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00762\ \ \ \ \ \}}
\DoxyCodeLine{00763\ }
\DoxyCodeLine{00764\ \ \ \ \ \textcolor{keywordflow}{if}\ (sscanf(copy\ +\ index,\ \textcolor{stringliteral}{"{}\%8[0-\/9:]"{}},\ time)\ ==\ 1)\ \{}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}*\ saveptr\ =\ NULL;}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}*\ timeptr\ =\ \mbox{\hyperlink{logbank_8c_ad078e8b28af95662960b20b873f2c616}{log\_strtok\_r}}(time,\ time\_del,\ \&saveptr);}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_ab609ac1d3a159056c1246f9d9c1b263f}{hour}}\ =\ timeptr\ ?\ \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\_atoi}}(timeptr)\ :\ 0;}
\DoxyCodeLine{00768\ }
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ timeptr\ =\ \mbox{\hyperlink{logbank_8c_ad078e8b28af95662960b20b873f2c616}{log\_strtok\_r}}(NULL,\ time\_del,\ \&saveptr);}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_a82979f1e074ff9886bf9184b12d7343a}{min}}\ =\ timeptr\ ?\ \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\_atoi}}(timeptr)\ :\ 0;}
\DoxyCodeLine{00771\ }
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ timeptr\ =\ \mbox{\hyperlink{logbank_8c_ad078e8b28af95662960b20b873f2c616}{log\_strtok\_r}}(NULL,\ time\_del,\ \&saveptr);}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (timeptr\ !=\ NULL)\ \{}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \ \ \ \ timeptr[2]\ =\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ info-\/>\mbox{\hyperlink{structlog__parser__info__t_a01e088edbd16b0664a67a1d656104656}{sec}}\ =\ \mbox{\hyperlink{logbank_8c_a78fd5f1ba0381c34903f66bc6eff0a61}{log\_atoi}}(timeptr);}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ index\ =\ index\ +\ \mbox{\hyperlink{logbank_8c_af908196e407bb67394664c7b0d5999b8}{LOG\_TIME\_LEN}}\ -\/\ \mbox{\hyperlink{logbank_8h_aa2f082f11e5a666340433272b7b10176}{LOG\_MAX\_AM\_PM\_LEN}};}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (copy[index]\ !=\ \textcolor{charliteral}{'\ '})\ \{}
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \ \ \ \ (void)sprintf(info-\/>\mbox{\hyperlink{structlog__parser__info__t_ab54cfbeb06c9873809bbd71da0d7ec5c}{am\_pm}},\ \textcolor{stringliteral}{"{}\%cM"{}},\ copy[index]);}
\DoxyCodeLine{00781\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00782\ \ \ \ \ \}}
\DoxyCodeLine{00783\ \}}

\end{DoxyCode}
\Hypertarget{logbank_8c_a61610956cd7b586c8745be62d0b04bb4}\label{logbank_8c_a61610956cd7b586c8745be62d0b04bb4} 
\index{logbank.c@{logbank.c}!update\_header@{update\_header}}
\index{update\_header@{update\_header}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{update\_header()}{update\_header()}}
{\footnotesize\ttfamily update\+\_\+header (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{header,  }\item[{size\+\_\+t}]{size,  }\item[{int}]{level,  }\item[{\mbox{\hyperlink{structlog__locate__t}{log\+\_\+locate\+\_\+t}}}]{locate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}



This function populate the header i.\+e., prefix of log-\/message. 

This function adds following to an empty header buffer of sufficient size\+:
\begin{DoxyItemize}
\item stamps
\item colors
\item level name
\item location parameters
\end{DoxyItemize}

\begin{DoxyNote}{Note}
It uses thread-\/unsafe function log\+\_\+stamp\+\_\+collector
\end{DoxyNote}

\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in,out}}  & {\em header} & pointer to header buffer \\
\hline
\mbox{\texttt{ in}}  & {\em size} & size of header buffer \\
\hline
\mbox{\texttt{ in}}  & {\em level} & priority-\/level of this log-\/request \\
\hline
\mbox{\texttt{ in}}  & {\em locate} & location parameters for this log-\/request\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
int number of bytes attempted to be written in header buffer 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00360}{360}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{keywordflow}{if}\ (header\ ==\ NULL)\ \{}
\DoxyCodeLine{00362\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ header\ doesn't\ have\ a\ dedicated\ memory\ */}}
\DoxyCodeLine{00363\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00364\ \ \ \ \ \}}
\DoxyCodeLine{00365\ }
\DoxyCodeLine{00366\ \ \ \ \ \textcolor{keywordtype}{int}\ len\ =\ 0;}
\DoxyCodeLine{00367\ }
\DoxyCodeLine{00368\ \ \ \ \ \textcolor{comment}{/*\ dim\ colors\ of\ stamps\ */}}
\DoxyCodeLine{00369\ \ \ \ \ len\ +=\ \mbox{\hyperlink{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf}{LOG\_ADD\_COLOR}}(header\ +\ len,\ size\ -\/\ len,\ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c}{LOG\_COLOR\_GRAY}});}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \ \ \ \ \textcolor{comment}{/*\ log\ datestamps\ */}}
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{logbank_8c_a6e1cbcfba04606a1ea81d837e75cf182}{log\_datestamp}})\ \{}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ date\_stamp[\mbox{\hyperlink{logbank_8c_a9c3be125d60c2afbb469cfe890546132}{LOG\_DATE\_LEN}}];}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logbank_8c_a7428ec2d45d3df3bbb27094a8f8d585a}{log\_stamp\_collector}}(date\_stamp,\ \mbox{\hyperlink{logbank_8c_a1ea36cc09a0aa530b338c94960baf512}{LOG\_DATE\_FORMAT}},\ \textcolor{keyword}{sizeof}(date\_stamp));}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ len\ +=\ snprintf(header\ +\ len,\ size\ -\/\ len,\ \textcolor{stringliteral}{"{}\%s\ "{}},\ date\_stamp);}
\DoxyCodeLine{00377\ \ \ \ \ \}}
\DoxyCodeLine{00378\ }
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{comment}{/*\ log\ timestamps\ */}}
\DoxyCodeLine{00380\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{logbank_8c_a78f29241d03102718e247b5869f41e58}{log\_timestamp}})\ \{}
\DoxyCodeLine{00381\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ time\_stamp[\mbox{\hyperlink{logbank_8c_af908196e407bb67394664c7b0d5999b8}{LOG\_TIME\_LEN}}];}
\DoxyCodeLine{00382\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{logbank_8c_a7428ec2d45d3df3bbb27094a8f8d585a}{log\_stamp\_collector}}(time\_stamp,\ \mbox{\hyperlink{logbank_8c_a1273f9f835f4a7ad5304c7e633e20b68}{LOG\_TIME\_FORMAT}},\ \textcolor{keyword}{sizeof}(time\_stamp));}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \ \ \ \ \ \ len\ +=\ snprintf(header\ +\ len,\ size\ -\/\ len,\ \textcolor{stringliteral}{"{}\%s\ "{}},\ time\_stamp);}
\DoxyCodeLine{00385\ \ \ \ \ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ \ \ \textcolor{comment}{/*\ use\ pre-\/defined\ color\ for\ level\ names\ */}}
\DoxyCodeLine{00388\ \ \ \ \ len\ +=\ \mbox{\hyperlink{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf}{LOG\_ADD\_COLOR}}(header\ +\ len,\ size\ -\/\ len,\ level);}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{comment}{/*\ Reading\ name\ of\ requested\ priority-\/level\ */}}
\DoxyCodeLine{00391\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ name\ =\ \mbox{\hyperlink{logbank_8c_a2f37fc38d4885ae4fd5f499787e5f550}{log\_get\_levelname}}(level);}
\DoxyCodeLine{00392\ }
\DoxyCodeLine{00393\ \ \ \ \ \textcolor{comment}{/*\ log\ priority-\/level\ name\ */}}
\DoxyCodeLine{00394\ \ \ \ \ \textcolor{keywordflow}{if}\ (level\ ==\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99a1d2ddc2d110200d6c342359bd0e19a3c}{LOG\_INFO}}\ ||\ level\ ==\ \mbox{\hyperlink{logbank_8h_a6cfcf0d1e54151523d73f747ea51ba99aaf5ddc798d2875139456400b5c18897d}{LOG\_WARN}})\ \{}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ len\ +=\ snprintf(header\ +\ len,\ size\ -\/\ len,\ \textcolor{stringliteral}{"{}[\%s]\ \ "{}},\ name);}
\DoxyCodeLine{00396\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ len\ +=\ snprintf(header\ +\ len,\ size\ -\/\ len,\ \textcolor{stringliteral}{"{}[\%s]\ "{}},\ name);}
\DoxyCodeLine{00398\ \ \ \ \ \}}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00400\ \ \ \ \ \textcolor{comment}{/*\ log\ location\ parameters\ */}}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keywordflow}{if}\ (locate.\mbox{\hyperlink{structlog__locate__t_a0c90ea314fda6ca6929a7a3d9bfc221e}{func}}\ !=\ NULL\ \&\&\ locate.\mbox{\hyperlink{structlog__locate__t_ad00d25abaa1a72cd0735c44774978978}{file}}\ !=\ NULL)\ \{}
\DoxyCodeLine{00402\ }
\DoxyCodeLine{00403\ \ \ \ \ \ \ \ \ \textcolor{comment}{/*\ dim\ color\ of\ location\ parameters\ and\ revert\ to\ color\ of\ log\ priority-\/level\ */}}
\DoxyCodeLine{00404\ \ \ \ \ \ \ \ \ len\ +=\ \mbox{\hyperlink{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf}{LOG\_ADD\_COLOR}}(header\ +\ len,\ size\ -\/\ len,\ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433aad42a62a0408f4fc9d39ec33f740666c}{LOG\_COLOR\_GRAY}});}
\DoxyCodeLine{00405\ \ \ \ \ \ \ \ \ len\ +=\ snprintf(header\ +\ len,\ size\ -\/\ len,\ \textcolor{stringliteral}{"{}@\ \%s()\ \(\backslash\)"{}\%s\ +\%d\(\backslash\)"{}\ "{}},\ locate.\mbox{\hyperlink{structlog__locate__t_a0c90ea314fda6ca6929a7a3d9bfc221e}{func}},}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ locate.\mbox{\hyperlink{structlog__locate__t_ad00d25abaa1a72cd0735c44774978978}{file}},\ locate.\mbox{\hyperlink{structlog__locate__t_a0b90d39ff2c7402e79dc2d495734b2a2}{line}});}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ len\ +=\ \mbox{\hyperlink{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf}{LOG\_ADD\_COLOR}}(header\ +\ len,\ size\ -\/\ len,\ level);}
\DoxyCodeLine{00409\ \ \ \ \ \}}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ \ \ \textcolor{comment}{/*\ log\ separator\ between\ header\ (message-\/prefix)\ and\ message\ */}}
\DoxyCodeLine{00412\ \ \ \ \ len\ +=\ snprintf(header\ +\ len,\ size\ -\/\ len,\ \textcolor{stringliteral}{"{}:\ "{}});}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \ \ \textcolor{comment}{/*\ terminate\ the\ use\ of\ colors\ */}}
\DoxyCodeLine{00415\ \ \ \ \ len\ +=\ \mbox{\hyperlink{logbank_8c_a875a1f15b875e248631c03fc1ecaa2bf}{LOG\_ADD\_COLOR}}(header\ +\ len,\ size\ -\/\ len,\ \mbox{\hyperlink{logbank_8c_a64c85acabf7cb23619533dcb80b17433a5613cf6c3b020220241b21c13b5f7c70}{LOG\_COLOR\_END}});}
\DoxyCodeLine{00416\ }
\DoxyCodeLine{00417\ \ \ \ \ \textcolor{keywordflow}{return}\ len;}
\DoxyCodeLine{00418\ \}}

\end{DoxyCode}


\doxysubsection{Variable Documentation}
\Hypertarget{logbank_8c_a190f05562784d975771cf3c914c5fe45}\label{logbank_8c_a190f05562784d975771cf3c914c5fe45} 
\index{logbank.c@{logbank.c}!color\_list@{color\_list}}
\index{color\_list@{color\_list}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{color\_list}{color\_list}}
{\footnotesize\ttfamily color\+\_\+list\hspace{0.3cm}{\ttfamily [static]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{=\ \{\textcolor{stringliteral}{"{}\(\backslash\)x1b[96m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[32m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[93m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[31m"{}},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)x1b[95m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[34m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[90m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[0m"{}}\}}

\end{DoxyCode}


list of available ANSI color codes for foregound text 



Definition at line \mbox{\hyperlink{logbank_8c_source_l00204}{204}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\textcolor{stringliteral}{"{}\(\backslash\)x1b[96m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[32m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[93m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[31m"{}},}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\(\backslash\)x1b[95m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[34m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[90m"{}},\ \textcolor{stringliteral}{"{}\(\backslash\)x1b[0m"{}}\};}

\end{DoxyCode}
\Hypertarget{logbank_8c_a189d4d789654e3342bdde4f60875aa1e}\label{logbank_8c_a189d4d789654e3342bdde4f60875aa1e} 
\index{logbank.c@{logbank.c}!log\_color@{log\_color}}
\index{log\_color@{log\_color}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_color}{log\_color}}
{\footnotesize\ttfamily log\+\_\+color = \mbox{\hyperlink{logbank_8h_a2671a6aa5ca95c2a6c3fd0032e7880d5}{LOG\+\_\+\+COLOR}}\hspace{0.3cm}{\ttfamily [static]}}



current preferrence on use of color 

Default value of log\+\_\+color is copied directly from \doxylink{logbank_8h_a2671a6aa5ca95c2a6c3fd0032e7880d5}{LOG\+\_\+\+COLOR} \begin{DoxyNote}{Note}
color can still be disabled using \doxylink{logbank_8c_a454f3ad6bafae1ecc3ff96410f7f1ea3}{LOG\+\_\+\+USE\+\_\+\+COLOR} 
\end{DoxyNote}


Definition at line \mbox{\hyperlink{logbank_8c_source_l00198}{198}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a6e1cbcfba04606a1ea81d837e75cf182}\label{logbank_8c_a6e1cbcfba04606a1ea81d837e75cf182} 
\index{logbank.c@{logbank.c}!log\_datestamp@{log\_datestamp}}
\index{log\_datestamp@{log\_datestamp}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_datestamp}{log\_datestamp}}
{\footnotesize\ttfamily log\+\_\+datestamp = \mbox{\hyperlink{logbank_8h_a5f56d981e5b55df4bee5c7a5b6b44007}{LOG\+\_\+\+DATESTAMP}}\hspace{0.3cm}{\ttfamily [static]}}



This value controls the use of date stamps. 

Default value of log\+\_\+datestamp is copied directly from \doxylink{logbank_8h_a5f56d981e5b55df4bee5c7a5b6b44007}{LOG\+\_\+\+DATESTAMP} 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00291}{291}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a05d8923dbf1550325f81ba53458f31c8}\label{logbank_8c_a05d8923dbf1550325f81ba53458f31c8} 
\index{logbank.c@{logbank.c}!log\_fptr@{log\_fptr}}
\index{log\_fptr@{log\_fptr}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_fptr}{log\_fptr}}
{\footnotesize\ttfamily log\+\_\+fptr = NULL\hspace{0.3cm}{\ttfamily [static]}}



This variable stores the file pointer being used to write-\/stream. 

Default value is NULL 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00277}{277}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_ac91d55174d383848b976a34de843748e}\label{logbank_8c_ac91d55174d383848b976a34de843748e} 
\index{logbank.c@{logbank.c}!log\_level@{log\_level}}
\index{log\_level@{log\_level}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_level}{log\_level}}
{\footnotesize\ttfamily log\+\_\+level = \mbox{\hyperlink{logbank_8h_a0b87e0d3bf5853bcbb0b66a7c48fdc05}{LOG\+\_\+\+LEVEL}}\hspace{0.3cm}{\ttfamily [static]}}



This value acts as a filter to discard lower-\/priority log-\/requests. 

Default value of log\+\_\+level is copied directly from \doxylink{logbank_8h_a0b87e0d3bf5853bcbb0b66a7c48fdc05}{LOG\+\_\+\+LEVEL} 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00270}{270}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc}\label{logbank_8c_a7e19291b515046d7ab2c178cf3d8dbdc} 
\index{logbank.c@{logbank.c}!log\_path@{log\_path}}
\index{log\_path@{log\_path}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_path}{log\_path}}
{\footnotesize\ttfamily log\+\_\+path = "{}$<$not-\/set$>$"{}\hspace{0.3cm}{\ttfamily [static]}}



This string is the path to file in use to write-\/stream. 

Default value is "{}$<$not-\/set$>$"{} 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00284}{284}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2}\label{logbank_8c_ae6b4fb7774b5bf67f249a6ff0327f0e2} 
\index{logbank.c@{logbank.c}!log\_queue@{log\_queue}}
\index{log\_queue@{log\_queue}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_queue}{log\_queue}}
{\footnotesize\ttfamily log\+\_\+queue\hspace{0.3cm}{\ttfamily [static]}}



circular queue (FIFO) used for retrieval of recent logs 



Definition at line \mbox{\hyperlink{logbank_8c_source_l00263}{263}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_aecd1c33eda8dadb496cecee02527b6a3}\label{logbank_8c_aecd1c33eda8dadb496cecee02527b6a3} 
\index{logbank.c@{logbank.c}!log\_time\_fn@{log\_time\_fn}}
\index{log\_time\_fn@{log\_time\_fn}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_time\_fn}{log\_time\_fn}}
{\footnotesize\ttfamily log\+\_\+time\+\_\+fn (\begin{DoxyParamCaption}\item[{const time\+\_\+t \texorpdfstring{$\ast$}{*}}]{ }\end{DoxyParamCaption}) = NULL\hspace{0.3cm}{\ttfamily [static]}}



This function pointer points to a correct time-\/function based on time-\/zone. 

Possible values\+:
\begin{DoxyItemize}
\item NULL
\item localtime
\item gmtime \begin{DoxyNote}{Note}
log\+\_\+stamp\+\_\+collector uses localtime when this is NULL 
\end{DoxyNote}

\end{DoxyItemize}

Definition at line \mbox{\hyperlink{logbank_8c_source_l00298}{298}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

\Hypertarget{logbank_8c_a78f29241d03102718e247b5869f41e58}\label{logbank_8c_a78f29241d03102718e247b5869f41e58} 
\index{logbank.c@{logbank.c}!log\_timestamp@{log\_timestamp}}
\index{log\_timestamp@{log\_timestamp}!logbank.c@{logbank.c}}
\doxysubsubsection{\texorpdfstring{log\_timestamp}{log\_timestamp}}
{\footnotesize\ttfamily log\+\_\+timestamp = \mbox{\hyperlink{logbank_8h_abc368d21141fd7f00227bbe05c8a476c}{LOG\+\_\+\+TIMESTAMP}}\hspace{0.3cm}{\ttfamily [static]}}



This value controls the use of time stamps. 

Default value of log\+\_\+timestamp is copied directly from \doxylink{logbank_8h_abc368d21141fd7f00227bbe05c8a476c}{LOG\+\_\+\+TIMESTAMP} 

Definition at line \mbox{\hyperlink{logbank_8c_source_l00298}{298}} of file \mbox{\hyperlink{logbank_8c_source}{logbank.\+c}}.

